Plecs {
  Name          "my_three_phase_t_type_inverter"
  Version       "4.9"
  CircuitModel  "ContStateSpace"
  StartTime     "0.0"
  TimeSpan      "10"
  Timeout       ""
  Solver        "radau"
  MaxStep       "1e-3"
  InitStep      "-1"
  FixedStep     "1e-3"
  Refine        "1"
  ZCStepSize    "1e-9"
  RelTol        "1e-3"
  AbsTol        "-1"
  TurnOnThreshold "0"
  NonIdealSwitchResistance "1"
  SyncFixedStepTasks "2"
  UseSingleCommonBaseRate "2"
  LossVariableLimitExceededMsg "3"
  NegativeSwitchLossMsg "3"
  DivisionByZeroMsg "2"
  DatatypeOverflowMsg "2"
  DatatypeInheritanceConflictMsg "1"
  ContSampleTimeConflictMsg "1"
  StiffnessDetectionMsg "2"
  MaxConsecutiveZCs "1000"
  AlgebraicLoopWithStateMachineMsg "3"
  AssertionAction "1"
  FixedPointDatatypeOverride "1"
  InitializationCommands base64 "JSUgIyBCVVMgU0VUVVAgLS0tLS0tLS0tLS0tLS0tLS0tL"
"S0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS"
"0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0"
"tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpDYnVzUCA9IDEuNDFlLTM7ICUgb3V0"
"cHV0IGNhcGFjaXRvcgpDYnVzTiA9IDEuNDFlLTM7ICUgb3V0cHV0IGNhcGFjaXRvcgpDYnVzID0gM"
"S8oMS9DYnVzUCArIDEvQ2J1c04pOwoKCgpWYnVzUmVmQnlQVl9Jbml0ID0gMDsgICAgICAlIFtWXS"
"AtIERDIGJ1cyBpbml0aWFsIHZvbHRhZ2Ugb2YgY2FwYWNpdGFuY2UKVmJ1c1JlZkJ5UFYgPSA2MDA"
"7ICAgJSBbVl0gLSBEQyBidXMgZGVzaXJlZCB2b2x0YWdlIG9mIGNhcGFjaXRhbmNlClZidXNSZWZC"
"eUJhdCA9IDYwMDsKVmJ1c1JlZkJ5SW52ID0gNjAwOwoKCmZzdyA9IDE2ZTM7ICAlIFtIel0gLSBzd"
"2l0Y2hpbmcgZnJlcXVlbmN5IAoKCgolJSAjIFBBUlQgMSAgUFYgU0VUVVAgLS0tLS0tLS0tLS0tLS"
"0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0"
"tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t"
"LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQolJSAjIyBQViBCT09TVCDniannkIblj"
"4LmlbAKCiUlJSBTb2xhciBQYW5lbCAoS0MyMDBHVCBTb2xhciBBcnJheSkKTnVtYmVyT2ZTZXJpZX"
"NDb25uZWN0ZWRQYW5lbHMgPSAyMjsgICAlIFtdIC0gbnVtYmVyIG9mIHBhbmVscyBjb25uZWN0ZWQ"
"gaW4gc2VyaWVzIGluIHRoZSBzeXN0ZW0KClNQLk5zID0gNTQ7ICAgICAgICUgW10gLSBudW1iZXIg"
"b2Ygc29sYXIgY2VsbHMgaW4gYSBzdHJpbmcgaW4gc29sYXIgYXJyYXkKU1AuTnAgPSAzOyAgICAgI"
"CAgJSBbXSAtIG51bWJlciBvZiBzb2xhciBjZWxsIHN0cmluZ3MgaW4gcGFyYWxsZWwgc29sYXIgYX"
"JyYXkKClNQLlRfbiA9IDI1OyAgICAgICUgW0NdIC0gbm9taW5hbCB0ZW1wZXJhdHVyZSBvZiBzb2x"
"hciBjZWxscwpTUC5HX24gPSAxMDAwOyAgICAlIFtXL21eMl0gLSBub21pbmFsIGlycmFkaWF0aW9u"
"IG9mIHNvbGFyIGNlbGxzClNQLlZfT0NfbiA9IDMyLjk7ICUgW1ZdIC0gbm9taW5hbCBvcGVuIGNpc"
"mN1aXQgdm9sdGFnZSBvZiBhcnJheSAoc2luZ2xlIHBhbmVsIGluIHN5c3RlbSkKU1AuSV9TQ19uID"
"0gOC4yMTsgJSBbQV0gLSBub21pbmFsIHNob3J0IGNpcmN1aXQgY3VycmVudCBvZiBhcnJheQoKU1A"
"uUnMgPSAwLjIyMTsgICAgJSBbb2htXSAtIGVxdXZhbGVudCBzZXJpZXMgcmVzaXN0YW5jZSBvZiBh"
"cnJheQpTUC5ScCA9IDQxNS40MDU7ICAlIFtvaG1dIC0gZXF1dmFsZW50IHBhcmFsbGVsIHJlc2lzd"
"GFuY2Ugb2YgYXJyYXkKClNQLmEgPSAxLjM7ICAgICAgICUgW10gLSBkaW9kZSBpZGVhbGl0eSBjb2"
"5zdGFudAoKU1AuS19WID0gLTAuMTIzMDsgJSBbVi9LXSAtIHRoZXJtYWwgdm9sdGFnZSBjb2VmZml"
"jaWVudCBvZiBhcnJheQpTUC5LX0kgPSAwLjAwMzI7ICAlIFtBL0tdIC0gdGhlcm1hbCBjdXJyZW50"
"IGNvZWZmaWNpZW50IG9mIGFycmF5CgolJSUgUFYgYm9vc3QgQ29udmVydGVyCkNwdiA9IDEyZS02O"
"wklIFtGXSAtIGlucHV0IGNhcGFjaXRhbmNlIG9mIHRoZSBQViBib29zdApMcHYgPSAxZS0zOyAgIC"
"AlIFtIXSAtIGJvb3N0IHN0YWdlIGluZHVjdG9yClJwdiA9IDFlLTM7ICAgICUgW09obV0gLSBib29"
"zdCBzdGFnZSBpbmR1Y3RvciByZXNpc3RhbmNlCgoKCgoKJSUgIyMgUFYgQk9PU1Qg5o6n5Yi25Y+C"
"5pWwCgoKQnN0TWluRHV0eSA9IDAuMDsgJSBbXSAtIG1pbmltdW0gYWxsb3dhYmxlIGR1dHkgY3ljb"
"GUgZm9yIGJvb3N0IGNvbnZlcnRlcgpCc3RNYXhEdXR5ID0gMC45NTsgJSBbXSAtIG1heGltdW0gYW"
"xsb3dhYmxlIGR1dHkgY3ljbGUgZm9yIGJvb3N0IGNvbnZlcnRlcgoKJSUgQ3VycmVudC1jb250cm9"
"sbGVyOgoKJSBTbWFsbCB0aW1lIGNvbnN0YW50czoKClBWQ0MuVF9zdyA9IDEvZnN3OyAgJSBbc10g"
"LSBzd2l0Y2hpbmcgcGVyaW9kClBWQ0MuVF9QV00gPSAwLjUqUFZDQy5UX3N3OyAlIFtzXSAtIFBXT"
"SBtb2R1bGF0b3Igc21hbGwgdGltZSBjb25zdGFudAoKUFZDQy5UX2NzID0gMi8oMipwaSooNTBlMy"
"kpOyAlIFtzXSAtIEN1cnJlbnQgc2Vuc29yIHNtYWxsIHRpbWUgY29uc3RhbnQgKDUwIGtIeiBiYW5"
"kd2lkdGgpCgpQVkNDLmZfc2FtcCA9IGZzdzsgJSBbSHpdIC0gU2FtcGxpbmcgZnJlcXVlbmN5ClBW"
"Q0MuVF9zYW1wID0gMS9QVkNDLmZfc2FtcDsgJSBbc10gLSBTYW1wbGluZyBzbWFsbCB0aW1lIGNvb"
"nN0YW50CgpQVkNDLlRfcGUgPSBQVkNDLlRfUFdNICsgUFZDQy5UX2NzICsgUFZDQy5UX3NhbXA7IC"
"UgW3NdIC0gRXF1aXZhbGVudCBzbWFsbCB0aW1lIGNvbnN0YW50CgolIERvbWluYW50IHRpbWUgY29"
"uc3RhbnRzOgpQVkNDLlRuID0gTHB2L1JwdjsgJSBbXSAtIHRpbWUgY29uc3RhbnQgZm9yIG51bWVy"
"YXRvcgpQVkNDLlRpID0gKDIqUFZDQy5UX3BlKS9ScHY7ICUgW10gLSB0aW1lIGNvbnN0YW50IGZvc"
"iBkZW5vbWluYXRvcgoKJSBDb250cm9sbGVyIERlc2lnbjoKUFZDQy5LcD1QVkNDLlRuL1BWQ0MuVG"
"k7ICUgW10gLSBLcCBnYWluClBWQ0MuS2k9MS9QVkNDLlRpOyAgICAgJSBbSHpdIC0gS2kgZ2Fpbgp"
"QVkNDLktfYXc9MS9QVkNDLktwOyAgICUgW10gLSBhbnRpLXdpbmR1cCBnYWluClBWQ0MudXBwZXI9"
"MjA7ClBWQ0MubG93ZXI9MDsKCiUlIFZvbHRhZ2UgY29udHJvbGxlciAoRENEQykKUFZWQy5UcF9Wb"
"G9vcCA9IDEwL2ZzdzsKUFZWQy5Uc3A9UFZWQy5UcF9WbG9vcDsKUFZWQy5UaV9WbG9vcCA9IDgvQ3"
"B2KlBWVkMuVHBfVmxvb3AqUFZWQy5UcF9WbG9vcDsKUFZWQy5Ubl9WbG9vcCA9IDQqUFZWQy5UcF9"
"WbG9vcDsKClBWVkMuS3AgPSBQVlZDLlRuX1Zsb29wL1BWVkMuVGlfVmxvb3A7ClBWVkMuS2kgPSAx"
"L1BWVkMuVGlfVmxvb3A7ClBWVkMuS19hdz0xL1BWVkMuS3A7ClBWVkMudXBwZXI9MTAwMDsKUFZWQ"
"y5sb3dlcj0wOwoKJSUgTVBQVCBDb250cm9sbGVyOgoKTVBQVEN0cmwuVF9zYW1wID0gMS8xMDA7IC"
"UgTVBQVCBleGVjdXRpb24gdGltZQoKJSBHbG9iYWwgU2VhcmNoCgpHbG9iYWwuc2VhcmNoVGhyZXN"
"ob2xkID0gMC4xOyAgJSBbXSAtIGNoYW5nZSBpbiBwb3dlciBnZW5lcmF0aW9uIG9mIDEwJSBlbmFi"
"bGVzIGdsb2JhbCBzZWFyY2gKR2xvYmFsLlZSZWZNaW4gPSBTUC5WX09DX24gKiBOdW1iZXJPZlNlc"
"mllc0Nvbm5lY3RlZFBhbmVscyAqIDAuMTsgICUgW10gLSBzZXQgbWluaW11bSByZWZlcmVuY2Ugdm"
"9sdGFnZSBmb3IgZ2xvYmFsIHNlYXJjaCBhdCAxMCUgb2Ygc3lzdGVtIFZPQwpHbG9iYWwuVlJlZk1"
"heCA9IFNQLlZfT0NfbiAqIE51bWJlck9mU2VyaWVzQ29ubmVjdGVkUGFuZWxzICogMC45NTsgICUg"
"W10gLSBzZXQgbWluaW11bSByZWZlcmVuY2Ugdm9sdGFnZSBmb3IgZ2xvYmFsIHNlYXJjaCBhdCA5N"
"SUgb2Ygc3lzdGVtIFZPQwpHbG9iYWwubnVtR2xvYmFsU2VhcmNoWm9uZXMgPSAyMDsgICUgW10gLS"
"BudW1iZXIgb2Ygdm9sdGFnZSB6b25lcyBkdXJpbmcgZ2xvYmFsIHNlYXJjaCBzd2VlcApHbG9iYWw"
"ubnVtT2ZTdGFiaWxpemF0aW9uQ3ljbGVzID0gMTA7ICAlIFtdIC0gbnVtYmVyIG9mIGNvdW50cyBi"
"ZWZvcmUgYW5vdGhlciBnbG9iYWwgc2VhcmNoIGNhbiBiZSBwZXJmb3JtZWQKCiUgSW5jcmVtZW50Y"
"WwgQ29uZHVjdGFuY2UgTWV0aG9kIChJTkMpOgoKSU5DLlZTdG9wTGltaXQgPSAxZS00OyAlIFtWXS"
"AtIHN0b3BwaW5nIGNyaXRlcmlhIGZvciB2b2x0YWdlIGNoYW5nZQpJTkMuSVN0b3BMaW1pdCA9IDF"
"lLTM7ICUgW0FdIC0gc3RvcHBpbmcgY3JpdGVyaWEgZm9yIGN1cnJlbnQgY2hhbmdlCklOQy5QU3Rv"
"cExpbWl0ID0gMWUtMzsgJSBbV10gLSBzdG9wcGluZyBjcml0ZXJpYSBmb3IgcG93ZXIgY2hhbmdlC"
"gpJTkMuVnJlZlN0ZXBNYXggPSAzKlNQLlZfT0NfbiAqIDAuMTU7ICUgW1ZdIC0gbWF4aW11bSBzdG"
"VwIGNoYW5nZSBpbiB2b2x0YWdlCgpJTkMuZFBkVk1heCA9IDgwOyAlIFtXL1ZdIC0gbWF4aW11bSB"
"zbG9wZSBvZiBjaGFuZ2UgaW4gcG93ZXIgcGVyIHVuaXQgY2hhbmdlIGluIHZvbHRhZ2UKCklOQy5B"
"bHBoYSA9IElOQy5WcmVmU3RlcE1heC9JTkMuZFBkVk1heDsgJSBbVl4yL1ddIC0gYWNjZWxlcmF0a"
"W9uIGZhY3RvcgpJTkMuQmV0YSA9IDAuMTsgJSBbVi9BXSAtIGFjY2VsZXJhdGlvbiBmYWN0b3IKCi"
"UgUGVydHVyYiBhbmQgT2JzZXJ2ZSBNZXRob2Q6CgpQbk8uVnJlZlN0ZXBNaW4gPSAxOyAgJSBbVl0"
"gLSBtaW5pbXVtIHN0ZXAgY2hhbmdlIGluIHZvbHRhZ2UKUG5PLmRQZFZNYXggPSAxNTsgICAgICUg"
"W1cvVl0gLSBtYXhpbXVtIHNsb3BlIG9mIGNoYW5nZSBpbiBwb3dlciBwZXIgdW5pdCBjaGFuZ2Uga"
"W4gdm9sdGFnZQpQbk8uZFBkVk1pbiA9IC0xMDsgICAgJSBbVy9WXSAtIG1pbmltdW0gc2xvcGUgb2"
"YgY2hhbmdlIGluIHBvd2VyIHBlciB1bml0IGNoYW5nZSBpbiB2b2x0YWdlClBuTy5WcmVmQ2hhbmd"
"lRmFjdG9yID0gMC4yNTsgJSBbXSAtIGFjY2VsZXJhdGlvbiBmYWN0b3IKCgoKJSVQQVJUIDIgQkFU"
"IFNFVFVQIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL"
"S0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS"
"0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0"
"tLQolJSBCYXR0ZXJ5IFBhcmFtZXRlcnMKCgpuX3NlcmllcyA9IDEwMDsgJSBudW1iZXIgb2Ygc2Vy"
"aWVzLWNvbm5lY3RlZCBjZWxscwpuX3BhcmFsbGVsID0gMTsgJSBudW1iZXIgb2YgcGFyYWxsZWwgY"
"nJhbmNoZXMKU09DX2luaXQgPSAwLjk5OTsgJSBpbml0aWFsIFNPQwoKY2VsbF9jYXAgPSA2LjU7IC"
"UgQ2VsbCBjYXBhY2l0YW5jZQpwYWNrX2NhcCA9IGNlbGxfY2FwICogbl9wYXJhbGxlbDsgJSBQYWN"
"rIGNhcGFjaXRhbmNlCgpjZWxsX0NvbnN0SSA9IDEuMzsgJSBUYXJnZXQgY29uc3RhbnQgY2hhcmdp"
"bmcgY3VycmVudCBmb3IgZWFjaCBjZWxsCmNlbGxfQ29uc3RWID0gNC4xOyAlIFRhcmdldCBjb25zd"
"GFudCBjaGFyZ2luZyB2b2x0YWdlIGZvciBlYWNoIGNlbGwKCkNvbnN0SSA9IGNlbGxfQ29uc3RJIC"
"ogbl9wYXJhbGxlbDsgJSBUYXJnZXQgY29uc3RhbnQgY2hhcmdpbmcgY3VycmVudApDb25zdFYgPSB"
"jZWxsX0NvbnN0ViAqIG5fc2VyaWVzOyAlIFRhcmdldCBjb25zdGFudCBjaGFyZ2luZyB2b2x0YWdl"
"CgpNQVhfU09DID0gMC45NzsgJSBTdGF0ZSBvZiBjaGFyZ2Ugd2hlbiBiYXR0ZXJ5IGNoYXJnaW5nI"
"GlzIHN0b3BwZWQKCgolJSBCVUNLLUJPT1NUIERDL0RDIENvbnZlcnRlcgoKCkNiYXQgPSAxMmUtNj"
"sgJSBpbnB1dCBjYXBhY2l0b3IKTGJhdCA9IDg1MGUtNjsgJSBpbmR1Y3RhbmNlIG9mIG91dHB1dCB"
"jaG9rZQpSYmF0ID0gMC4wMTsgJSBFU1Igb2Ygb3V0cHV0IGNob2tlCgoKVmJhdEluaXQgPSBuX3Nl"
"cmllcypjZWxsX0NvbnN0ViowLjg5Nzg2OyAlIGluaXRpYWwgY29uZGl0aW9uIGZvciBpbnB1dCBjY"
"XAKCgpCTVMuSW91dG1heCA9IDMwOyAlIG1heCBkaXNjaGFyZ2UgY3VycmVudApCTVMuSWlubWF4ID"
"0gLSBCTVMuSW91dG1heDsgJSBtYXggcmVnZW4gY3VycmVudAogCgoKCiUlIEN1cnJlbnQgQ29udHJ"
"vbGxlcgpCTVMuZl9JbG9vcCA9IGZzdzsgJSBzYW1wbGluZyBmcmVxdWVuY3kgCkJNUy5UcF9JbG9v"
"cCA9ICgxLjAvZnN3KS8yOyAlIGVxdWl2YWxlbnQgZGVsYXkKCkJNUy5UaV9JbG9vcCA9IDIvUmJhd"
"CpCTVMuVHBfSWxvb3A7CkJNUy5Ubl9JbG9vcCA9IExiYXQvUmJhdDsKCkJNUy5Ja3AgPSBCTVMuVG"
"5fSWxvb3AvQk1TLlRpX0lsb29wOyAlIEtwCkJNUy5Ja2kgPSAxL0JNUy5UaV9JbG9vcDsgJSBLaQo"
"KJSUgVm9sdGFnZSBDb250cm9sbGVyCkJNUy5mX1Zsb29wID0gZnN3LzEwOyAlIHNhbXBsaW5nIGZy"
"ZXF1ZW5jeSAKQk1TLlRwX1Zsb29wID0gKDEuMC9CTVMuZl9WbG9vcCkvMjsgJSBlcXVpdmFsZW50I"
"GRlbGF5CgpCTVMuVGlfVmxvb3AgPSA4L0NidXMqQk1TLlRwX1Zsb29wKkJNUy5UcF9WbG9vcDsKQk"
"1TLlRuX1Zsb29wID0gNCpCTVMuVHBfVmxvb3A7CgpCTVMuVmtwID0gQk1TLlRuX1Zsb29wL0JNUy5"
"UaV9WbG9vcDsgJSBLcApCTVMuVmtpID0gMS9CTVMuVGlfVmxvb3A7ICUgS2kKCgoKCiVQQVJUIDMg"
"IFQtdHlwZSBpbnZlcnRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL"
"S0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS"
"0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiU"
"gRWxlY3RyaWNhbCBwYXJhbWV0ZXJzClZpbiA9IFZidXNSZWZCeUludjsJCQkJCQkJJSBpbnB1dCB2"
"b2x0YWdlIChWLGRjKQpGID0gNTA7CQkJCQkJCQklIGdyaWQgZnJlcXVlbmN5IChIeikKVm91dCA9I"
"DM4MDsJCQkJCQkJJSBvdXRwdXQgdm9sdGFnZSAoVl9sbCwgcm1zKQpTbWF4ID0gMTUwMDA7CQkJCQ"
"kJJSByYXRlZCBwb3dlciAoVkEpCkxiID0gVm91dF4yLyhTbWF4KjIqcGkqRik7ICAgCSUgc3lzdGV"
"tIGJhc2UgaW5kdWN0YW5jZSAoSCkKJUwgPSAwLjA1KkxiOwkJCQkJCSUgbWFpbiBpbmR1Y3RhbmNl"
"IChIKQpMID03NTBlLTY7CiUgSW5wdXQgcGFyYW1ldGVycyBhcmUgaW4gUk1TIGFuZCBsaW5lLXRvL"
"WxpbmUKVnNyYyA9IFZvdXQqc3FydCgyLzMpOwkJCSUgY29udmVydCB0byBwZWFrIGFuZCBsaW5lLX"
"RvLW5ldXRyYWwKSXJhdGVkID0gMi8zKlNtYXgvVnNyYzsJCQklIHJhdGVkIG91dHB1dCBjdXJyZW5"
"0IChBKQolIENvbnRvbGxlciBzZXQgcG9pbnRzCmlNYWcgPSAxLjA7CQkJCQkgICAgCSUgb3V0cHV0"
"IGN1cnJlbnQgKHBlciB1bml0KQpwaGkgID0gcGkvMjsJCQkgICAgICAgICAlIFBvd2VyIGZhY3Rvc"
"iBhbmdsZSAoUmFkKQolIENvbnRyb2xsZXIgcGFyYW1ldGVycwptb2RTY2hlbWUgPSAxOwkJCQkJCS"
"UgRGVmYXVsdCBzaW51c29pZGFsIFBXTQoKS3AgPSAxOwkJCQkJCQkJJSBwcm9wb3J0aW9uYWwgZ2F"
"pbgpLaSA9IDEwMDsJCQkJCQkJJSBpbnRlZ3JhbCBnYWluCnREZWFkID0gMC4wMDUvZnN3OwkJCQkl"
"IGRlYWR0aW1lIChzKQoKJSBEZXZpY2UgcGFyYW1ldGVycwolIERlZmluZSB0aGVybWFsIGRhdGEgZ"
"m9yIHRoZSBDM00wMDY1MTAwSwpDM00wMDY1MTAwSyA9IHN0cnVjdCggLi4uCiAgICd0aGVybV9tb3"
"NmZXQnLCAJICdmaWxlOkMzTTAwNjUxMDBLJywgLi4uIAklIFdvbGZzcGVlZCBNT1NGRVQgdGhlcm1"
"hbCBkZXNjcmlwdGlvbgogICAndGhlcm1fYm9keV9kaW9kZScsJ2ZpbGU6QzNNMDA2NTEwMEtfYm9k"
"eWRpb2RlJywgLi4uICUgYm9keSBkaW9kZSB0aGVybWFsIGRlc2NyaXB0aW9uCiAgICdyb25fbW9zZ"
"mV0JywgCQkwLjA2NSwgLi4uCSUgTU9TRkVUIG9uLXJlc2lzdGFuY2UgIChvaG1zKQogICAndmZfYm"
"9keV9kaW9kZScsICAxLjksICAgLi4uICAlIGZvcndhcmQgdm9sdGFnZSBkaW9kZSBmcm9tIGJvZHk"
"gZGlvZGUgY3VydmUgQDI1QyAmIFZncz0wViAoVikKICAgJ3Jvbl9ib2R5X2Rpb2RlJywgMC4wOTMs"
"IC4uLiAgJSBkaW9kZSBvbi1yZXNpc3RhbmNlIGZyb20gYm9keSBkaW9kZSBjdXJ2ZSBAMjVDICYgV"
"mdzPTBWIChvaG1zKQogICAnUmdvbicsIAkJCQkyLjUsCSAuLi4JJSBleHRlcm5hbCB0dXJuLW9uIG"
"dhdGUgcmVzaXN0YW5jZSAob2htcykKICAgJ1Jnb2ZmJywgCQkJMi41LAkgLi4uCSUgZXh0ZXJuYWw"
"gdHVybi1vZmYgZ2F0ZSByZXNpc3RhbmNlIChvaG1zKQogICAnVmRzbWF4JywgCQkJMTAwMCwJIC4u"
"LgklIG1heCBkZXZpY2UgZHJhaW4tc291cmNlIHZvbHRhZ2UgcmF0aW5nIChWKQogICAnSWRzbWF4J"
"ywgCQkJMzUsCSAuLi4JJSBtYXggZHJhaW4gY3VycmVudCByYXRpbmcgQCAyNSBDKEEpCiAgICdUam"
"1heCcsIAkJCTE1MCwJIC4uLgklIG1heCBvcGVyYXRpbmcganVuY3Rpb24gdGVtcGVyYXR1cmUgKEM"
"pCiAgICdUam1pbicsIAkJCS01NSwJIC4uLgklIG1pbiBvcGVyYXRpbmcganVuY3Rpb24gdGVtcGVy"
"YXR1cmUgKEMpCiAgICdUY0RlcmF0aW5nJywgICAgWy01NSwyNyw1MCw3NiwxMDAsMTI1LDE0MCwxN"
"DcsMTUwXSwgLi4uICUgVGVtcGVyYXR1cmUgZGVyYXRpbmcgY3VydmUgKEMpCiAgICdJZHNNYXhEZX"
"JhdGVkJywgWyAzNSwzNSwzMiwyNywyMi41LCAxNiwgMTAsICA1LCAgMF0gLi4uCSUgQ3VycmVudCB"
"kZXJhdGluZyBjdXJ2ZSAoQSkKKTsKCiUgRGVmaW5lIHRoZXJtYWwgZGF0YSBmb3IgdGhlIEMzTTAw"
"MzIxMjBLCkMzTTAwMzIxMjBLID0gc3RydWN0KCAuLi4KICAgJ3RoZXJtX21vc2ZldCcsICAgICdma"
"WxlOkMzTTAwMzIxMjBLJywgLi4uIAklIFdvbGZzcGVlZCBNT1NGRVQgdGhlcm1hbCBkZXNjcmlwdG"
"lvbgogICAndGhlcm1fYm9keV9kaW9kZScsJ2ZpbGU6QzNNMDAzMjEyMEtfYm9keWRpb2RlJywgLi4"
"uICUgYm9keSBkaW9kZSB0aGVybWFsIGRlc2NyaXB0aW9uCiAgICdyb25fbW9zZmV0JywgCQkwLjAz"
"MiwgLi4uCSUgTU9TRkVUIG9uLXJlc2lzdGFuY2UgIChvaG1zKQogICAndmZfYm9keV9kaW9kZScsI"
"CAyLjQsICAgLi4uICAlIGZvcndhcmQgdm9sdGFnZSBkaW9kZSBmcm9tIGJvZHkgZGlvZGUgY3Vydm"
"UgQDI1QyAmIFZncz0wViAoVikKICAgJ3Jvbl9ib2R5X2Rpb2RlJywgMC4wNDksIC4uLiAgJSBkaW9"
"kZSBvbi1yZXNpc3RhbmNlIGZyb20gYm9keSBkaW9kZSBjdXJ2ZSBAMjVDICYgVmdzPTBWIChvaG1z"
"KQogICAnUmdvbicsIAkJCQkyLjUsCSAuLi4JJSBleHRlcm5hbCB0dXJuLW9uIGdhdGUgcmVzaXN0Y"
"W5jZSAob2htcykKICAgJ1Jnb2ZmJywgCQkJMi41LAkgLi4uCSUgZXh0ZXJuYWwgdHVybi1vZmYgZ2"
"F0ZSByZXNpc3RhbmNlIChvaG1zKQogICAnVmRzbWF4JywgCQkJMTIwMCwJIC4uLgklIG1heCBkZXZ"
"pY2UgZHJhaW4tc291cmNlIHZvbHRhZ2UgcmF0aW5nIChWKQogICAnSWRzbWF4JywgCQkJNjMsCSAu"
"Li4JJSBtYXggZHJhaW4gY3VycmVudCByYXRpbmcgQCAyNSBDKEEpCiAgICdUam1heCcsIAkJCTE3N"
"SwJIC4uLgklIG1heCBvcGVyYXRpbmcganVuY3Rpb24gdGVtcGVyYXR1cmUgKEMpCiAgICdUam1pbi"
"csIAkJCS00MCwJIC4uLgklIG1pbiBvcGVyYXRpbmcganVuY3Rpb24gdGVtcGVyYXR1cmUgKEMpCiA"
"gICdUY0RlcmF0aW5nJywgICAgWy01NSwyNyw0NSw3MCw5NSwxMjAsMTQ1LDE2NSwxNzAsMTc1XSwg"
"Li4uICUgVGVtcGVyYXR1cmUgZGVyYXRpbmcgY3VydmUgKEMpCiAgICdJZHNNYXhEZXJhdGVkJywgW"
"yA2OCw2OCw2NSw1OSw1MiwgNDQsIDM0LCAyMCwgMTUsICAwXSAuLi4gJSBDdXJyZW50IGRlcmF0aW"
"5nIGN1cnZlIChBKQopOwoKJSBEZWZpbmUgdGhlcm1hbCBkYXRhIGZvciB0aGUgQzNNMDAyMTEyMEs"
"KQzNNMDAyMTEyMEsgPSBzdHJ1Y3QoIC4uLgogICAndGhlcm1fbW9zZmV0JywgICAgJ2ZpbGU6QzNN"
"MDAyMTEyMEsnLCAuLi4JJSBXb2xmc3BlZWQgTU9TRkVUIHRoZXJtYWwgZGVzY3JpcHRpb24KICAgJ"
"3RoZXJtX2JvZHlfZGlvZGUnLCdmaWxlOkMzTTAwMjExMjBLX2JvZHlkaW9kZScsIC4uLiAlIGJvZH"
"kgZGlvZGUgdGhlcm1hbCBkZXNjcmlwdGlvbgogICAncm9uX21vc2ZldCcsIAkJMC4wMjEsIC4uLgk"
"lIE1PU0ZFVCBvbi1yZXNpc3RhbmNlICAob2htcykKICAgJ3ZmX2JvZHlfZGlvZGUnLCAgMi4zLCAg"
"IC4uLiAgJSBmb3J3YXJkIHZvbHRhZ2UgZGlvZGUgZnJvbSBib2R5IGRpb2RlIGN1cnZlIEAyNUMgJ"
"iBWZ3M9MFYgKFYpCiAgICdyb25fYm9keV9kaW9kZScsIDAuMDMzLCAuLi4gICUgZGlvZGUgb24tcm"
"VzaXN0YW5jZSBmcm9tIGJvZHkgZGlvZGUgY3VydmUgQDI1QyAmIFZncz0wViAob2htcwogICAnUmd"
"vbicsIAkJCQkyLjUsCSAuLi4JJSBleHRlcm5hbCB0dXJuLW9uIGdhdGUgcmVzaXN0YW5jZSAob2ht"
"cykKICAgJ1Jnb2ZmJywgCQkJMi41LAkgLi4uCSUgZXh0ZXJuYWwgdHVybi1vZmYgZ2F0ZSByZXNpc"
"3RhbmNlIChvaG1zKQogICAnVmRzbWF4JywgCQkJMTIwMCwJIC4uLgklIG1heCBkZXZpY2UgZHJhaW"
"4tc291cmNlIHZvbHRhZ2UgcmF0aW5nIChWKQogICAnSWRzbWF4JywgCQkJMTAwLAkgLi4uCSUgbWF"
"4IGRyYWluIGN1cnJlbnQgcmF0aW5nIEAgMjUgQyhBKQogICAnVGptYXgnLCAJCQkxNzUsCSAuLi4J"
"JSBtYXggb3BlcmF0aW5nIGp1bmN0aW9uIHRlbXBlcmF0dXJlIChDKQogICAnVGptaW4nLCAJCQktN"
"DAsCSAuLi4JJSBtaW4gb3BlcmF0aW5nIGp1bmN0aW9uIHRlbXBlcmF0dXJlIChDKQogICAnVGNEZX"
"JhdGluZycsICAgIFstNTUsMjcsNDUsNzAsOTUsMTA4LDEyMCwxMzIsMTQ1LDE1OCwxNzAsMTc1XSw"
"gLi4uICUgVGVtcGVyYXR1cmUgZGVyYXRpbmcgY3VydmUgKEMpCiAgICdJZHNNYXhEZXJhdGVkJywg"
"WzEwMCwxMDAsOTUsODYsNzcsIDcxLCA2NSwgNTgsIDQ5LCAzNywgMjAsICAwXSAuLi4gJSBDdXJyZ"
"W50IGRlcmF0aW5nIGN1cnZlIChBKQopOwogICAKJVNlbGVjdCBkZXZpY2UgdHlwZSBmb3IgdGhlIH"
"VwcGVyIGFuZCBsb3dlciBzd2l0Y2hlcyAoc3gxICYgc3g0KQpTMTQgPSBzdHJ1Y3QoQzNNMDAyMTE"
"yMEspOwpTMTQubnVtX3Bhcl9kZXZpY2UgPSAxOwoKJVNlbGVjdCBkZXZpY2UgdHlwZSBmb3IgdGhl"
"IG5ldXRyYWwtY29ubmVjdGVkIHN3aXRjaGVzIChzeDIgJiBzeDMpClMyMyA9IHN0cnVjdChDM00wM"
"DY1MTAwSyk7ClMyMy5udW1fcGFyX2RldmljZSA9IDI7CiAgIAolIFRoZXJtYWwgcGFyYW1ldGVycw"
"pUYW1iID0gMjU7CQkJCQkJCSUgYW1iaWVudCB0ZW1wZXJhdHVyZSAoQykKdF9pbml0ID0gMjU7CQk"
"JCQkgCSUgaW5pdGlhbCBqdW5jdGlvbiB0ZW1wZXJhdHVyZSAoQykKcnRoX2NoID0gMC41OwkJIAkJ"
"IAkJJSB0aGVybWFsIHJlc2lzdGFuY2UgY2FzZS1oZWF0c2luayAoZ3JlYXNlKSAoSy9XKQpSdGggP"
"SAwLjM0OwkJCQkJICAgIAklIHRoZXJtYWwgcmVzaXN0YW5jZSBoZWF0c2luay1hbWJpZW50IChLL1"
"cpCgoKJSUlUEFSVCA0ICBCYWxhbmNlZCBDaXJjdWl0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0"
"tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t"
"LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL"
"S0tLS0tLS0KTGJhbCA9IExwdjs="
  InitialState  "1"
  SystemState   ""
  TaskingMode   "1"
  TaskConfigurations ""
  CodeGenParameterInlining "2"
  CodeGenFloatingPointFormat "2"
  CodeGenAbsTimeUsageMsg "3"
  CodeGenBaseName ""
  CodeGenOutputDir ""
  CodeGenExtraOpts ""
  CodeGenTarget "PLECS RT Box 1"
  CodeGenTargetSettings "AAAAfwAAAAAlUU1hcDxRU3RyaW5nLFFNYXA8UVN0cmluZyxRU3Rya"
"W5nPiA+AAAAAAEAAAAcAFAATABFAEMAUwAgAFIAVAAgAEIAbwB4ACAAMQAAABYAAAAeAHMAeQBuAG"
"MAaAByAG8AbgBpAHoAZQBUAGkAbQBlAAAAAgAwAAAAGABzAHQAYQByAHQAdQBwAFMARgBQAF8ARAA"
"AAAIAMAAAABgAcwB0AGEAcgB0AHUAcABTAEYAUABfAEMAAAACADAAAAAYAHMAdABhAHIAdAB1AHAA"
"UwBGAFAAXwBCAAAAAgAwAAAAGABzAHQAYQByAHQAdQBwAFMARgBQAF8AQQAAAAIAMAAAABoAcwBhA"
"G0AcABsAGkAbgBnAEQAZQBsAGEAeQAAAAIAMAAAABgAbQBhAHgAXwBvAHYAZQByAHIAdQBuAHMAAA"
"ACADUAAAASAG0AYQBzAHQAZQByAFMARgBQAAAAAgAxAAAAJABkAGkAZwBpAHQAYQBsAE8AdQB0AHA"
"AdQB0AEwAZQB2AGUAbAAAAAIAMQAAABAAYwBhAG4AMgBUAHgAUgB4AAAAAgAxAAAAHgBjAGEAbgAy"
"AFQAZQByAG0AaQBuAGEAdABpAG8AbgAAAAIAMgAAABQAYwBhAG4AMgBFAG4AYQBiAGwAZQAAAAIAM"
"AAAABAAYwBhAG4AMgBCAGEAdQBkAAAADAA1ADAAMAAwADAAMAAAABAAYwBhAG4AMQBUAHgAUgB4AA"
"AAAgAxAAAAHgBjAGEAbgAxAFQAZQByAG0AaQBuAGEAdABpAG8AbgAAAAIAMgAAABQAYwBhAG4AMQB"
"FAG4AYQBiAGwAZQAAAAIAMAAAABAAYwBhAG4AMQBCAGEAdQBkAAAADAA1ADAAMAAwADAAMAAAABwA"
"YQBuAGEAbABvAGcAUwBhAG0AcABsAGkAbgBnAAAAAgAxAAAAIgBhAG4AYQBsAG8AZwBPAHUAdABwA"
"HUAdABSAGEAbgBnAGUAAAACADEAAAAgAGEAbgBhAGwAbwBnAEkAbgBwAHUAdABSAGEAbgBnAGUAAA"
"ACADEAAAAaAFQAQQBSAEcARQBUAF8ARABFAFYASQBDAEX/////AAAAGgBFAFgAVABFAFIATgBBAEw"
"AXwBNAE8ARABFAAAAAgAx"
  ExtendedMatrixPrecision "1"
  MatrixSignificanceCheck "2"
  RemoveUnusedStateSpaceOutputs "1"
  EnableStateSpaceSplitting "2"
  DisplayStateSpaceSplitting "1"
  DiscretizationMethod "2"
  ExternalModeSettings ""
  AlgebraicLoopMethod "1"
  AlgebraicLoopTolerance "1e-6"
  ScriptsDialogGeometry "[7 29 1441 871]"
  ScriptsDialogSplitterPos "47"
  Schematic {
    Location      [-3810, 194; -2274, 946]
    ZoomFactor    0.667275
    SliderPosition [181, 540]
    ShowBrowser   off
    BrowserWidth  191
    Component {
      Type          Inductor
      Name          "Lc1"
      Show          off
      Position      [2430, 515]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "L"
        Value         "L"
        Show          on
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "Lc2"
      Show          off
      Position      [2430, 525]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "L"
        Value         "L"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "-iMag*Irated"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "Lc3"
      Show          off
      Position      [2430, 535]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "L"
        Value         "L"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "iMag*Irated"
        Show          off
      }
    }
    Component {
      Type          ThermalResistor
      Name          "Rth_ha"
      Show          off
      Position      [2445, 700]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Rth"
        Value         "Rth"
        Show          on
      }
    }
    Component {
      Type          ConstantTemperatureGnd
      Name          "T_ambient"
      Show          off
      Position      [2495, 700]
      Direction     right
      Flipped       on
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "T"
        Value         "Tamb"
        Show          on
      }
    }
    Component {
      Type          From
      Name          "From"
      Show          off
      Position      [2170, 480]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From1"
      Show          off
      Position      [2060, 475]
      Direction     down
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From2"
      Show          off
      Position      [2100, 475]
      Direction     down
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From5"
      Show          off
      Position      [2170, 680]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA4"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From6"
      Show          off
      Position      [2270, 480]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From7"
      Show          off
      Position      [2160, 540]
      Direction     down
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From8"
      Show          off
      Position      [2200, 540]
      Direction     up
      Flipped       on
      LabelPosition east
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From9"
      Show          off
      Position      [2270, 680]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB4"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From10"
      Show          off
      Position      [2370, 480]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From11"
      Show          off
      Position      [2260, 605]
      Direction     down
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From12"
      Show          off
      Position      [2300, 605]
      Direction     up
      Flipped       on
      LabelPosition east
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From13"
      Show          off
      Position      [2370, 680]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC4"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          HeatSink
      Name          "Heat Sink1"
      Show          off
      Position      [2210, 580]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Frame         [-192, -132; 192, 132]
      Parameter {
        Variable      "Cth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Width"
        Value         "1"
        Show          off
      }
      Terminal {
        Type          HeatPort
        Position      [-120, 197]
        Direction     down
      }
    }
    Component {
      Type          Goto
      Name          "Goto"
      Show          off
      Position      [2345, 1015]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto1"
      Show          off
      Position      [2345, 1030]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto2"
      Show          off
      Position      [2345, 1045]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto3"
      Show          off
      Position      [2345, 1060]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sA4"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto4"
      Show          off
      Position      [2345, 1095]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto5"
      Show          off
      Position      [2345, 1110]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "SW A"
      Show          on
      Position      [2300, 1035]
      Direction     up
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -30; 20, 30]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "3-Level Modulator for NPC Active Switches"
      MaskDescription "This block generates the 3-level switching signals for "
"the four active switches in any one individual phase leg of the NPC inverter."
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [24, -20]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, -5]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 25]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Schematic {
        Location      [283, 729; 564, 916]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator"
          Show          off
          Position      [150, 35]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator1"
          Show          off
          Position      [150, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "5"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator2"
          Show          off
          Position      [150, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator3"
          Show          off
          Position      [150, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "Constant"
          Show          off
          Position      [65, 160]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-10, -10; 10, 10]
          Parameter {
            Variable      "Value"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "1"
          Show          on
          Position      [205, 35]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "2"
          Show          on
          Position      [205, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "3"
          Show          on
          Position      [205, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "4"
          Show          on
          Position      [205, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "ma"
          Show          on
          Position      [65, 30]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Constant"
          SrcTerminal   1
          Points        [110, 160]
          Branch {
            DstComponent  "Relational\nOperator3"
            DstTerminal   2
          }
          Branch {
            Points        [110, 120]
            Branch {
              Points        [110, 80]
              Branch {
                Points        [110, 40]
                DstComponent  "Relational\nOperator"
                DstTerminal   2
              }
              Branch {
                DstComponent  "Relational\nOperator1"
                DstTerminal   2
              }
            }
            Branch {
              DstComponent  "Relational\nOperator2"
              DstTerminal   2
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator2"
          SrcTerminal   3
          DstComponent  "3"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator3"
          SrcTerminal   3
          DstComponent  "4"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator1"
          SrcTerminal   3
          DstComponent  "2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator"
          SrcTerminal   3
          DstComponent  "1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "ma"
          SrcTerminal   1
          Points        [95, 30]
          Branch {
            DstComponent  "Relational\nOperator"
            DstTerminal   1
          }
          Branch {
            Points        [95, 70]
            Branch {
              Points        [95, 110]
              Branch {
                Points        [95, 150]
                DstComponent  "Relational\nOperator3"
                DstTerminal   1
              }
              Branch {
                DstComponent  "Relational\nOperator2"
                DstTerminal   1
              }
            }
            Branch {
              DstComponent  "Relational\nOperator1"
              DstTerminal   1
            }
          }
        }
      }
    }
    Component {
      Type          SignalDemux
      Name          "Demux"
      Show          off
      Position      [2235, 1115]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto6"
      Show          off
      Position      [2345, 1125]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto7"
      Show          off
      Position      [2345, 1140]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sB4"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto8"
      Show          off
      Position      [2345, 1175]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto9"
      Show          off
      Position      [2345, 1190]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto10"
      Show          off
      Position      [2345, 1205]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto11"
      Show          off
      Position      [2345, 1220]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "sC4"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "SW B"
      Show          on
      Position      [2300, 1115]
      Direction     up
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -30; 20, 30]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "3-Level Modulator for NPC Active Switches"
      MaskDescription "This block generates the 3-level switching signals for "
"the four active switches in any one individual phase leg of the NPC inverter."
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [24, -20]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, -5]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 25]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Schematic {
        Location      [214, 584; 437, 771]
        ZoomFactor    1
        SliderPosition [1, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator"
          Show          off
          Position      [150, 35]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator1"
          Show          off
          Position      [150, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "5"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator2"
          Show          off
          Position      [150, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator3"
          Show          off
          Position      [150, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "Constant"
          Show          off
          Position      [65, 160]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-10, -10; 10, 10]
          Parameter {
            Variable      "Value"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "1"
          Show          on
          Position      [205, 35]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "2"
          Show          on
          Position      [205, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "3"
          Show          on
          Position      [205, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "4"
          Show          on
          Position      [205, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "mb"
          Show          on
          Position      [65, 30]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Constant"
          SrcTerminal   1
          Points        [110, 160]
          Branch {
            DstComponent  "Relational\nOperator3"
            DstTerminal   2
          }
          Branch {
            Points        [110, 120]
            Branch {
              Points        [110, 80]
              Branch {
                Points        [110, 40]
                DstComponent  "Relational\nOperator"
                DstTerminal   2
              }
              Branch {
                DstComponent  "Relational\nOperator1"
                DstTerminal   2
              }
            }
            Branch {
              DstComponent  "Relational\nOperator2"
              DstTerminal   2
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator2"
          SrcTerminal   3
          DstComponent  "3"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator3"
          SrcTerminal   3
          DstComponent  "4"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator1"
          SrcTerminal   3
          DstComponent  "2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator"
          SrcTerminal   3
          DstComponent  "1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "mb"
          SrcTerminal   1
          Points        [95, 30]
          Branch {
            DstComponent  "Relational\nOperator"
            DstTerminal   1
          }
          Branch {
            Points        [95, 70]
            Branch {
              Points        [95, 110]
              Branch {
                Points        [95, 150]
                DstComponent  "Relational\nOperator3"
                DstTerminal   1
              }
              Branch {
                DstComponent  "Relational\nOperator2"
                DstTerminal   1
              }
            }
            Branch {
              DstComponent  "Relational\nOperator1"
              DstTerminal   1
            }
          }
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "SW C"
      Show          on
      Position      [2300, 1195]
      Direction     up
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -30; 20, 30]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "3-Level Modulator for NPC Active Switches"
      MaskDescription "This block generates the 3-level switching signals for "
"the four active switches in any one individual phase leg of the NPC inverter."
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [24, -20]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, -5]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 25]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Schematic {
        Location      [214, 584; 437, 771]
        ZoomFactor    1
        SliderPosition [1, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator"
          Show          off
          Position      [150, 35]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator1"
          Show          off
          Position      [150, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "5"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator2"
          Show          off
          Position      [150, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          RelationalOperator
          Name          "Relational\nOperator3"
          Show          off
          Position      [150, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "Constant"
          Show          off
          Position      [65, 160]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-10, -10; 10, 10]
          Parameter {
            Variable      "Value"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "1"
          Show          on
          Position      [205, 35]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "2"
          Show          on
          Position      [205, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "3"
          Show          on
          Position      [205, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "4"
          Show          on
          Position      [205, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "mc"
          Show          on
          Position      [65, 30]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Constant"
          SrcTerminal   1
          Points        [110, 160]
          Branch {
            DstComponent  "Relational\nOperator3"
            DstTerminal   2
          }
          Branch {
            Points        [110, 120]
            Branch {
              Points        [110, 80]
              Branch {
                Points        [110, 40]
                DstComponent  "Relational\nOperator"
                DstTerminal   2
              }
              Branch {
                DstComponent  "Relational\nOperator1"
                DstTerminal   2
              }
            }
            Branch {
              DstComponent  "Relational\nOperator2"
              DstTerminal   2
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator2"
          SrcTerminal   3
          DstComponent  "3"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator3"
          SrcTerminal   3
          DstComponent  "4"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator1"
          SrcTerminal   3
          DstComponent  "2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Relational\nOperator"
          SrcTerminal   3
          DstComponent  "1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "mc"
          SrcTerminal   1
          Points        [95, 30]
          Branch {
            DstComponent  "Relational\nOperator"
            DstTerminal   1
          }
          Branch {
            Points        [95, 70]
            Branch {
              Points        [95, 110]
              Branch {
                Points        [95, 150]
                DstComponent  "Relational\nOperator3"
                DstTerminal   1
              }
              Branch {
                DstComponent  "Relational\nOperator2"
                DstTerminal   1
              }
            }
            Branch {
              DstComponent  "Relational\nOperator1"
              DstTerminal   1
            }
          }
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 1"
      Show          off
      Position      [2130, 480]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S14.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S14.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S14.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S14.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S14.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S14.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [1, 397; 342, 674]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "FET1"
          SrcTerminal   2
          Points        [110, 100]
          Branch {
            Points        [135, 100]
            DstComponent  "D1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "FET1"
          SrcTerminal   1
          Points        [110, 60]
          Branch {
            Points        [135, 60]
            DstComponent  "D1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Device SA1"
      Show          on
      Position      [2640, 1015]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "MOSFET and Diode 1"
        Path          ""
        Signals       {"Device conduction loss", "Device voltage", "Device cur"
"rent", "Device junction temperature", "Device case temperature", "Device swit"
"ching loss"}
      }
    }
    Component {
      Type          SignalDemux
      Name          "Demux1"
      Show          off
      Position      [2685, 1015]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "[1 1 2 1 2]"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Device SA2"
      Show          on
      Position      [2640, 1170]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "MOSFET and Diode 2"
        Path          ""
        Signals       {"Device voltage", "Device current", "Device junction te"
"mperature", "Device switching loss", "Device conduction loss", "Device case t"
"emperature"}
      }
    }
    Component {
      Type          SignalDemux
      Name          "Demux3"
      Show          off
      Position      [2685, 1170]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "[1 1 2 1 2]"
        Show          off
      }
    }
    Component {
      Type          ThreePhaseVoltageSource
      Name          "Grid"
      Show          on
      Position      [2500, 525]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "V"
        Value         "Vsrc"
        Show          on
      }
      Parameter {
        Variable      "w"
        Value         "F"
        Show          on
      }
      Parameter {
        Variable      "phi"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "neutral"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          ThreePhaseMeter
      Name          "3ph Meter"
      Show          off
      Position      [2465, 525]
      Direction     up
      Flipped       off
      LabelPosition southSoutheast
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "voltage"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Controller"
      Show          on
      Position      [2155, 1115]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-35, -85; 35, 85]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "Ts=1/fsw;\n"
      Parameter {
        Variable      "Vin"
        Prompt        "Input voltage (V)"
        Type          FreeText
        Value         "Vin"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "F"
        Prompt        "AC line frequency (Hz)"
        Type          FreeText
        Value         "F"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "L"
        Prompt        "AC line inductance (H)"
        Type          FreeText
        Value         "L"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Smax"
        Prompt        "Rated power (VA)"
        Type          FreeText
        Value         "Smax"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Vgrid_pk"
        Prompt        "Grid peak voltage (V)"
        Type          FreeText
        Value         "Vsrc"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "modScheme"
        Prompt        "Modulation scheme"
        Type          FixedText
        PossibleValues {"Sinusoidal PWM", "Space Vector PWM", "Third Harmonic "
"Injection PWM", "Third Harmonic Zero Sequence PWM", "Discontinuous PWM patter"
"n 1"}
        Value         "1"
        Show          on
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "fsw"
        Prompt        "Switching frequency (Hz)"
        Type          FreeText
        Value         "fsw"
        Show          on
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Kp"
        Prompt        "Proportional gain"
        Type          FreeText
        Value         "Kp"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Ki"
        Prompt        "Integral gain"
        Type          FreeText
        Value         "Ki"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "tDead"
        Prompt        "Dead time (s)"
        Type          FreeText
        Value         "tDead"
        Show          on
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [39, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-35, -60]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-35, -25]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-35, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-35, 45]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-35, 65]
        Direction     left
      }
      Schematic {
        Location      [-1470, 364; -808, 801]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Subsystem
          Name          "Decoupled dq\ncurrent control"
          Show          on
          Position      [240, 115]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-30, -60; 30, 60]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "Vin"
            Prompt        "Input voltage"
            Type          FreeText
            Value         "Vin"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Vgrid_pk"
            Prompt        "Grid peak voltage"
            Type          FreeText
            Value         "Vgrid_pk"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "L"
            Prompt        "AC line inductance"
            Type          FreeText
            Value         "L"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "F"
            Prompt        "AC line frequency"
            Type          FreeText
            Value         "F"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Ki"
            Prompt        "Ki"
            Type          FreeText
            Value         "L*fsw^2*sqrt(2)/Ki"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Kp"
            Prompt        "Kp"
            Type          FreeText
            Value         "L*fsw*sqrt(2)/Kp"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Ts"
            Prompt        "Sample Time"
            Type          FreeText
            Value         "Ts"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Input
            Position      [-30, 15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, 45]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, -15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, -45]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [34, -15]
            Direction     right
          }
          Terminal {
            Type          Output
            Position      [34, 10]
            Direction     right
          }
          Terminal {
            Type          Output
            Position      [34, 30]
            Direction     right
          }
          Schematic {
            Location      [-1531, 532; -910, 851]
            ZoomFactor    1.02965
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  341
            Component {
              Type          Input
              Name          "id*"
              Show          on
              Position      [25, 45]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "iq*"
              Show          on
              Position      [25, 200]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Iph"
              Show          on
              Position      [25, 115]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vph"
              Show          on
              Position      [25, 250]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "Vdq*"
              Show          on
              Position      [545, 80]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "5"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          base64 "zrg="
              Show          on
              Position      [205, 240]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Index"
                Value         "6"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Transformations/3ph->RRF"
              Name          "3ph->RRF1"
              Show          off
              Position      [145, 120]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-15, -15; 15, 15]
              Terminal {
                Type          Input
                Position      [-15, -5]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [19, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-15, 5]
                Direction     left
              }
            }
            Component {
              Type          Output
              Name          "Va*"
              Show          on
              Position      [545, 120]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "7"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Transformations/Rect->polar"
              Name          "Rect->polar"
              Show          off
              Position      [495, 120]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-15, -15; 15, 15]
              Terminal {
                Type          Input
                Position      [-15, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [19, 0]
                Direction     right
              }
            }
            Component {
              Type          Sum
              Name          "Sum1"
              Show          off
              Position      [210, 45]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|+-"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          SignalDemux
              Name          "CDemux"
              Show          off
              Position      [200, 120]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum2"
              Show          off
              Position      [210, 200]
              Direction     up
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|+-"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          SignalMux
              Name          "CMux1"
              Show          off
              Position      [400, 120]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum3"
              Show          off
              Position      [360, 45]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|+-"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum4"
              Show          off
              Position      [360, 200]
              Direction     up
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|++"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Decoupling"
              Show          on
              Position      [285, 120]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "K"
                Value         "L*2*pi*F"
                Show          on
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "OutputDataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "GainDataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          SignalDemux
              Name          "CDemux1"
              Show          off
              Position      [345, 120]
              Direction     left
              Flipped       off
              LabelPosition north
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Sum5"
              Show          off
              Position      [440, 120]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "|++"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Discrete/Discrete PID\\nContro"
"ller"
              Name          "Iq Control"
              Show          on
              Position      [280, 200]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-40, -25; 40, 25]
              Parameter {
                Variable      "cont_type"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "par_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kp"
                Value         "Kp"
                Show          off
              }
              Parameter {
                Variable      "ki"
                Value         "Ki"
                Show          off
              }
              Parameter {
                Variable      "kd"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kf"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "ex_reset"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "ex_sat"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "sat_lim"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "int_method"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "t_sample"
                Value         "Ts"
                Show          off
              }
              Parameter {
                Variable      "up_limit"
                Value         "Vin/2"
                Show          off
              }
              Parameter {
                Variable      "low_limit"
                Value         "-Vin/2"
                Show          off
              }
              Parameter {
                Variable      "aw_method"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "kbc"
                Value         "Ki/Kp"
                Show          off
              }
              Terminal {
                Type          Input
                Position      [-40, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [44, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [15, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -15]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [25, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [35, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -20]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, -10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 20]
                Direction     left
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Discrete/Discrete PID\\nContro"
"ller"
              Name          "Id Control"
              Show          on
              Position      [280, 45]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-40, -25; 40, 25]
              Parameter {
                Variable      "cont_type"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "par_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kp"
                Value         "Kp"
                Show          off
              }
              Parameter {
                Variable      "ki"
                Value         "Ki"
                Show          off
              }
              Parameter {
                Variable      "kd"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kf"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "ex_reset"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "ex_sat"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "sat_lim"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "int_method"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "t_sample"
                Value         "Ts"
                Show          off
              }
              Parameter {
                Variable      "up_limit"
                Value         "Vin/2"
                Show          off
              }
              Parameter {
                Variable      "low_limit"
                Value         "-Vin/2"
                Show          off
              }
              Parameter {
                Variable      "aw_method"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "kbc"
                Value         "Ki/Kp"
                Show          off
              }
              Terminal {
                Type          Input
                Position      [-40, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [44, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [15, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -15]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [25, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [35, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -20]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, -10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 20]
                Direction     left
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Continuous/Three-Phase PLL"
              Name          "Three-Phase PLL"
              Show          on
              Position      [110, 250]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-40, -20; 40, 20]
              Parameter {
                Variable      "type"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "f0"
                Value         "2*pi*F"
                Show          off
              }
              Parameter {
                Variable      "Vpk"
                Value         "Vgrid_pk"
                Show          off
              }
              Parameter {
                Variable      "theta0"
                Value         "3*pi/2"
                Show          off
              }
              Parameter {
                Variable      "units"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "contr_design"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kp"
                Value         "PLL_Kp"
                Show          off
              }
              Parameter {
                Variable      "ki"
                Value         "PLL_Ki"
                Show          off
              }
              Parameter {
                Variable      "k"
                Value         "1"
                Show          off
              }
              Terminal {
                Type          Input
                Position      [-40, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [44, -10]
                Direction     right
              }
              Terminal {
                Type          Output
                Position      [44, 0]
                Direction     right
              }
              Terminal {
                Type          Output
                Position      [44, 10]
                Direction     right
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Transformations/3ph->RRF"
              Name          "3ph->RRF2"
              Show          off
              Position      [305, 285]
              Direction     up
              Flipped       on
              LabelPosition north
              Frame         [-15, -15; 15, 15]
              Terminal {
                Type          Input
                Position      [-15, -5]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [19, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-15, 5]
                Direction     left
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Rect->polar"
              SrcTerminal   2
              DstComponent  "Va*"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum2"
              SrcTerminal   1
              DstComponent  "Iq Control"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "CDemux"
              SrcTerminal   2
              Points        [210, 115]
              DstComponent  "Sum1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Decoupling"
              SrcTerminal   2
              DstComponent  "CDemux1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "CDemux1"
              SrcTerminal   3
              Points        [360, 115]
              DstComponent  "Sum3"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "CDemux1"
              SrcTerminal   2
              Points        [360, 125]
              DstComponent  "Sum4"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum3"
              SrcTerminal   1
              Points        [380, 45; 380, 115]
              DstComponent  "CMux1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum4"
              SrcTerminal   1
              Points        [380, 200; 380, 125]
              DstComponent  "CMux1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "CMux1"
              SrcTerminal   1
              DstComponent  "Sum5"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Iph"
              SrcTerminal   1
              DstComponent  "3ph->RRF1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "CDemux"
              SrcTerminal   3
              Points        [210, 125]
              DstComponent  "Sum2"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "id*"
              SrcTerminal   1
              DstComponent  "Sum1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "iq*"
              SrcTerminal   1
              DstComponent  "Sum2"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "3ph->RRF1"
              SrcTerminal   2
              Points        [170, 120]
              Branch {
                DstComponent  "CDemux"
                DstTerminal   1
              }
              Branch {
                Points        [170, 135; 240, 135; 240, 120]
                DstComponent  "Decoupling"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum5"
              SrcTerminal   1
              Points        [460, 120]
              Branch {
                DstComponent  "Rect->polar"
                DstTerminal   1
              }
              Branch {
                Points        [460, 80]
                DstComponent  "Vdq*"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Sum1"
              SrcTerminal   1
              DstComponent  "Id Control"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Iq Control"
              SrcTerminal   2
              DstComponent  "Sum4"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Id Control"
              SrcTerminal   2
              DstComponent  "Sum3"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Three-Phase PLL"
              SrcTerminal   2
              Points        [170, 240]
              Branch {
                DstComponent  base64 "zrg="
                DstTerminal   1
              }
              Branch {
                Points        [170, 280]
                DstComponent  "3ph->RRF2"
                DstTerminal   3
              }
              Branch {
                Points        [170, 185; 110, 185; 110, 125]
                DstComponent  "3ph->RRF1"
                DstTerminal   3
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Vph"
              SrcTerminal   1
              Points        [50, 250]
              Branch {
                DstComponent  "Three-Phase PLL"
                DstTerminal   1
              }
              Branch {
                Points        [50, 290]
                DstComponent  "3ph->RRF2"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "3ph->RRF2"
              SrcTerminal   2
              Points        [440, 285]
              DstComponent  "Sum5"
              DstTerminal   3
            }
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Transformations/RRF->3ph"
          Name          "RRF->3ph"
          Show          off
          Position      [315, 105]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-15, -15; 15, 15]
          Terminal {
            Type          Input
            Position      [-15, -5]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [19, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-15, 5]
            Direction     left
          }
        }
        Component {
          Type          Output
          Name          "sw"
          Show          on
          Position      [625, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Vph"
          Show          on
          Position      [35, 70]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Iph"
          Show          on
          Position      [35, 100]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          ConfigurableSubsystem
          Name          "Modulator"
          Show          on
          Position      [395, 110]
          Direction     up
          Flipped       on
          LabelPosition south
          Frame         [-35, -55; 35, 55]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "fsw"
            Prompt        "Switching frequency (Hz)"
            Type          FreeText
            Value         "fsw"
            Show          on
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Vin"
            Prompt        "Input voltage (V)"
            Type          FreeText
            Value         "Vin"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "F"
            Prompt        "AC Line Frequency (Hz)"
            Type          FreeText
            Value         "F"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Output
            Position      [39, 5]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-35, 5]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-35, -15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-35, -30]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-35, 25]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-35, -40]
            Direction     left
          }
          TerminalNames { "m", "Vabc*", base64 "zrg=", "|v|", "Vdc", base64 "4"
"oigdg==" }
          Location      [-1433, 463; -864, 776]
          ZoomFactor    1
          SliderPosition [0, 0]
          ShowBrowser   off
          BrowserWidth  100
          Configurations {
            Name          "Sine PWM"
            Schematic {
              Component {
                Type          Output
                Name          "m"
                Show          on
                Position      [295, 90]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vabc*"
                Show          on
                Position      [30, 100]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "zrg="
                Show          on
                Position      [30, 175]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "|v|"
                Show          on
                Position      [30, 210]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vdc"
                Show          on
                Position      [30, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "4oigdg=="
                Show          on
                Position      [30, 250]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "6"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Saturation
                Name          "Saturation"
                Show          off
                Position      [225, 90]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "UpperLimit"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "LowerLimit"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Reference
                SrcComponent  "Components/Control/Modulators/3-Phase Index-Bas"
"ed\\nModulation"
                Name          "3-Phase Index-Based\nModulation"
                Show          on
                Position      [140, 90]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-20, -20; 20, 20]
                Parameter {
                  Variable      "config"
                  Value         "1"
                  Show          on
                }
                Terminal {
                  Type          Output
                  Position      [24, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-20, 10]
                  Direction     left
                }
                Terminal {
                  Type          Input
                  Position      [-20, -10]
                  Direction     left
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Saturation"
                SrcTerminal   2
                DstComponent  "m"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Vdc"
                SrcTerminal   1
                Points        [80, 70; 80, 80]
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Vabc*"
                SrcTerminal   1
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "3-Phase Index-Based\nModulation"
                SrcTerminal   1
                DstComponent  "Saturation"
                DstTerminal   1
              }
            }
            Name          "Space Vector PWM"
            Schematic {
              Component {
                Type          Output
                Name          "m"
                Show          on
                Position      [295, 90]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vabc*"
                Show          on
                Position      [30, 100]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "zrg="
                Show          on
                Position      [30, 175]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "|v|"
                Show          on
                Position      [30, 210]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vdc"
                Show          on
                Position      [30, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "4oigdg=="
                Show          on
                Position      [30, 250]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "6"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Saturation
                Name          "Saturation"
                Show          off
                Position      [225, 90]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "UpperLimit"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "LowerLimit"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Reference
                SrcComponent  "Components/Control/Modulators/3-Phase Index-Bas"
"ed\\nModulation"
                Name          "3-Phase Index-Based\nModulation"
                Show          on
                Position      [140, 90]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-20, -20; 20, 20]
                Parameter {
                  Variable      "config"
                  Value         "2"
                  Show          on
                }
                Terminal {
                  Type          Output
                  Position      [24, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-20, 10]
                  Direction     left
                }
                Terminal {
                  Type          Input
                  Position      [-20, -10]
                  Direction     left
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Saturation"
                SrcTerminal   2
                DstComponent  "m"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Vabc*"
                SrcTerminal   1
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Vdc"
                SrcTerminal   1
                Points        [80, 70; 80, 80]
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "3-Phase Index-Based\nModulation"
                SrcTerminal   1
                DstComponent  "Saturation"
                DstTerminal   1
              }
            }
            Name          "Third Harmonic Injection PWM"
            Schematic {
              Component {
                Type          Output
                Name          "m"
                Show          on
                Position      [400, 80]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vabc*"
                Show          on
                Position      [30, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "zrg="
                Show          on
                Position      [30, 230]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Trigonometry
                Name          "Trigonometric\nFunction"
                Show          off
                Position      [225, 230]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Operator"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Unit"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          base64 "M8+JdA=="
                Show          on
                Position      [180, 230]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "3"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Sum
                Name          "Sum"
                Show          off
                Position      [300, 80]
                Direction     up
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "IconShape"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "+|+"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "K"
                Show          off
                Position      [270, 230]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "1/6"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "|v|"
                Show          on
                Position      [30, 180]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vdc"
                Show          on
                Position      [30, 30]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Product
                Name          "Product"
                Show          off
                Position      [300, 145]
                Direction     left
                Flipped       off
                LabelPosition east
                Parameter {
                  Variable      "IconShape"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Product
                Name          "Divide1"
                Show          off
                Position      [165, 175]
                Direction     up
                Flipped       on
                LabelPosition north
                Parameter {
                  Variable      "IconShape"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "*/"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          base64 "4oiaKDMpLzI="
                Show          off
                Position      [225, 175]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "sqrt(3)/2"
                  Show          on
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "Gain1"
                Show          off
                Position      [105, 160]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "1/2"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "4oigdg=="
                Show          on
                Position      [30, 265]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "6"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Sum
                Name          "Sum2"
                Show          off
                Position      [140, 230]
                Direction     up
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "IconShape"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "|++"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Offset
                Name          "Offset"
                Show          off
                Position      [90, 230]
                Direction     right
                Flipped       off
                LabelPosition south
                Frame         [-20, -10; 20, 10]
                Parameter {
                  Variable      "Offset"
                  Value         "pi/2"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "m0"
                Show          on
                Position      [400, 120]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Saturation
                Name          "Saturation"
                Show          off
                Position      [345, 80]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "UpperLimit"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "LowerLimit"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Reference
                SrcComponent  "Components/Control/Modulators/3-Phase Index-Bas"
"ed\\nModulation"
                Name          "3-Phase Index-Based\nModulation"
                Show          on
                Position      [180, 40]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-20, -20; 20, 20]
                Parameter {
                  Variable      "config"
                  Value         "1"
                  Show          on
                }
                Terminal {
                  Type          Output
                  Position      [24, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-20, 10]
                  Direction     left
                }
                Terminal {
                  Type          Input
                  Position      [-20, -10]
                  Direction     left
                }
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "M8+JdA=="
                SrcTerminal   2
                DstComponent  "Trigonometric\nFunction"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Trigonometric\nFunction"
                SrcTerminal   2
                DstComponent  "K"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "4oiaKDMpLzI="
                SrcTerminal   2
                DstComponent  "Product"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "K"
                SrcTerminal   2
                Points        [305, 230]
                DstComponent  "Product"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Sum2"
                SrcTerminal   1
                DstComponent  base64 "M8+JdA=="
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "4oigdg=="
                SrcTerminal   1
                Points        [140, 265]
                DstComponent  "Sum2"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "|v|"
                SrcTerminal   1
                DstComponent  "Divide1"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "zrg="
                SrcTerminal   1
                DstComponent  "Offset"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Offset"
                SrcTerminal   2
                DstComponent  "Sum2"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Product"
                SrcTerminal   1
                Points        [300, 120]
                Branch {
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Branch {
                  DstComponent  "m0"
                  DstTerminal   1
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Divide1"
                SrcTerminal   1
                DstComponent  base64 "4oiaKDMpLzI="
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Sum"
                SrcTerminal   1
                DstComponent  "Saturation"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Saturation"
                SrcTerminal   2
                DstComponent  "m"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Gain1"
                SrcTerminal   2
                Points        [130, 160; 130, 170]
                DstComponent  "Divide1"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "3-Phase Index-Based\nModulation"
                SrcTerminal   1
                Points        [300, 40]
                DstComponent  "Sum"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Vdc"
                SrcTerminal   1
                Points        [60, 30]
                Branch {
                  Points        [60, 160]
                  DstComponent  "Gain1"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "3-Phase Index-Based\nModulation"
                  DstTerminal   3
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Vabc*"
                SrcTerminal   1
                Points        [100, 70; 100, 50]
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   2
              }
            }
            Name          "Third Harmonic Zero Sequence PWM"
            Schematic {
              Component {
                Type          Output
                Name          "m"
                Show          on
                Position      [465, 65]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vabc*"
                Show          on
                Position      [30, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "zrg="
                Show          on
                Position      [30, 215]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Trigonometry
                Name          "Trigonometric\nFunction"
                Show          off
                Position      [235, 215]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Operator"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Unit"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          base64 "M8+JdA=="
                Show          on
                Position      [185, 215]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "3"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Sum
                Name          "Sum"
                Show          off
                Position      [375, 65]
                Direction     up
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "IconShape"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "+|+"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          base64 "Oc+JdA=="
                Show          on
                Position      [185, 265]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "9"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Trigonometry
                Name          "Trigonometric\nFunction1"
                Show          off
                Position      [235, 265]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Operator"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Unit"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "K"
                Show          off
                Position      [285, 265]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "0.1"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Sum
                Name          "Sum1"
                Show          off
                Position      [310, 240]
                Direction     up
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "IconShape"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "+|-"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Product
                Name          "Product"
                Show          off
                Position      [375, 120]
                Direction     left
                Flipped       off
                LabelPosition east
                Parameter {
                  Variable      "IconShape"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "Gain"
                Show          off
                Position      [355, 240]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "1/4"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "|v|"
                Show          on
                Position      [30, 165]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Product
                Name          "Divide1"
                Show          off
                Position      [165, 160]
                Direction     up
                Flipped       on
                LabelPosition north
                Parameter {
                  Variable      "IconShape"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "*/"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          base64 "4oiaKDMpLzI="
                Show          off
                Position      [225, 160]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "sqrt(3)/2"
                  Show          on
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vdc"
                Show          on
                Position      [30, 30]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "Gain1"
                Show          off
                Position      [95, 145]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "1/2"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "4oigdg=="
                Show          on
                Position      [30, 265]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "6"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Sum
                Name          "Sum2"
                Show          off
                Position      [130, 215]
                Direction     up
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "IconShape"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "|++"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Offset
                Name          "Offset"
                Show          off
                Position      [80, 215]
                Direction     right
                Flipped       off
                LabelPosition south
                Frame         [-20, -10; 20, 10]
                Parameter {
                  Variable      "Offset"
                  Value         "pi/2"
                  Show          off
                }
                Parameter {
                  Variable      "DataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "m0"
                Show          on
                Position      [465, 100]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "11"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          Saturation
                Name          "Saturation"
                Show          off
                Position      [415, 65]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "UpperLimit"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "LowerLimit"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Reference
                SrcComponent  "Components/Control/Modulators/3-Phase Index-Bas"
"ed\\nModulation"
                Name          "3-Phase Index-Based\nModulation"
                Show          on
                Position      [220, 40]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-20, -20; 20, 20]
                Parameter {
                  Variable      "config"
                  Value         "1"
                  Show          on
                }
                Terminal {
                  Type          Output
                  Position      [24, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-20, 10]
                  Direction     left
                }
                Terminal {
                  Type          Input
                  Position      [-20, -10]
                  Direction     left
                }
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "M8+JdA=="
                SrcTerminal   2
                DstComponent  "Trigonometric\nFunction"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "Oc+JdA=="
                SrcTerminal   2
                DstComponent  "Trigonometric\nFunction1"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Trigonometric\nFunction1"
                SrcTerminal   2
                DstComponent  "K"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Trigonometric\nFunction"
                SrcTerminal   2
                DstComponent  "Sum1"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "K"
                SrcTerminal   2
                DstComponent  "Sum1"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Sum1"
                SrcTerminal   1
                DstComponent  "Gain"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "|v|"
                SrcTerminal   1
                DstComponent  "Divide1"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Gain"
                SrcTerminal   2
                Points        [380, 240]
                DstComponent  "Product"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "4oiaKDMpLzI="
                SrcTerminal   2
                Points        [370, 160]
                DstComponent  "Product"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Product"
                SrcTerminal   1
                Points        [375, 100]
                Branch {
                  DstComponent  "Sum"
                  DstTerminal   3
                }
                Branch {
                  DstComponent  "m0"
                  DstTerminal   1
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Sum2"
                SrcTerminal   1
                Points        [150, 215]
                Branch {
                  DstComponent  base64 "M8+JdA=="
                  DstTerminal   1
                }
                Branch {
                  Points        [150, 265]
                  DstComponent  base64 "Oc+JdA=="
                  DstTerminal   1
                }
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "4oigdg=="
                SrcTerminal   1
                Points        [130, 265]
                DstComponent  "Sum2"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  base64 "zrg="
                SrcTerminal   1
                DstComponent  "Offset"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Offset"
                SrcTerminal   2
                DstComponent  "Sum2"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Divide1"
                SrcTerminal   1
                DstComponent  base64 "4oiaKDMpLzI="
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Sum"
                SrcTerminal   1
                DstComponent  "Saturation"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Saturation"
                SrcTerminal   2
                DstComponent  "m"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Gain1"
                SrcTerminal   2
                Points        [120, 145; 120, 155]
                DstComponent  "Divide1"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Vdc"
                SrcTerminal   1
                Points        [60, 30]
                Branch {
                  Points        [60, 145]
                  DstComponent  "Gain1"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "3-Phase Index-Based\nModulation"
                  DstTerminal   3
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Vabc*"
                SrcTerminal   1
                Points        [100, 70; 100, 50]
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "3-Phase Index-Based\nModulation"
                SrcTerminal   1
                DstComponent  "Sum"
                DstTerminal   2
              }
            }
            Name          "Discontinuous PWM pattern 1"
            Schematic {
              Component {
                Type          Output
                Name          "m"
                Show          on
                Position      [295, 90]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vabc*"
                Show          on
                Position      [30, 100]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "zrg="
                Show          on
                Position      [30, 175]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "|v|"
                Show          on
                Position      [30, 210]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "Vdc"
                Show          on
                Position      [30, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          base64 "4oigdg=="
                Show          on
                Position      [30, 250]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "6"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Saturation
                Name          "Saturation"
                Show          off
                Position      [225, 90]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "UpperLimit"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "LowerLimit"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Reference
                SrcComponent  "Components/Control/Modulators/3-Phase Index-Bas"
"ed\\nModulation"
                Name          "3-Phase Index-Based\nModulation"
                Show          on
                Position      [140, 90]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-20, -20; 20, 20]
                Parameter {
                  Variable      "config"
                  Value         "4"
                  Show          on
                }
                Terminal {
                  Type          Output
                  Position      [24, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-20, 10]
                  Direction     left
                }
                Terminal {
                  Type          Input
                  Position      [-20, -10]
                  Direction     left
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Saturation"
                SrcTerminal   2
                DstComponent  "m"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Vdc"
                SrcTerminal   1
                Points        [80, 70; 80, 80]
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Vabc*"
                SrcTerminal   1
                DstComponent  "3-Phase Index-Based\nModulation"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "3-Phase Index-Based\nModulation"
                SrcTerminal   1
                DstComponent  "Saturation"
                DstTerminal   1
              }
            }
          }
          Parameter {
            Variable      "Configuration"
            Value         "modScheme"
            Show          off
          }
          MaskProbe {
            Name          "SPWM + Injection"
            Probe {
              Component     "m"
              Path          "Sine PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m"
              Path          "Space Vector PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m"
              Path          "Third Harmonic Injection PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m"
              Path          "Third Harmonic Zero Sequence PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m"
              Path          "Discontinuous PWM pattern 1"
              Signals       {"Input"}
            }
          }
          MaskProbe {
            Name          "Injection Signal"
            Probe {
              Component     "m0"
              Path          "Sine PWM/3-Phase Index-Based\\nModulation/Configu"
"rable\\nSubsystem/Sinusoidal PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m0"
              Path          "Space Vector PWM/3-Phase Index-Based\\nModulation"
"/Configurable\\nSubsystem/Space Vector PWM (Symmetrical)"
              Signals       {"Input"}
            }
            Probe {
              Component     "m0"
              Path          "Third Harmonic Injection PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m0"
              Path          "Third Harmonic Zero Sequence PWM"
              Signals       {"Input"}
            }
            Probe {
              Component     "m0"
              Path          "Discontinuous PWM pattern 1/3-Phase Index-Based\\"
"nModulation/Configurable\\nSubsystem/Space Vector PWM (DPWM1)"
              Signals       {"Input"}
            }
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Modulators/Blanking Time\\n(3-Leve"
"l)"
          Name          "Dead Time\n(3-Level)"
          Show          on
          Position      [570, 105]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          Parameter {
            Variable      "tb"
            Value         "tDead"
            Show          on
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
        }
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold"
          Show          off
          Position      [85, 70]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "1/fsw"
            Show          off
          }
        }
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold1"
          Show          off
          Position      [85, 100]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "Ts"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Vdc"
          Show          on
          Position      [35, 40]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [130, 40]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold2"
          Show          off
          Position      [85, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "Ts"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Modulators/Symmetrical PWM\\n(3-Le"
"vel)"
          Name          "Symmetrical PWM\n(3-Level)"
          Show          on
          Position      [485, 105]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          Parameter {
            Variable      "sampling"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "fc"
            Value         "fsw"
            Show          on
          }
          Parameter {
            Variable      "offset"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "input_limits"
            Value         "[-1 1]"
            Show          off
          }
          Parameter {
            Variable      "phic"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          off
          Position      [175, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "1.5*Vin"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0.2*Vin"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Id*"
          Show          on
          Position      [35, 130]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Iq*"
          Show          on
          Position      [35, 160]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "6"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux1"
          Show          off
          Position      [330, 145]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Dead Time\n(3-Level)"
          SrcTerminal   1
          DstComponent  "sw"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Vdc"
          SrcTerminal   1
          DstComponent  "Zero-Order\nHold2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold2"
          SrcTerminal   2
          DstComponent  "Sum2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Vph"
          SrcTerminal   1
          DstComponent  "Zero-Order\nHold"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Iph"
          SrcTerminal   1
          DstComponent  "Zero-Order\nHold1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Symmetrical PWM\n(3-Level)"
          SrcTerminal   1
          DstComponent  "Dead Time\n(3-Level)"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [340, 40; 340, 85]
          DstComponent  "Modulator"
          DstTerminal   5
        }
        Connection {
          Type          Signal
          SrcComponent  "Iq*"
          SrcTerminal   1
          DstComponent  "Decoupled dq\ncurrent control"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Id*"
          SrcTerminal   1
          DstComponent  "Decoupled dq\ncurrent control"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold1"
          SrcTerminal   2
          DstComponent  "Decoupled dq\ncurrent control"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold"
          SrcTerminal   2
          DstComponent  "Decoupled dq\ncurrent control"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "Decoupled dq\ncurrent control"
          SrcTerminal   6
          Points        [280, 125]
          Branch {
            Points        [280, 110]
            DstComponent  "RRF->3ph"
            DstTerminal   3
          }
          Branch {
            DstComponent  "Modulator"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Decoupled dq\ncurrent control"
          SrcTerminal   7
          DstComponent  "Demux1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux1"
          SrcTerminal   2
          DstComponent  "Modulator"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "Decoupled dq\ncurrent control"
          SrcTerminal   5
          DstComponent  "RRF->3ph"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux1"
          SrcTerminal   3
          DstComponent  "Modulator"
          DstTerminal   6
        }
        Connection {
          Type          Signal
          SrcComponent  "RRF->3ph"
          SrcTerminal   2
          DstComponent  "Modulator"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Modulator"
          SrcTerminal   1
          DstComponent  "Symmetrical PWM\n(3-Level)"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Vph"
      Show          on
      Position      [2005, 1055]
      Direction     left
      Flipped       on
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "3ph Meter"
        Path          ""
        Signals       {"Measured voltage"}
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Iph"
      Show          on
      Position      [2005, 1090]
      Direction     left
      Flipped       on
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "3ph Meter"
        Path          ""
        Signals       {"Measured current"}
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 3"
      Show          off
      Position      [2100, 515]
      Direction     right
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S23.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S23.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S23.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S23.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S23.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S23.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 25; 1440, 814]
        ZoomFactor    1.30957
        SliderPosition [11, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 2"
      Show          off
      Position      [2060, 515]
      Direction     right
      Flipped       on
      LabelPosition east
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S23.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S23.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S23.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S23.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S23.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S23.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [6, 235; 347, 512]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 4"
      Show          off
      Position      [2130, 680]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S14.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S14.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S14.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S14.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S14.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S14.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 397; 341, 674]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 5"
      Show          off
      Position      [2230, 480]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S14.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S14.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S14.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S14.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S14.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S14.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 341; 341, 618]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 6"
      Show          off
      Position      [2200, 580]
      Direction     right
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S23.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S23.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S23.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S23.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S23.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S23.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 331; 341, 608]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 7"
      Show          off
      Position      [2160, 580]
      Direction     right
      Flipped       on
      LabelPosition east
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S23.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S23.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S23.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S23.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S23.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S23.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [14, 332; 355, 609]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 8"
      Show          off
      Position      [2230, 680]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S14.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S14.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S14.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S14.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S14.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S14.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [27, 337; 368, 614]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 9"
      Show          off
      Position      [2330, 480]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end\n"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S14.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S14.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S14.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S14.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S14.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S14.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [10, 388; 351, 665]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 10"
      Show          off
      Position      [2300, 645]
      Direction     right
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S23.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S23.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S23.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S23.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S23.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S23.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 346; 341, 623]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 11"
      Show          off
      Position      [2260, 645]
      Direction     right
      Flipped       on
      LabelPosition east
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S23.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S23.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S23.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S23.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S23.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S23.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S23.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 329; 341, 606]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "MOSFET and Diode 12"
      Show          off
      Position      [2330, 680]
      Direction     down
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Separate MOSFET and Diode"
      MaskDescription "This subsystem contains an individual MOSFET and diode "
"as well as a case-to-heatsink thermal resistance. This setup is intended to b"
"e used with Wolfspeed SiC devices and all of the parameter values of the comp"
"onents within are initialized in the Simulation Parameters window (Ctrl+E)."
      MaskDisplay   "line([0, 0, -10], [20, 10, 10])\n"
"line([0, 0, -10], [10, 0, 0])\n"
"line([0, 0, -10], [-20, -10, -10])\n"
"line([-10, -10], [13, 7])\n"
"line([-10, -10], [3, -3])\n"
"line([-10, -10], [-7, -13])\n"
"line([-15, -15], [10, -10])\n"
"line([-15, -20], [0, 0])\n"
"line([-4, -8, -4], [2, 0, -2])\n"
"line([12, 12, 0], [6, 14, 14])\n"
"line([5, 19], [-6, -6])\n"
"line([0, 12, 12], [-14, -14, -6])\n"
"line([12, 19, 5, 12], [-6, 6, 6, -6])"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if ~isnan(num_par_device) && ((floor(num_par_device) ~= n"
"um_par_device) || (num_par_device < 1))\n"
"  error('\"Number of parallel devices\" must be an integer and greater than z"
"ero.');\n"
"end\n"
"\n"
"\n"
"if(~isempty(therm_mosfet.Von))\n"
"\ttherm_mosfet.Von.i = therm_mosfet.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eon))\n"
"\ttherm_mosfet.Eon.i = therm_mosfet.Eon.i*num_par_device;\n"
"\ttherm_mosfet.Eon.E = therm_mosfet.Eon.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.Eoff))\n"
"\ttherm_mosfet.Eoff.i = therm_mosfet.Eoff.i*num_par_device;\n"
"\ttherm_mosfet.Eoff.E = therm_mosfet.Eoff.E*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.Von))\n"
"\ttherm_body_diode.Von.i = therm_body_diode.Von.i*num_par_device;\n"
"end\n"
"if(~isempty(therm_mosfet.CauerChain)) \n"
"\ttherm_mosfet.CauerChain.R = therm_mosfet.CauerChain.R/(num_par_device);\n"
"\ttherm_mosfet.CauerChain.C = therm_mosfet.CauerChain.C*num_par_device;\n"
"end\n"
"if(~isempty(therm_body_diode.CauerChain)) \n"
"\ttherm_body_diode.CauerChain.R = therm_body_diode.CauerChain.R/(num_par_devi"
"ce);\n"
"\ttherm_body_diode.CauerChain.C = therm_body_diode.CauerChain.C*num_par_devic"
"e;\n"
"end\n"
"\n"
"if( ~isnan(num_par_device))\n"
"\tron_mosfet = ron_mosfet/(num_par_device);\n"
"\tron_body_diode = ron_mosfet/(num_par_device);\n"
"end\n"
"\n"
"if( ~isnan(rth_ch) && ~isnan(num_par_device))\n"
"\trth_ch = rth_ch/(num_par_device);\n"
"end"
      Parameter {
        Variable      "therm_mosfet"
        Prompt        "Wolfspeed SiC MOSFET"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_mosfet"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "therm_body_diode"
        Prompt        "Body diode"
        Type          Thermal
        Class         ""
        Value         "ref:S14.therm_body_diode"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "ron_mosfet"
        Prompt        "MOSFET on resistance"
        Type          FreeText
        Value         "S14.ron_mosfet"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "vf_body_diode"
        Prompt        "Body diode forward voltage"
        Type          FreeText
        Value         "S14.vf_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ron_body_diode"
        Prompt        "Body diode on resistance"
        Type          FreeText
        Value         "S14.ron_body_diode"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgon"
        Prompt        "External turn-on gate resistance"
        Type          FreeText
        Value         "S14.Rgon"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rgoff"
        Prompt        "External turn-off gate resistance"
        Type          FreeText
        Value         "S14.Rgoff"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "num_par_device"
        Prompt        "Number of parallel devices"
        Type          FreeText
        Value         "S14.num_par_device"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "rth_ch"
        Prompt        "Thermal resistance case-heatsink"
        Type          FreeText
        Value         "rth_ch"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "t_init"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [0, 357; 341, 634]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "Gate"
          Show          off
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [110, 25]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [110, 180]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Mosfet
          Name          "FET1"
          Show          off
          Position      [110, 80]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Ron"
            Value         "ron_mosfet"
            Show          off
          }
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_mosfet"
            Show          off
            CustomVariables "struct('Rgon',Rgon,'Rgoff',Rgoff)"
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
        }
        Component {
          Type          Diode
          Name          "D1"
          Show          off
          Position      [135, 80]
          Direction     down
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Vf"
            Value         "vf_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Ron"
            Value         "ron_body_diode"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm_body_diode"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "t_init"
            Show          off
          }
          Parameter {
            Variable      "SwitchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "f_grid"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          HeatSink
          Name          "Heat Sink"
          Show          off
          Position      [115, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-32, -27; 32, 27]
          Parameter {
            Variable      "Cth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          HeatPort
            Position      [0, -37]
            Direction     up
          }
        }
        Component {
          Type          AmbientTemperature
          Name          "Ambient"
          Show          on
          Position      [245, 80]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "AllowStarConnection"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          ThermalResistor
          Name          "Rth\nCase-Heatsink\n(thermal grease)"
          Show          on
          Position      [195, 80]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Rth"
            Value         "rth_ch"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am1"
          Show          off
          Position      [110, 135]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   1
          Points        [135, 100; 110, 100]
          Branch {
            DstComponent  "FET1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Am1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "D1"
          SrcTerminal   2
          Points        [135, 60; 110, 60]
          Branch {
            DstComponent  "FET1"
            DstTerminal   1
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gate"
          SrcTerminal   1
          DstComponent  "FET1"
          DstTerminal   3
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Ambient"
          SrcTerminal   1
          DstComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          DstTerminal   2
        }
        Connection {
          Type          HeatPipe
          SrcComponent  "Rth\nCase-Heatsink\n(thermal grease)"
          SrcTerminal   1
          DstComponent  "Heat Sink"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "Am1"
          SrcTerminal   2
          DstComponent  "-"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "Device voltage"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET voltage"}
        }
      }
      MaskProbe {
        Name          "Device current"
        Probe {
          Component     "Am1"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Device junction temperature"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET junction temp"}
        }
      }
      MaskProbe {
        Name          "Device case temperature"
        Probe {
          Component     "Heat Sink"
          Path          ""
          Signals       {"Temperature"}
        }
      }
      MaskProbe {
        Name          "Device switching loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET switching loss"}
        }
      }
      MaskProbe {
        Name          "Device conduction loss"
        Probe {
          Component     "FET1"
          Path          ""
          Signals       {"MOSFET conduction loss"}
        }
        Probe {
          Component     "D1"
          Path          ""
          Signals       {"Diode conduction loss"}
        }
      }
    }
    Component {
      Type          Gain
      Name          "Gain"
      Show          off
      Position      [2740, 1005]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "K"
        Value         "1/S14.num_par_device"
        Show          off
      }
      Parameter {
        Variable      "Multiplication"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "OutputDataType"
        Value         "11"
        Show          off
      }
      Parameter {
        Variable      "DataTypeOverflowMode"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "GainDataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Assertions SA1"
      Show          on
      Position      [2820, 950]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -15; 20, 15]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-20, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [394, 258; 708, 493]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Range"
          Name          "Tjmax"
          Show          on
          Position      [210, 100]
          Direction     up
          Flipped       off
          LabelPosition east
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "upper_limit"
            Value         "S14.Tjmax"
            Show          off
          }
          Parameter {
            Variable      "lower_limit"
            Value         "S14.Tjmin"
            Show          off
          }
          Parameter {
            Variable      "include_limits"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Tj SOA!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Range"
          Name          "Vdsmax"
          Show          on
          Position      [210, 40]
          Direction     up
          Flipped       off
          LabelPosition east
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "upper_limit"
            Value         "S14.Vdsmax"
            Show          off
          }
          Parameter {
            Variable      "lower_limit"
            Value         "-S14.Vdsmax"
            Show          off
          }
          Parameter {
            Variable      "include_limits"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Vds SOA!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Range"
          Name          "Idmax"
          Show          on
          Position      [210, 70]
          Direction     up
          Flipped       off
          LabelPosition east
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "upper_limit"
            Value         "S14.Idsmax"
            Show          off
          }
          Parameter {
            Variable      "lower_limit"
            Value         "-S14.Idsmax"
            Show          off
          }
          Parameter {
            Variable      "include_limits"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Ids SOA!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Component {
          Type          Input
          Name          "T"
          Show          on
          Position      [35, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Ids"
          Show          on
          Position      [35, 70]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Vds"
          Show          on
          Position      [35, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Lookup1D
          Name          "1D-Table"
          Show          off
          Position      [135, 120]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "x"
            Value         "S14.TcDerating"
            Show          off
          }
          Parameter {
            Variable      "f(x)"
            Value         "S14.IdsMaxDerated"
            Show          off
          }
          Parameter {
            Variable      "ZeroCrossingSignals"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Dynamic\\nUpper Limit"
          Name          "Id derating"
          Show          off
          Position      [210, 130]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "include_limit"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Ids temperature derating SOA"
"!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-15, -10]
            Direction     left
          }
        }
        Component {
          Type          Abs
          Name          "Abs"
          Show          off
          Position      [135, 155]
          Direction     right
          Flipped       off
          LabelPosition south
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [85, 105]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope"
          Show          on
          Position      [235, 170]
          Direction     up
          Flipped       off
          LabelPosition south
          Location      [1024, 387; 1412, 615]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAACrAAAAyPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMBAAAAHAAAAMgAAABmAP///wAAAAMAAAAAAAA"
"AAPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABCAP///wAAANgAAADI"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJA"
"AAABwAAAGQAAAAEAAAAZAAAAAUAAABkAAAAAgAAAGQAAAADAAAAZAAAAAEAAABkAAAACAAAAGQAAA"
"AJAAAAZAAAAAYAAABkAAAAjwAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAB"
"8AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAA"
"AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAA"
"AAAAAATAAAAAQAAAAAAAAPoAAAAABM="
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          Axes          "1"
          TimeRange     "0.0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    ""
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux"
          Show          off
          Position      [195, 170]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Vds"
          SrcTerminal   1
          DstComponent  "Vdsmax"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "T"
          SrcTerminal   1
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   2
          DstComponent  "Tjmax"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          Points        [95, 110; 95, 120]
          DstComponent  "1D-Table"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Ids"
          SrcTerminal   1
          Points        [60, 70]
          Branch {
            DstComponent  "Idmax"
            DstTerminal   1
          }
          Branch {
            Points        [60, 155]
            DstComponent  "Abs"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux"
          SrcTerminal   1
          DstComponent  "Scope"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "1D-Table"
          SrcTerminal   2
          Points        [175, 120]
          Branch {
            DstComponent  "Id derating"
            DstTerminal   2
          }
          Branch {
            Points        [175, 165]
            DstComponent  "Mux"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Abs"
          SrcTerminal   2
          Points        [165, 155]
          Branch {
            Points        [165, 130]
            DstComponent  "Id derating"
            DstTerminal   1
          }
          Branch {
            Points        [165, 175]
            DstComponent  "Mux"
            DstTerminal   3
          }
        }
        Annotation {
          Name          "Idmax(Tcase)"
          Position      [265, 130]
        } 
      }
      MaskProbe {
        Name          "Vds SOA Violation"
        Probe {
          Component     "Vdsmax"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
      MaskProbe {
        Name          "Idmax SOA Violation"
        Probe {
          Component     "Idmax"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
      MaskProbe {
        Name          "Tjmax SOA Violation"
        Probe {
          Component     "Tjmax"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
      MaskProbe {
        Name          "Id Derating SOA Violation"
        Probe {
          Component     "Id derating"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
    }
    Component {
      Type          Gain
      Name          "Gain1"
      Show          off
      Position      [2740, 1160]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "K"
        Value         "1/S23.num_par_device"
        Show          off
      }
      Parameter {
        Variable      "Multiplication"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "OutputDataType"
        Value         "11"
        Show          off
      }
      Parameter {
        Variable      "DataTypeOverflowMode"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "GainDataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Vdc"
      Show          on
      Position      [2005, 1125]
      Direction     left
      Flipped       on
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "Vm8"
        Path          ""
        Signals       {"Measured voltage"}
      }
      Probe {
        Component     "Vm9"
        Path          ""
        Signals       {"Measured voltage"}
      }
    }
    Component {
      Type          PeriodicAverage
      Name          "Periodic Average 4"
      Show          off
      Position      [2740, 1075]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "T_average"
        Value         "1/fsw"
        Show          off
      }
    }
    Component {
      Type          PeriodicImpulseAverage
      Name          "Periodic\nImpulse Average1"
      Show          off
      Position      [2740, 1200]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "T_average"
        Value         "1/fsw"
        Show          off
      }
    }
    Component {
      Type          PeriodicImpulseAverage
      Name          "Periodic\nImpulse Average2"
      Show          off
      Position      [2740, 1045]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "T_average"
        Value         "1/fsw"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Imag"
      Show          off
      Position      [2005, 1160]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -10; 20, 10]
      Parameter {
        Variable      "Value"
        Value         "iMag"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "phi"
      Show          off
      Position      [2005, 1180]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -10; 20, 10]
      Parameter {
        Variable      "Value"
        Value         "phi"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Sub"
      Show          off
      Position      [2070, 1170]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-20, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [24, -10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [24, 10]
        Direction     right
      }
      Schematic {
        Location      [640, 312; 995, 589]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Function
          Name          "Fcn"
          Show          off
          Position      [185, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u[1]*cos(u[2])"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "Fcn1"
          Show          off
          Position      [185, 95]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u[1]*sin(u[2])"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux1"
          Show          off
          Position      [120, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          base64 "zqY="
          Show          on
          Position      [25, 95]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "|i|"
          Show          on
          Position      [25, 60]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Id*"
          Show          on
          Position      [275, 65]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Iq*"
          Show          on
          Position      [275, 95]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Irated"
          Show          on
          Position      [75, 60]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Irated"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux1"
          SrcTerminal   1
          Points        [130, 80]
          Branch {
            Points        [130, 95]
            DstComponent  "Fcn1"
            DstTerminal   1
          }
          Branch {
            Points        [130, 65]
            DstComponent  "Fcn"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  base64 "zqY="
          SrcTerminal   1
          Points        [105, 95]
          DstComponent  "Mux1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Fcn"
          SrcTerminal   2
          DstComponent  "Id*"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Fcn1"
          SrcTerminal   2
          DstComponent  "Iq*"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "|i|"
          SrcTerminal   1
          DstComponent  "Irated"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Irated"
          SrcTerminal   2
          Points        [105, 60]
          DstComponent  "Mux1"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Junction Temperatures"
      Show          on
      Position      [2640, 1330]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "MOSFET and Diode 1"
        Path          ""
        Signals       {"Device junction temperature"}
      }
      Probe {
        Component     "MOSFET and Diode 2"
        Path          ""
        Signals       {"Device junction temperature"}
      }
      Probe {
        Component     "MOSFET and Diode 3"
        Path          ""
        Signals       {"Device junction temperature"}
      }
      Probe {
        Component     "MOSFET and Diode 4"
        Path          ""
        Signals       {"Device junction temperature"}
      }
    }
    Component {
      Type          Scope
      Name          "Thermal Analysis"
      Show          on
      Position      [2820, 1360]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [0, 23; 1440, 833]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAACrAAACHfwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAK0A////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAh0AAABnAP///wAAAAMAAAHjAAAAdvw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAAAAAeMAAABPAP///wAABaAAAAMPAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":294,\"Labels\":[],"
"\"VisualIdxs\":[]}"
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "4"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          "System Losses"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "Power / W"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Device Temperatures"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Device 11 junction temperature", "Device 12 junction t"
"emperature", "Device 13 junction temperature", "Device 14 junction temperatur"
"e"}
        SignalTypes   [ ]
        AxisLabel     "Temperature / C"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA1 Assertions"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      1
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA2 Assertions"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      1
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {"Device 11 junction temperature", "Device 12 junction"
" temperature", "Device 13 junction temperature", "Device 14 junction temperat"
"ure"}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Scope
      Name          "Grid Connection\nand Modulator"
      Show          on
      Position      [2595, 460]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [-701, 140; 835, 963]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAC0AAABePwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAIUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAXgAAABnAP///wAAAAMAAAYAAAAA6/w"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAAAABgAAAABPAP///wAABgAAAAMcAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":228,\"Labels\":[\""
"RMS\"],\"VisualIdxs\":[9]}"
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"=="
      Axes          "3"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "2"
      Axis {
        Name          "Grid Voltage"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "Voltage / V"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Output Current"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "Current / A"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Modulator Signals"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Modulator"
      Show          on
      Position      [2505, 480]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "Modulator"
        Path          "Controller"
        Signals       {"Injection Signal", "SPWM + Injection"}
      }
    }
    Component {
      Type          Subsystem
      Name          "Assertions SA2"
      Show          on
      Position      [2820, 1105]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-20, -15; 20, 15]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-20, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [0, 92; 1536, 844]
        ZoomFactor    1.96257
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Range"
          Name          "Tjmax"
          Show          on
          Position      [210, 100]
          Direction     up
          Flipped       off
          LabelPosition east
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "upper_limit"
            Value         "S23.Tjmax"
            Show          off
          }
          Parameter {
            Variable      "lower_limit"
            Value         "S23.Tjmin"
            Show          off
          }
          Parameter {
            Variable      "include_limits"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Tj SOA!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Range"
          Name          "Vdsmax"
          Show          on
          Position      [210, 40]
          Direction     up
          Flipped       off
          LabelPosition east
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "upper_limit"
            Value         "S23.Vdsmax"
            Show          off
          }
          Parameter {
            Variable      "lower_limit"
            Value         "-S23.Vdsmax"
            Show          off
          }
          Parameter {
            Variable      "include_limits"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Vds SOA!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Range"
          Name          "Idmax"
          Show          on
          Position      [210, 70]
          Direction     up
          Flipped       off
          LabelPosition east
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "upper_limit"
            Value         "S23.Idsmax"
            Show          off
          }
          Parameter {
            Variable      "lower_limit"
            Value         "-S23.Idsmax"
            Show          off
          }
          Parameter {
            Variable      "include_limits"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Ids SOA!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Component {
          Type          Input
          Name          "T"
          Show          on
          Position      [35, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Ids"
          Show          on
          Position      [35, 70]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Vds"
          Show          on
          Position      [35, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Lookup1D
          Name          "1D-Table"
          Show          off
          Position      [135, 120]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "x"
            Value         "S23.TcDerating"
            Show          off
          }
          Parameter {
            Variable      "f(x)"
            Value         "S23.IdsMaxDerated"
            Show          off
          }
          Parameter {
            Variable      "ZeroCrossingSignals"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Assertions/Assert Dynamic\\nUpper Limit"
          Name          "Id derating"
          Show          off
          Position      [210, 130]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "include_limit"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "action"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "message"
            Value         "Device operates out of Ids temperature derating SOA"
"!"
            Show          off
            Evaluate      off
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-15, -10]
            Direction     left
          }
        }
        Component {
          Type          Abs
          Name          "Abs"
          Show          off
          Position      [135, 155]
          Direction     right
          Flipped       off
          LabelPosition south
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [85, 105]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope"
          Show          on
          Position      [235, 170]
          Direction     up
          Flipped       off
          LabelPosition south
          Location      [-287, 153; 1249, 936]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAACnAAAC9PwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGcA////+wAAAAwAVAByAGEAYwBlAHMBAAAALwAAAvQAAABnAP///wAAAAMAAAAAAAA"
"AAPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABPAP///wAABVUAAAL0"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":124,\"Labels\""
":[],\"VisualIdxs\":[]}"
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          Axes          "1"
          TimeRange     "0.0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    ""
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux"
          Show          off
          Position      [195, 170]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Vds"
          SrcTerminal   1
          DstComponent  "Vdsmax"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "T"
          SrcTerminal   1
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   2
          DstComponent  "Tjmax"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          Points        [95, 110; 95, 120]
          DstComponent  "1D-Table"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Ids"
          SrcTerminal   1
          Points        [60, 70]
          Branch {
            DstComponent  "Idmax"
            DstTerminal   1
          }
          Branch {
            Points        [60, 155]
            DstComponent  "Abs"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux"
          SrcTerminal   1
          DstComponent  "Scope"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Abs"
          SrcTerminal   2
          Points        [165, 155]
          Branch {
            Points        [165, 130]
            DstComponent  "Id derating"
            DstTerminal   1
          }
          Branch {
            Points        [165, 175]
            DstComponent  "Mux"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "1D-Table"
          SrcTerminal   2
          Points        [175, 120]
          Branch {
            DstComponent  "Id derating"
            DstTerminal   2
          }
          Branch {
            Points        [175, 165]
            DstComponent  "Mux"
            DstTerminal   2
          }
        }
        Annotation {
          Name          "<html><body>\n<p align=\"center\">Idmax(Tc)</p></body"
"></html>"
          Position      [255, 130]
        } 
      }
      MaskProbe {
        Name          "Vds SOA Violation"
        Probe {
          Component     "Vdsmax"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
      MaskProbe {
        Name          "Idmax SOA Violation"
        Probe {
          Component     "Idmax"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
      MaskProbe {
        Name          "Tjmax SOA Violation"
        Probe {
          Component     "Tjmax"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
      MaskProbe {
        Name          "Id Derating SOA Violation"
        Probe {
          Component     "Id derating"
          Path          ""
          Signals       {"Assertion value"}
        }
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Assertions"
      Show          on
      Position      [2640, 1370]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "Assertions SA1"
        Path          ""
        Signals       {"Id Derating SOA Violation", "Vds SOA Violation", "Idma"
"x SOA Violation", "Tjmax SOA Violation"}
      }
      Probe {
        Component     "Assertions SA2"
        Path          ""
        Signals       {"Idmax SOA Violation", "Vds SOA Violation", "Tjmax SOA "
"Violation", "Id Derating SOA Violation"}
      }
    }
    Component {
      Type          SignalDemux
      Name          "Demux2"
      Show          off
      Position      [2770, 1370]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "[4 4]"
        Show          off
      }
    }
    Component {
      Type          SwitchLossCalculator
      Name          "Switch Loss\nCalculator"
      Show          off
      Position      [2640, 1275]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "T_average"
        Value         "1/F"
        Show          off
      }
      Parameter {
        Variable      "ConductionLoss"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "SwitchingLoss"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "TurnOnLoss"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "TurnOffLoss"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "TotalLoss"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "GroupTypes"
        Value         "1"
        Show          off
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 1"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 1"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 3"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 3"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 2"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 2"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 4"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 4"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 5"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 5"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 6"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 6"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 7"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 7"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 8"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 8"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 9"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 9"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 10"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 10"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 11"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 11"
        Signals       {}
      }
      Probe {
        Component     "FET1"
        Path          "MOSFET and Diode 12"
        Signals       {}
      }
      Probe {
        Component     "D1"
        Path          "MOSFET and Diode 12"
        Signals       {}
      }
    }
    Component {
      Type          Display
      Name          "Losses (W)"
      Show          on
      Position      [2775, 1275]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-36, -31; 36, 31]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "SA1 Signals"
      Show          on
      Position      [2820, 1015]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [1, 716; 440, 1309]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAC0AAABp/wCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAANQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwIAAAQ4AA"
"ACIQAAAMgAAAB4+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAacAAABmAP///wAAAAMAAALYAAAAg/w"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAAAAAtgAAABCAP///wAAAbcAAAI1AAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAEAAAAYAFMAYQB2AGUAZAAgAHYAaQBlAHcAIAAxAAAAAAAAA"
"AA/kREREREREQAAAAUAf/gAAAAAAAB/+AAAAAAAAAB/+AAAAAAAAH/4AAAAAAAAAH/4AAAAAAAAf/"
"gAAAAAAAAAf/gAAAAAAAB/+AAAAAAAAAB/+AAAAAAAAH/4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"A"
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"wAAAGQAAAACAAAAZAAAAAkAAABkAAAACAAAAGQAAAAFAAAAZAAAAAQAAABkAAAABwAAAGQAAAAGAA"
"AAZAAAAAEAAABkAAABVQAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAFCAAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AATAAAAAQAAAAAAAAPoAAAAABM="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAAAAA="
      Axes          "5"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          "SA1 Device Voltage"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Vds"}
        SignalTypes   [ ]
        AxisLabel     "Voltage / V"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA1 Device Current"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Id"}
        SignalTypes   [ ]
        AxisLabel     "Current / A"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA1 Device Junction and Case Temperatures"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Tj"}
        SignalTypes   [ ]
        AxisLabel     base64 "VGVtcGVyYXR1cmUgLyDCsEM="
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA1 Device Switching Loss"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Psw"}
        SignalTypes   [ ]
        AxisLabel     "Power / W"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA1 Device Conduction Loss"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Pc_mosfet", "Pc_bodydiode"}
        SignalTypes   [ ]
        AxisLabel     "Power / W"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Scope
      Name          "SA2 Signals"
      Show          on
      Position      [2820, 1170]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [441, 53; 1377, 1080]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAC0AAADY/wCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAANQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMBAAAAHAAAA2MAAABmAP///wAAAAMAAAOoAAAAg/w"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQBAAAAAAAAA6gAAABCAP///wAAAvMAAANjAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL+AMAAAAHAAAAC"
"AAAAGQAAAAJAAAAZAAAAAYAAABkAAAABwAAAGQAAAAEAAAAZAAAAAUAAABkAAAAAwAAAGQAAAOoAA"
"AACwEAAAEAAAAAAAAAAAAAAABk/////wAAAIEAAAAAAAAACwAAAUQAAAABAAAAAAAAAGQAAAABAAA"
"AAAAAAGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAB"
"AAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAZwAAAABAAAAAAAAA+gAA"
"AAAEw=="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAAAAA="
      Axes          "5"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          "SA2 Device Voltage"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Vds"}
        SignalTypes   [ ]
        AxisLabel     "Votlage / V"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA2 Device Current"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Id"}
        SignalTypes   [ ]
        AxisLabel     "Current / A"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA2 Device Junction and Case Temperatures"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Tj"}
        SignalTypes   [ ]
        AxisLabel     base64 "VGVtcGVyYXR1cmUgLyDCsEM="
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA2 Device Switching Loss"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Psw"}
        SignalTypes   [ ]
        AxisLabel     "Power / W"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "SA2 Device Conduction Loss"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {"Pc_mosfet", "Pc_bodydiode"}
        SignalTypes   [ ]
        AxisLabel     "Power / W"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {"Vds"}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {"Id"}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {"Tj"}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {"Psw"}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {"Pc_mosfet", "Pc_bodydiode"}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Constant
      Name          "Voltage Setpoint"
      Show          on
      Position      [575, 1435]
      Direction     left
      Flipped       on
      LabelPosition northNortheast
      Frame         [-25, -10; 25, 10]
      Parameter {
        Variable      "Value"
        Value         "550"
        Show          on
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "Battery\nSOC"
      Show          on
      Position      [570, 1125]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [-2941, 255; -893, 1243]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAC0AAAApfwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAHAAAAKUAAABnAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABPAP///wAACAAAAAPBAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":150,\"Labels\":[],"
"\"VisualIdxs\":[]}"
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          "Battery SOC"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Display
      Name          "Display"
      Show          on
      Position      [600, 1190]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-46, -11; 46, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "6"
        Show          off
      }
    }
    Component {
      Type          Capacitor
      Name          "C2"
      Show          off
      Position      [730, 580]
      Direction     down
      Flipped       on
      LabelPosition southeast
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "C"
        Value         "Cpv"
        Show          on
      }
      Parameter {
        Variable      "v_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L2"
      Show          off
      Position      [810, 495]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "L"
        Value         "Lpv"
        Show          on
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Diode
      Name          "D4"
      Show          off
      Position      [985, 495]
      Direction     left
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Vf"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "SwitchModel"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "f_grid"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          XYPlot
      Name          "P vs V"
      Show          on
      Position      [1395, 160]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [-4230, 137; -2694, 960]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAAAAP/"
"///8AAAB4AP///wAABgAAAAMcAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBv"
"AGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   ""
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      TimeRange     "0.0"
      ShownPeriods  "1"
      Open          "0"
      Ts            "1e-3"
      SampleLimit   "0"
      XAxisLabel    "Panel Voltage / V"
      AspectRatioX  "-1"
      AspectRatioY  "-1"
      PlotStyle     "1"
      ShowLegend    "2"
      Axis {
        Name          "Voltage vs. Power"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Power / W"
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Voltage / V"
      }
    }
    Component {
      Type          PlecsProbe
      Name          "PV V, I"
      Show          on
      Position      [1055, 170]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Probe {
        Component     "Vm5"
        Path          ""
        Signals       {"Measured voltage"}
      }
      Probe {
        Component     "Am2"
        Path          ""
        Signals       {"Measured current"}
      }
    }
    Component {
      Type          Voltmeter
      Name          "Vm5"
      Show          off
      Position      [585, 580]
      Direction     up
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Subsystem
      Name          "Sub1"
      Show          off
      Position      [1150, 170]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-25, -20; 25, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [29, -10]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [29, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-25, 0]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [29, 10]
        Direction     right
      }
      Schematic {
        Location      [213, 439; 515, 655]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          SignalDemux
          Name          "Demux3"
          Show          off
          Position      [75, 65]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          off
          Position      [145, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "V_pv"
          Show          on
          Position      [205, 35]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "P_pv"
          Show          on
          Position      [205, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "V,I"
          Show          on
          Position      [30, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "I_pv"
          Show          on
          Position      [205, 100]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "P_pv"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "V,I"
          SrcTerminal   1
          DstComponent  "Demux3"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   3
          Points        [100, 70]
          Branch {
            DstComponent  "Product"
            DstTerminal   3
          }
          Branch {
            Points        [100, 100]
            DstComponent  "I_pv"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   2
          Points        [100, 60]
          Branch {
            Points        [100, 35]
            DstComponent  "V_pv"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Product"
            DstTerminal   2
          }
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "DC/DC Controller\nPV Boost"
      Show          on
      Position      [705, 290]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-75, -55; 75, 55]
      TreatAsAtomicUnit on
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-75, 10]
        Direction     left
        Index         "1"
      }
      Terminal {
        Type          Input
        Position      [-75, -15]
        Direction     left
        Index         "2"
      }
      Terminal {
        Type          Output
        Position      [79, 5]
        Direction     right
        Index         "1"
      }
      Terminal {
        Type          Input
        Position      [-75, 40]
        Direction     left
        Index         "3"
      }
      Terminal {
        Type          Input
        Position      [-75, -40]
        Direction     left
        Index         "4"
      }
      Schematic {
        Location      [308, 140; 1298, 504]
        ZoomFactor    1.30957
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Modulators/Symmetrical PWM"
          Name          "Symmetrical \nPWM"
          Show          on
          Position      [380, 70]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          Parameter {
            Variable      "sampling"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "fc"
            Value         "fsw"
            Show          off
          }
          Parameter {
            Variable      "carrier_phaseshift"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "carrier_limits"
            Value         "[BstMinDuty  BstMaxDuty]"
            Show          off
          }
          Parameter {
            Variable      "output_values"
            Value         "[0 1]"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
        }
        Component {
          Type          Input
          Name          "i"
          Show          on
          Position      [25, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "v"
          Show          on
          Position      [25, 60]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "s"
          Show          on
          Position      [450, 70]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "OutputWhenDisabled"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "InitialOutput"
            Value         "[]"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "MPP\ncontroller"
          Show          on
          Position      [145, 75]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-25, -10; 25, 10]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskType      "MPPT Controller"
          MaskDescription "Implements an MPPT controller operated under Increm"
"ental Conductance or Perturb & Observe search algorithms. The controller can "
"also be enabled to perform an outer global search to determine the global MPP"
" during partial shading condition."
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          MaskInit      "if ((epsilon_partialShading <=0) || (epsilon_partialS"
"hading >= 1))\n"
"\terror('Global search criterion must be in range [0,1]');\n"
"elseif (\tts<=0)\n"
"\terror('MPPT sampling time must be positive');\n"
"elseif (\tpanel_num <= 0)\n"
"\terror('Number of series connected panels must be positive');\n"
"elseif ( (\tVRefMin< 0) || (VRefMin > VRefMax))\n"
"\terror('Minimum Reference voltage must be in range [0, VRefMax]');\n"
"elseif ( (\tVRefMax < VRefMin) || (VRefMax > VOC*panel_num))\n"
"\terror('Maximum Reference voltage must be in range [VRefMin, Total VOC]');\n"
"elseif (\tnumOfSearchZone <= 0)\n"
"\terror('Number of global search zones must be positive.');\t\n"
"elseif (\tnumOfStabilizationCycles <= 0)\n"
"\terror('Number of cycles to stabilize after global search must be positive.'"
");\t\n"
"end\n"
"\n"
"if(MPPT_config == 1)\t\n"
"\tif (epsilon1 <=0) \n"
"\t\terror('MPPT Voltage Stopping Criteria must be positive');\n"
"\telseif (epsilon2 <=0) \n"
"\t\terror('MPPT Current Stopping Criteria must be positive');\n"
"\telseif (epsilon3 <=0) \n"
"\t\terror('MPPT Power Stopping Criteria must be positive');\n"
"\telseif (VOC <=0) \n"
"\t\terror('Maximum Open Circuit Voltage must be positive');\n"
"\telseif (VStepMax <=0) \n"
"\t\terror('Maximum Reference Voltage Step must be positive');\n"
"\tend\n"
"else    %%MPPT_config == 2\n"
"\tif (DPDV_MAX <= 0)\n"
"\t\terror('Max dP/dV must be positive');\n"
"\telseif (DPDV_MIN >= 0)\n"
"\t\terror('Min dP/dV must be negative');\n"
"\telseif (DELTA_V_MIN <= 0)\n"
"\t\terror('Min Vref change must be positive');\n"
"\telseif (accFactor <= 0)\n"
"\t\terror('Vref change factor must be positive');\n"
"\tend\n"
"end"
          Parameter {
            Variable      "ts"
            Prompt        "Sample time"
            Type          FreeText
            Value         "MPPTCtrl.T_samp"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "MPPT_config"
            Prompt        "MPPT Configuration"
            Type          FixedText
            PossibleValues {"Incremental Conductance", "P&O"}
            Value         "1"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "GlobalMPPT"
            Prompt        "Global MPPT Search"
            Type          FixedText
            PossibleValues {"Disable", "Enable"}
            Value         "1"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "epsilon_partialShading"
            Prompt        "Global Search Power Threshold"
            Type          FreeText
            Value         "Global.searchThreshold"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "VOC"
            Prompt        "Maximum Open Circuit Voltage"
            Type          FreeText
            Value         "SP.V_OC_n"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "VRefMin"
            Prompt        "Minimum Ref Voltage"
            Type          FreeText
            Value         "Global.VRefMin"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "VRefMax"
            Prompt        "Maximum Ref Voltage"
            Type          FreeText
            Value         "Global.VRefMax"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "numOfSearchZone"
            Prompt        "Number of Global Search Zones"
            Type          FreeText
            Value         "Global.numGlobalSearchZones"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "panel_num"
            Prompt        "Number of Panels"
            Type          FreeText
            Value         "NumberOfSeriesConnectedPanels"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "numOfStabilizationCycles"
            Prompt        "Number of Stabilization cycles after Global Search"
            Type          FreeText
            Value         "Global.numOfStabilizationCycles"
            Show          off
            Tunable       off
            TabName       "General"
          }
          Parameter {
            Variable      "epsilon1"
            Prompt        "MPPT Voltage Stopping Criteria"
            Type          FreeText
            Value         "INC.VStopLimit"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "epsilon2"
            Prompt        "MPPT Current Stopping Criteria"
            Type          FreeText
            Value         "INC.IStopLimit"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "epsilon3"
            Prompt        "MPPT Power Stopping Criteria"
            Type          FreeText
            Value         "INC.PStopLimit"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "alpha"
            Prompt        "Alpha"
            Type          FreeText
            Value         "INC.Alpha"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "beta"
            Prompt        "Beta"
            Type          FreeText
            Value         "INC.Beta"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "VStepMax"
            Prompt        "Maximum Reference Voltage Step"
            Type          FreeText
            Value         "INC.VrefStepMax"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "Max_dPdV"
            Prompt        "Max dP/dV [INC]"
            Type          FreeText
            Value         "INC.dPdVMax"
            Show          off
            Tunable       off
            TabName       "Incremental Conductance"
          }
          Parameter {
            Variable      "DELTA_V_MIN"
            Prompt        "Min Vref change"
            Type          FreeText
            Value         "PnO.VrefStepMin"
            Show          off
            Tunable       off
            TabName       "PandO"
          }
          Parameter {
            Variable      "DPDV_MAX"
            Prompt        "Max dP/dV [P&O]"
            Type          FreeText
            Value         "PnO.dPdVMax"
            Show          off
            Tunable       off
            TabName       "PandO"
          }
          Parameter {
            Variable      "DPDV_MIN"
            Prompt        "Min dP/dV [P&O]"
            Type          FreeText
            Value         "PnO.dPdVMin "
            Show          off
            Tunable       off
            TabName       "PandO"
          }
          Parameter {
            Variable      "accFactor"
            Prompt        "Vref change factor"
            Type          FreeText
            Value         "PnO.VrefChangeFactor"
            Show          off
            Tunable       off
            TabName       "PandO"
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
          Schematic {
            Location      [-1511, 703; -71, 1492]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Output
              Name          "vref"
              Show          on
              Position      [240, 40]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "v,i"
              Show          on
              Position      [40, 40]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          CScript
              Name          "MPPT"
              Show          on
              Position      [140, 40]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "DialogGeometry"
                Value         "[-1538 314 1031 583]"
                Show          off
              }
              Parameter {
                Variable      "NumInputs"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NumOutputs"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "NumContStates"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "NumDiscStates"
                Value         "4"
                Show          off
              }
              Parameter {
                Variable      "NumZCSignals"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "DirectFeedthrough"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Ts"
                Value         "ts"
                Show          off
              }
              Parameter {
                Variable      "TerminalBasedSampleTimes"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Parameters"
                Value         "VStepMax,VOC,epsilon1,epsilon2,epsilon3,alpha, "
"beta,Max_dPdV,epsilon_partialShading,GlobalMPPT,panel_num,VRefMin,VRefMax,num"
"OfSearchZone,MPPT_config,DPDV_MAX, DPDV_MIN, DELTA_V_MIN, accFactor, numOfSta"
"bilizationCycles"
                Show          off
              }
              Parameter {
                Variable      "LangStandard"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "GnuExtensions"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "RuntimeCheck"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "HighlightLevel"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "Declarations"
                Value         "#include\t<math.h>\n"
"\n"
"typedef char bool_t;\n"
"\n"
"#define TRUE 1\n"
"#define FALSE 0\n"
"\n"
"// Macro to indicate the voltage and current sampled in current iteration\n"
"\n"
"#define V_IN InputSignal(0,0)\n"
"#define I_IN InputSignal(0,1)\n"
"#define P_IN (V_IN*I_IN)\n"
"\n"
"// Macro to indicate the voltage and current sampled in previous iteration\n"
"#define Vref DiscState(0)\n"
"#define I_OLD DiscState(1)\n"
"#define V_OLD DiscState(2)\n"
"#define P_OLD DiscState(3)\n"
"\n"
"static int   MPPTLocalSearchConfiguration;   // Determine whether to run 1- I"
"ncremental Conductance or 2- Perturb and Observe local search\n"
"\n"
"static int   n = 0;   // Iterates through the workzones, initialize the workz"
"one module number to 0\n"
"static int   N;   // Total number of units (subtrings) connected in series in"
" the panel\n"
"\n"
"static int   NumberOfCyclesToStabilize;   // Determines the number of cycles "
"the system is given to stabilize after a global search is performed\n"
"static int   StabilizationIterator = 0;   // iterator that counts the number "
"of cycles after a global search has been finished\n"
"\n"
"static double   MaxPowerDuringGlobalSearch;   // Stores the maximum power gen"
"eration during global search\n"
"static double   MaxVoltageDuringGlobalSearch;   // Stores the maximum power g"
"eneration during global search\n"
"\n"
"static double   PanelOpenCircuitVoltage;   // Stores the panel open circuit v"
"oltage\n"
"static double   UnitOpenCircuitVoltage;   // Stores the unit open circuit vol"
"tage\n"
"\n"
"static bool_t   EnableGlobalMPPTSearch;   // determines if global search is d"
"isabled or enabled\n"
"static bool_t   EnableNextGlobalSearch = FALSE;   // determines if global sea"
"rch is disabled or enabled\n"
"\n"
"static double VrefMin;\n"
"static double VrefMax;\n"
"static double numOfSearchZone;\n"
"\n"
"typedef struct\n"
"{\n"
"\tdouble globalSearchCriteria;   // stores the criteria for initiating global"
" search\n"
"\tdouble VrefMin;\n"
"\tdouble VrefMax;\n"
"\tdouble numOfSearchZone;\n"
"} GlobalMPPTSearch_t;\n"
"\n"
"static GlobalMPPTSearch_t   GlobalMPPTSearch;\n"
"\n"
"typedef struct\n"
"{\n"
"\tdouble   deltaVoltage;   // stores the voltage threshold for |deltaV| for I"
"NC Conductance Mode\n"
"\tdouble   deltaCurrent;   // stores the voltage threshold for |deltaI| for I"
"NC Conductance Mode\n"
"\tdouble   deltaPower;   // stores the voltage threshold for |deltaP| for INC"
" Conductance Mode\n"
"\tdouble   alpha;   // acceleration factor for INC Conductance Mode\n"
"\tdouble   beta;   // acceleration factor for INC Conductance Mode\n"
"\tdouble   VStepMax;   // acceleration factor for INC Conductance Mode\t\t\n"
"   double   MaxAbsoluteValue_dPdV;\t// maximum dPdV in INC mode\n"
"} INCModeFactors_t;\n"
"\n"
"typedef struct\n"
"{\n"
"\tdouble DPDV_MAX;\n"
"   double DPDV_MIN;\n"
"   double DELTA_V_MIN;\n"
"   double acclerationFactor;\n"
"} PnOModeFactors_t;\n"
"\n"
"static INCModeFactors_t   INCModeFactors;\n"
"static PnOModeFactors_t   PnOModeFactors;\n"
"\n"
"\n"
"static bool_t InitializationFlag = TRUE;   // Flag indicating that the MPPT a"
"lgorithm should be initialized\n"
"static bool_t GlobalSearchFlag = TRUE;   // Flag indicating that the global s"
"earch algorithm should be executed\n"
"static bool_t runFirstStageFlag;\n"
"\n"
"\n"
"/**\n"
" * Resets the power and reference voltages in the different workzones prior t"
"o start of global search\n"
" * @param - N/A\n"
" \n"
" * @return - N/A\n"
"*/\n"
"static void ResetForGlobalSearch(void)\n"
"{\n"
"   n = 0;\n"
"   MaxPowerDuringGlobalSearch = 0;   // reset to 0 for global search\n"
"   MaxVoltageDuringGlobalSearch = VrefMin;  // reset to 0 for global search\n"
"   \n"
"}\n"
"\n"
"/************* Incremental Conductance **************/\n"
"\n"
"/**\n"
" * Calculate the absoluted value of the slope ( |dPdV| )\n"
" * @param aV_In - voltage measurement of current iteration\n"
" * @param aI_In - current measurement of current iteration\n"
" * @param aDeltaV - voltage difference between current and previous iteration"
"\n"
" * @param aDeltaI - current difference between current and previous iteration"
"\n"
" * @param aMaxdPdV - magnitude of saturation limit for dPdV calculations\n"
"\n"
" * @return - absolute value of change in power for a unit change in voltage\n"
" */\n"
"static double DetermineINCDPDV(double aV_In,double aI_In,double aDeltaV,doubl"
"e aDeltaI, double aMaxdPdVMagnitude)\n"
"{\t\n"
"   double dPdV;\n"
"\t\n"
"   dPdV = aV_In * (aI_In/aV_In + aDeltaI/aDeltaV);   // calculate dPdV\n"
"   \n"
"   if (dPdV > aMaxdPdVMagnitude)   // upper saturation\n"
"   {   \n"
"      dPdV = aMaxdPdVMagnitude;\n"
"   }\n"
"   if (dPdV < -aMaxdPdVMagnitude)   // lower saturation\n"
"   {   \n"
"      dPdV = -aMaxdPdVMagnitude;\n"
"   }\n"
"\t\n"
"\treturn dPdV;\n"
"}\n"
"\n"
"/**\n"
" * Calculates the change in the reference voltage setpoint for Incremental Co"
"nductance method\n"
" * @param aV_In - voltage measurement of current iteration\n"
" * @param aI_In - current measurement of current iteration\n"
" * @param aDeltaV - voltage difference between current and previous iteration"
"\n"
" * @param aDeltaI - current difference between current and previous iteration"
"\n"
" * @param aDPDV - change in power for a unit change in voltage\n"
"\n"
" * @return - Change in power for a unit change in voltage\n"
" */\n"
"static double DetermineINCChangeInReferenceVoltage(double aV_In,double aI_In,"
"double aDeltaV,double aDeltaI,double aDPDV)\n"
"{\t\n"
"   double changeInVRef;\n"
"   \n"
"   if( (aDeltaV < INCModeFactors.deltaVoltage) && (aDeltaV > -INCModeFactors."
"deltaVoltage) )\n"
"   {\n"
"      if( (aDeltaI < INCModeFactors.deltaCurrent) && (aDeltaI > -INCModeFacto"
"rs.deltaCurrent) )\n"
"      {\n"
"         changeInVRef = 0; \n"
"      }\n"
"      else\n"
"      {\n"
"         changeInVRef = INCModeFactors.beta * aDeltaI;\n"
"      }\n"
"   }\n"
"   else\n"
"   {\n"
"      double tempPowerVariable = aI_In/aV_In + aDeltaI/aDeltaV;\n"
"      \n"
"      if( (tempPowerVariable < INCModeFactors.deltaPower) && (tempPowerVariab"
"le > -INCModeFactors.deltaPower) )\n"
"      {\n"
"         changeInVRef = 0; \n"
"      }\n"
"      else\n"
"      {\n"
"         changeInVRef = INCModeFactors.alpha * aDPDV;   \n"
"      }\n"
"   }\n"
"   \n"
"   return changeInVRef;\n"
"}\n"
"\n"
"/**\n"
" * Implements the Incremental Inductance method to determine the change in re"
"ference voltage\n"
" * @param aV_In - voltage measurement of current iteration\n"
" * @param aI_In - current measurement of current iteration\n"
" * @param aDeltaV - voltage difference between current and previous iteration"
"\n"
" * @param aDeltaI - current difference between current and previous iteration"
"\n"
" * @param aMaxdPdV - magnitude of saturation limit for dPdV calculations\n"
"\n"
" * @return - Change in power for a unit change in voltage\n"
" */\n"
"static double IncrementalConductance(double aV_In,double aI_In,double aDeltaV"
",double aDeltaI,double aMaxdPdVMagnitude)\n"
"{\t\n"
"   double changeInVRef;\n"
"   double dPdV;\n"
"   \n"
"   dPdV = DetermineINCDPDV(aV_In,aI_In,aDeltaV,aDeltaI, aMaxdPdVMagnitude);\n"
"\t\n"
"   changeInVRef = DetermineINCChangeInReferenceVoltage(aV_In,aI_In,aDeltaV,aD"
"eltaI,dPdV);\n"
"   \n"
"   return changeInVRef;\n"
"}\n"
"\n"
"\n"
"/************* Perturb and Observe **************/\n"
"\n"
"// function: calculates the slope, dP/dV with upper and lower bounds\n"
"static double CalculatePnODPDV(double a_dP,double a_dV, double a_DPDV_MAX, do"
"uble a_DPDV_MIN)\n"
"{\t\n"
"   double dPdV;\n"
"\tdouble dV_local;\n"
"\t\n"
"\tif(a_dV == 0)\n"
"\t{\n"
"\t   dV_local = 1e-5;\n"
"\t}\n"
"\telse\n"
"\t{\n"
"\t   dV_local = a_dV;\n"
"\t}\n"
"\t\t\n"
"\tdPdV = a_dP/dV_local;\n"
"\t\n"
"   if (dPdV > a_DPDV_MAX)\n"
"\t\tdPdV = a_DPDV_MAX;\n"
"\tif (dPdV < a_DPDV_MIN)\n"
"\t\tdPdV = a_DPDV_MIN;\n"
"\t\n"
"\treturn dPdV;\n"
"}\n"
"\n"
"// function: calculates the change in reference voltage\n"
"// the change is a sum of the minimum voltage change and a dPdV dependent ter"
"m\n"
"// compared to the conventional P&O method, dynamic performance can be improv"
"ed\n"
"static double CalculatePnOChangeInReferenceVoltage(double a_dPdV, double a_DE"
"LTA_V_MIN, double a_acclerationFactor)\n"
"{\t\n"
"   double delta_V;\n"
"\t\t\n"
"\tif (a_dPdV >= 0)\n"
"\t\tdelta_V = a_DELTA_V_MIN + a_acclerationFactor*a_DELTA_V_MIN*a_dPdV;\n"
"\telse\n"
"\t\tdelta_V = - a_DELTA_V_MIN + a_acclerationFactor*a_DELTA_V_MIN*a_dPdV;\n"
"\t\n"
"\treturn delta_V;\n"
"}\n"
"\n"
"/**\n"
" * Implements the Perturb and Observe method to determine the change in refer"
"ence voltage\n"
" * @param aV_In - voltage measurement of current iteration\n"
" * @param aI_In - current measurement of current iteration\n"
" * @param aDeltaV - voltage difference between current and previous iteration"
"\n"
" * @param aDeltaI - current difference between current and previous iteration"
"\n"
" * @param aMaxdPdV - magnitude of saturation limit for dPdV calculations\n"
"\n"
" * @return - Change in power for a unit change in voltage\n"
" */\n"
"static double PerturnAndObserve(double a_dP,double a_dV, double a_DPDV_MAX, d"
"ouble a_DPDV_MIN, double a_DELTA_V_MIN, double a_acclerationFactor)\n"
"{\t\n"
"   double changeInVRef;\n"
"   double dPdV;\n"
"   \n"
"   dPdV = CalculatePnODPDV(a_dP,a_dV, a_DPDV_MAX, a_DPDV_MIN);\n"
"\t\n"
"   changeInVRef = CalculatePnOChangeInReferenceVoltage(dPdV, a_DELTA_V_MIN, a"
"_acclerationFactor);\n"
"   \n"
"   return changeInVRef;\n"
"}"
                Show          off
              }
              Parameter {
                Variable      "StartFcn"
                Value         "// Global MPPT generated for panel with 3, seri"
"es-connected units\n"
"\n"
"INCModeFactors.VStepMax = ParamRealData(0,0);   // user defined maximum chang"
"e in voltage\n"
"UnitOpenCircuitVoltage = ParamRealData(1,0);   // Unit open circuit voltage\n"
"\n"
"INCModeFactors.deltaVoltage =  ParamRealData(2,0);   // user defined voltage "
"threshold for INC method\n"
"INCModeFactors.deltaCurrent =  ParamRealData(3,0);   // user defined current "
"threshold for INC method\n"
"INCModeFactors.deltaPower =  ParamRealData(4,0);   // user defined power thre"
"shold for INC method\n"
"\n"
"INCModeFactors.alpha = ParamRealData(5,0);   // user defined acceleration fac"
"tor\n"
"INCModeFactors.beta = ParamRealData(6,0);   // user defined acceleration fact"
"or\n"
"\n"
"INCModeFactors.MaxAbsoluteValue_dPdV = ParamRealData(7,0);   // user defined "
"maximum dPdV\n"
"\n"
"if(INCModeFactors.MaxAbsoluteValue_dPdV < 0)   // absolute value\n"
"{\n"
"   INCModeFactors.MaxAbsoluteValue_dPdV = -INCModeFactors.MaxAbsoluteValue_dP"
"dV;\n"
"}\n"
"\n"
"GlobalMPPTSearch.globalSearchCriteria =  ParamRealData(8,0);   // percentage "
"change in power that initiates global search\n"
"\n"
"\n"
"EnableGlobalMPPTSearch = ParamRealData(9,0) - 1;   // user defines whether gl"
"obal search is enabled or disabled\n"
"\n"
"N = ParamRealData(10,0);   // Initialize the simulation for 3 series-connecte"
"d units in panel\n"
"\n"
"PanelOpenCircuitVoltage = UnitOpenCircuitVoltage * N;   // determine the pane"
"l open circuit voltage\n"
"\n"
"VrefMin = ParamRealData(11,0);   // Minimum Reference voltage\n"
"VrefMax = ParamRealData(12,0);   // Maximum Reference voltage\n"
"numOfSearchZone = ParamRealData(13,0);   // Number of search zones for global"
" MPPT search\n"
"\n"
"Vref = VrefMin;   // Initialize reference voltage to minimum reference voltag"
"e\n"
"\n"
"MPPTLocalSearchConfiguration = (int)ParamRealData(14,0);\n"
"\n"
"PnOModeFactors.DPDV_MAX = ParamRealData(15,0);\n"
"PnOModeFactors.DPDV_MIN = ParamRealData(16,0);\n"
"PnOModeFactors.DELTA_V_MIN = ParamRealData(17,0);\n"
"PnOModeFactors.acclerationFactor = ParamRealData(18,0);\n"
"\n"
"NumberOfCyclesToStabilize = ParamRealData(19,0);\n"
                Show          off
              }
              Parameter {
                Variable      "OutputFcn"
                Value         "double changeInVRef;\n"
"double deltaV, deltaI, deltaP;\n"
"\n"
"if(InitializationFlag == TRUE)\n"
"{\n"
"   V_OLD = V_IN;   // Initialize the voltages\n"
"   I_OLD = I_IN;   // Initialize I_IN\n"
"   P_OLD = P_IN;\n"
"   \n"
"\tInitializationFlag = FALSE;\n"
"}\n"
"\n"
"deltaV = V_IN - V_OLD;\n"
"deltaI = I_IN - I_OLD;\n"
"deltaP = P_IN - P_OLD;\n"
"\n"
"if(EnableGlobalMPPTSearch)   // run the global search\n"
"{\n"
"   if(GlobalSearchFlag)\n"
"   {\n"
"      runFirstStageFlag = FALSE;   // disable the local MPPT search as the Gl"
"obal voltage sweep is enabled\n"
"      \n"
"      Vref = VrefMin + n * ( (VrefMax - VrefMin) / numOfSearchZone );   // st"
"ep through the search zones\n"
"      \n"
"      if(n > 0)\n"
"      {\n"
"         if(P_IN > MaxPowerDuringGlobalSearch)\n"
"         {\n"
"            MaxPowerDuringGlobalSearch = P_IN;   // record the maximum power "
"during the global search\n"
"            MaxVoltageDuringGlobalSearch = Vref;   // record the voltage at w"
"hich this maximum power occurs\n"
"            \n"
"         }\n"
"      }\n"
"       \n"
"      if(n > numOfSearchZone )\n"
"      {\n"
"         GlobalSearchFlag = FALSE;   // disable the global search flag at end"
" of global search\n"
"         Vref = MaxVoltageDuringGlobalSearch;   // set the reference voltage "
"to the voltage at which the maximum power occured during search\n"
"         runFirstStageFlag = FALSE;\n"
"         InitializationFlag = TRUE; \n"
"         \n"
"         StabilizationIterator = 0;\n"
"      }\n"
"      \n"
"      \n"
"      \n"
"      n = n+1;\n"
"      \n"
"   }\n"
"   else\n"
"   {\n"
"       \n"
"       if(StabilizationIterator < NumberOfCyclesToStabilize)   // if the iter"
"ator is less than number of stabilization cycle then don't allow next global "
"search to occur\n"
"       {\n"
"       \t StabilizationIterator = StabilizationIterator + 1;\n"
"       \t EnableNextGlobalSearch = FALSE;\n"
"       }\n"
"       else\n"
"       {\n"
"          EnableNextGlobalSearch = TRUE;\n"
"       }\n"
"       \n"
"       if(EnableNextGlobalSearch)   // after next global search is enabled, c"
"heck global search criteria\n"
"       {\n"
"          if( (P_IN - P_OLD) > GlobalMPPTSearch.globalSearchCriteria * P_IN  "
"|| (P_IN - P_OLD) < -GlobalMPPTSearch.globalSearchCriteria * P_IN)   // If cr"
"iteria met for Global search, enable Global search flag\n"
"          {\n"
"             \tGlobalSearchFlag = TRUE;\n"
"             \tResetForGlobalSearch();\t\n"
"          }\n"
"       }\n"
"       runFirstStageFlag = TRUE;\n"
"       \n"
"       \n"
"   }\n"
"}\n"
"else   // global MPPT search disabled (only run the local MPPT algorithm)\n"
"{\n"
"   runFirstStageFlag = TRUE;\n"
"}\n"
"\n"
"\n"
"if(runFirstStageFlag)\n"
"{\n"
"   \n"
"   if(MPPTLocalSearchConfiguration == 1)\n"
"   {\n"
"      changeInVRef = IncrementalConductance(V_IN,I_IN,deltaV,deltaI,INCModeFa"
"ctors.MaxAbsoluteValue_dPdV);\n"
"   }\n"
"   else\n"
"   {\n"
"      changeInVRef = PerturnAndObserve(deltaP,deltaV,PnOModeFactors.DPDV_MAX,"
"PnOModeFactors.DPDV_MIN,PnOModeFactors.DELTA_V_MIN,PnOModeFactors.accleration"
"Factor);\n"
"   }\n"
"\n"
"\n"
"   Vref = V_IN + changeInVRef;\n"
"}\n"
"\n"
"\n"
"OutputSignal(0,0) = Vref;"
                Show          off
              }
              Parameter {
                Variable      "UpdateFcn"
                Value         "// Store the voltage and current values for the"
" next iteration\n"
"\n"
"I_OLD = I_IN;\n"
"V_OLD = V_IN;\n"
"P_OLD = P_IN;\n"
                Show          off
              }
              Parameter {
                Variable      "DerivativeFcn"
                Value         ""
                Show          off
              }
              Parameter {
                Variable      "TerminateFcn"
                Value         ""
                Show          off
              }
              Parameter {
                Variable      "StoreCustomStateFcn"
                Value         "WriteCustomStateInt(n);\n"
"WriteCustomStateInt(StabilizationIterator);\n"
"\n"
"WriteCustomStateInt(InitializationFlag);\n"
"WriteCustomStateInt(GlobalSearchFlag);\n"
"WriteCustomStateInt(EnableNextGlobalSearch);\n"
"WriteCustomStateInt(runFirstStageFlag);\n"
"\n"
"WriteCustomStateDouble(MaxPowerDuringGlobalSearch);\n"
"WriteCustomStateDouble(MaxVoltageDuringGlobalSearch);"
                Show          off
              }
              Parameter {
                Variable      "RestoreCustomStateFcn"
                Value         "n = ReadCustomStateInt();\n"
"StabilizationIterator = ReadCustomStateInt();\n"
"\n"
"InitializationFlag = ReadCustomStateInt();\n"
"GlobalSearchFlag = ReadCustomStateInt();\n"
"EnableNextGlobalSearch = ReadCustomStateInt();\n"
"runFirstStageFlag = ReadCustomStateInt();\n"
"\n"
"MaxPowerDuringGlobalSearch = ReadCustomStateDouble();\n"
"MaxVoltageDuringGlobalSearch = ReadCustomStateDouble();"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "MPPT"
              SrcTerminal   2
              DstComponent  "vref"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "v,i"
              SrcTerminal   1
              DstComponent  "MPPT"
              DstTerminal   1
            }
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux4"
          Show          off
          Position      [75, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "iL"
          Show          on
          Position      [25, 125]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Voltage \ncontroller"
          Show          on
          Position      [275, 75]
          Direction     up
          Flipped       on
          LabelPosition none
          Frame         [-50, -30; 50, 30]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Input
            Position      [-50, 0]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [54, 5]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-50, 15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-50, -15]
            Direction     left
          }
          Schematic {
            Location      [0, 330; 643, 844]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Input
              Name          "Vref"
              Show          on
              Position      [40, 35]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "m"
              Show          on
              Position      [605, 60]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vpv"
              Show          on
              Position      [40, 75]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Subtract"
              Show          off
              Position      [110, 55]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "-+"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "iL"
              Show          on
              Position      [230, 120]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Sum
              Name          "Subtract3"
              Show          off
              Position      [355, 60]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "+-"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          ZeroOrderHold
              Name          "Current \nSampling"
              Show          on
              Position      [290, 120]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Ts"
                Value         "PVCC.T_samp "
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "V_set -> m"
              Show          off
              Position      [535, 60]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "K"
                Value         "1/(NumberOfSeriesConnectedPanels*SP.V_OC_n)"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "OutputDataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "GainDataType"
                Value         "11"
                Show          off
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Discrete/Discrete PID\\nContro"
"ller"
              Name          "Digital Voltage\nPI Regulator"
              Show          on
              Position      [200, 55]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-40, -25; 40, 25]
              Parameter {
                Variable      "cont_type"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "par_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kp"
                Value         "PVVC.Kp"
                Show          off
              }
              Parameter {
                Variable      "ki"
                Value         "PVVC.Ki"
                Show          off
              }
              Parameter {
                Variable      "kd"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kf"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "ex_reset"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "ex_sat"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "sat_lim"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "int_method"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "t_sample"
                Value         "PVVC.Tp_Vloop"
                Show          off
              }
              Parameter {
                Variable      "up_limit"
                Value         "PVVC.upper"
                Show          off
              }
              Parameter {
                Variable      "low_limit"
                Value         "PVVC.lower"
                Show          off
              }
              Parameter {
                Variable      "aw_method"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "kbc"
                Value         "1"
                Show          off
              }
              Terminal {
                Type          Input
                Position      [-40, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [44, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [15, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -15]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [25, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [35, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -20]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, -10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 20]
                Direction     left
              }
            }
            Component {
              Type          Reference
              SrcComponent  "Components/Control/Discrete/Discrete PID\\nContro"
"ller"
              Name          "Digital Current\nPI Regulator"
              Show          on
              Position      [450, 60]
              Direction     up
              Flipped       off
              LabelPosition south
              Frame         [-40, -25; 40, 25]
              Parameter {
                Variable      "cont_type"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "par_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kp"
                Value         "PVCC.Kp"
                Show          off
              }
              Parameter {
                Variable      "ki"
                Value         "PVCC.Ki"
                Show          off
              }
              Parameter {
                Variable      "kd"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "kf"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "ex_reset"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0_source"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "x0"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "ex_sat"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "sat_lim"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "int_method"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "t_sample"
                Value         "PVCC.T_samp"
                Show          off
              }
              Parameter {
                Variable      "up_limit"
                Value         "PVCC.upper"
                Show          off
              }
              Parameter {
                Variable      "low_limit"
                Value         "PVCC.lower"
                Show          off
              }
              Parameter {
                Variable      "aw_method"
                Value         "3"
                Show          off
              }
              Parameter {
                Variable      "kbc"
                Value         "1"
                Show          off
              }
              Terminal {
                Type          Input
                Position      [-40, 0]
                Direction     left
              }
              Terminal {
                Type          Output
                Position      [44, 0]
                Direction     right
              }
              Terminal {
                Type          Input
                Position      [-5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [5, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [15, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -15]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [25, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [35, -25]
                Direction     up
              }
              Terminal {
                Type          Input
                Position      [-40, -20]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, -10]
                Direction     left
              }
              Terminal {
                Type          Input
                Position      [-40, 20]
                Direction     left
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Vref"
              SrcTerminal   1
              Points        [70, 35; 70, 50]
              DstComponent  "Subtract"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Vpv"
              SrcTerminal   1
              Points        [70, 75; 70, 60]
              DstComponent  "Subtract"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Current \nSampling"
              SrcTerminal   2
              Points        [315, 120; 315, 65]
              DstComponent  "Subtract3"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "iL"
              SrcTerminal   1
              DstComponent  "Current \nSampling"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Subtract"
              SrcTerminal   1
              DstComponent  "Digital Voltage\nPI Regulator"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Subtract3"
              SrcTerminal   1
              DstComponent  "Digital Current\nPI Regulator"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Digital Current\nPI Regulator"
              SrcTerminal   2
              DstComponent  "V_set -> m"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Digital Voltage\nPI Regulator"
              SrcTerminal   2
              DstComponent  "Subtract3"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "V_set -> m"
              SrcTerminal   2
              DstComponent  "m"
              DstTerminal   1
            }
            Annotation {
              Name          base64 "PGh0bWw+PGJvZHk+CjxwPmFudGktd2luZHVwPC9wPg"
"o8cD7mipfppbHlkow8L3A+PC9ib2R5PjwvaHRtbD4="
              Position      [55, 200]
            } 
          }
        }
        Component {
          Type          Enable
          Name          "Enable"
          Show          on
          Position      [145, 20]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
          Parameter {
            Variable      "ShowOutput"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Display
          Name          "Display"
          Show          on
          Position      [290, 150]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-41, -11; 41, 11]
          Parameter {
            Variable      "Notation"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Precision"
            Value         "4"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Symmetrical \nPWM"
          SrcTerminal   1
          DstComponent  "s"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux4"
          SrcTerminal   1
          DstComponent  "MPP\ncontroller"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "i"
          SrcTerminal   1
          DstComponent  "Mux4"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Voltage \ncontroller"
          SrcTerminal   2
          DstComponent  "Symmetrical \nPWM"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "iL"
          SrcTerminal   1
          Points        [195, 125; 195, 90]
          DstComponent  "Voltage \ncontroller"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "v"
          SrcTerminal   1
          Points        [55, 60]
          Branch {
            DstComponent  "Voltage \ncontroller"
            DstTerminal   3
          }
          Branch {
            Points        [55, 70]
            DstComponent  "Mux4"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "MPP\ncontroller"
          SrcTerminal   1
          Points        [200, 75]
          Branch {
            DstComponent  "Voltage \ncontroller"
            DstTerminal   1
          }
          Branch {
            Points        [200, 150]
            DstComponent  "Display"
            DstTerminal   1
          }
        }
      }
    }
    Component {
      Type          From
      Name          "From15"
      Show          off
      Position      [1345, 170]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_P_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From16"
      Show          off
      Position      [1345, 225]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_I_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From17"
      Show          off
      Position      [1345, 150]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto14"
      Show          off
      Position      [1210, 190]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_I_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto15"
      Show          off
      Position      [1210, 150]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto16"
      Show          off
      Position      [1210, 170]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_P_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          XYPlot
      Name          "I vs V"
      Show          on
      Position      [1395, 215]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [-258, 89; 1278, 872]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAAAAP/"
"///8AAAB4AP///wAABgAAAAL0AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBv"
"AGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   ""
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      TimeRange     "0.0"
      ShownPeriods  "1"
      Open          "0"
      Ts            "1e-3"
      SampleLimit   "0"
      XAxisLabel    "Panel Voltage / V"
      AspectRatioX  "-1"
      AspectRatioY  "-1"
      PlotStyle     "1"
      ShowLegend    "1"
      Axis {
        Name          "Voltage vs. Current"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Current / A"
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Voltage / V"
      }
    }
    Component {
      Type          From
      Name          "From19"
      Show          off
      Position      [1345, 205]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am"
      Show          off
      Position      [760, 495]
      Direction     right
      Flipped       on
      LabelPosition north
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          From
      Name          "From20"
      Show          off
      Position      [595, 330]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_L"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto18"
      Show          off
      Position      [785, 515]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_L"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R3"
      Show          off
      Position      [870, 495]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "R"
        Value         "Rpv"
        Show          on
      }
    }
    Component {
      Type          From
      Name          "From22"
      Show          off
      Position      [595, 250]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "BST_EN"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "i_bst"
      Show          on
      Position      [810, 540]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-26, -11; 26, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          IgbtWithDiode
      Name          "Q1"
      Show          on
      Position      [930, 580]
      Direction     up
      Flipped       off
      LabelPosition southSouthwest
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         ""
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto22"
      Show          off
      Position      [665, 700]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto23"
      Show          off
      Position      [635, 580]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From25"
      Show          off
      Position      [890, 580]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "pwm1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto24"
      Show          off
      Position      [815, 295]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "pwm1"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From26"
      Show          off
      Position      [595, 275]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From27"
      Show          off
      Position      [595, 300]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "PV"
      Show          on
      Position      [550, 580]
      Direction     up
      Flipped       off
      LabelPosition northNorthwest
      CommentOut    DisabledOpenCircuit
      Frame         [-10, -20; 10, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "PV String"
      MaskDescription "Models a PV string comprising BP365 65W modules."
      MaskDisplay   "line([-10 0 10], [-20 -7 -20])"
      MaskIconFrame on
      MaskIconOpaque on
      MaskIconRotates on
      MaskInit      "load('pv_lookup_data_bp365.mat');\n"
"PV_V = 0:0.05:25;\n"
"PV_Sun = 0:0.1:1;\n"
"PV_T = 0:25:50;"
      Parameter {
        Variable      "n"
        Prompt        "Number of PV modules in string"
        Type          FreeText
        Value         "20"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "llstrings"
        Prompt        "Number of strings in parallel"
        Type          FreeText
        Value         "2"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Terminal {
        Type          Input
        Position      [-10, -10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-10, 10]
        Direction     left
      }
      Schematic {
        Location      [292, 445; 903, 680]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Ammeter
          Name          "I_PV"
          Show          off
          Position      [275, 85]
          Direction     left
          Flipped       off
          LabelPosition south
        }
        Component {
          Type          SignalMux
          Name          "CMux"
          Show          off
          Position      [295, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          CurrentSource
          Name          "I1"
          Show          on
          Position      [160, 125]
          Direction     down
          Flipped       on
          LabelPosition east
          Parameter {
            Variable      "DiscretizationBehavior"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "StateSpaceInlining"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Voltmeter
          Name          "V1"
          Show          on
          Position      [255, 125]
          Direction     down
          Flipped       on
          LabelPosition east
        }
        Component {
          Type          Function
          Name          "Power"
          Show          on
          Position      [340, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u[1]*u[2]"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          on
          Position      [337, 85]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          on
          Position      [337, 165]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Sun"
          Show          on
          Position      [45, 125]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "1/num_panels"
          Show          on
          Position      [110, 75]
          Direction     left
          Flipped       off
          LabelPosition north
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u[1]/n"
            Show          off
          }
        }
        Component {
          Type          Lookup3D
          Name          "3D-Table"
          Show          on
          Position      [110, 125]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "x"
            Value         "PV_V"
            Show          off
          }
          Parameter {
            Variable      "y"
            Value         "PV_Sun"
            Show          off
          }
          Parameter {
            Variable      "z"
            Value         "PV_T"
            Show          off
          }
          Parameter {
            Variable      "f(x,y,z)"
            Value         "Isurf_BP365_T25*llstrings"
            Show          off
          }
          Parameter {
            Variable      "ZeroCrossingSignals"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "T"
          Show          on
          Position      [45, 155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R1"
          Show          off
          Position      [305, 125]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "380^2/(3000*1e-3)"
            Show          off
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "I_PV"
          SrcTerminal   1
          Points        [255, 85]
          Branch {
            Points        [160, 85]
            DstComponent  "I1"
            DstTerminal   2
          }
          Branch {
            DstComponent  "V1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "I_PV"
          SrcTerminal   3
          Points        [275, 45]
          DstComponent  "CMux"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "V1"
          SrcTerminal   2
          Points        [255, 165]
          Branch {
            Points        [160, 165]
            DstComponent  "I1"
            DstTerminal   1
          }
          Branch {
            Points        [305, 165]
            Branch {
              DstComponent  "-"
              DstTerminal   1
            }
            Branch {
              DstComponent  "R1"
              DstTerminal   2
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Sun"
          SrcTerminal   1
          DstComponent  "3D-Table"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux"
          SrcTerminal   1
          DstComponent  "Power"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "1/num_panels"
          SrcTerminal   2
          Points        [70, 75; 70, 115]
          DstComponent  "3D-Table"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "T"
          SrcTerminal   1
          Points        [70, 155; 70, 135]
          DstComponent  "3D-Table"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "V1"
          SrcTerminal   3
          Points        [225, 125; 225, 75]
          Branch {
            Points        [225, 35]
            DstComponent  "CMux"
            DstTerminal   2
          }
          Branch {
            DstComponent  "1/num_panels"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "3D-Table"
          SrcTerminal   4
          DstComponent  "I1"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "I_PV"
          SrcTerminal   2
          Points        [305, 85]
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
          Branch {
            DstComponent  "R1"
            DstTerminal   1
          }
        }
      }
      MaskProbe {
        Name          "PV Voltage"
        Probe {
          Component     "V1"
          Path          ""
          Signals       {"Measured voltage"}
        }
      }
      MaskProbe {
        Name          "PV Current"
        Probe {
          Component     "I_PV"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "PV Power"
        Probe {
          Component     "Power"
          Path          ""
          Signals       {"Output"}
        }
      }
    }
    Component {
      Type          Constant
      Name          base64 "VGVtcCBbMDo1MF0gwrpD"
      Show          on
      Position      [485, 595]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-10, -10; 10, 10]
      Parameter {
        Variable      "Value"
        Value         "25"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          PulseGenerator
      Name          "Irradiance"
      Show          on
      Position      [485, 550]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Hi"
        Value         "0.5"
        Show          off
      }
      Parameter {
        Variable      "Lo"
        Value         "0.1"
        Show          off
      }
      Parameter {
        Variable      "f"
        Value         "0.25"
        Show          off
      }
      Parameter {
        Variable      "DutyCycle"
        Value         "0.5"
        Show          off
      }
      Parameter {
        Variable      "Delay"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Ground
      Name          "Ground"
      Show          off
      Position      [1525, 600]
      Direction     up
      Flipped       off
      LabelPosition east
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Constant
      Name          "Constant"
      Show          on
      Position      [595, 160]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-10, -10; 10, 10]
      Parameter {
        Variable      "Value"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L1"
      Show          off
      Position      [865, 905]
      Direction     left
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "L"
        Value         "Lbat"
        Show          on
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R6"
      Show          off
      Position      [800, 905]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "R"
        Value         "Rbat"
        Show          on
      }
    }
    Component {
      Type          Capacitor
      Name          "C3"
      Show          off
      Position      [690, 990]
      Direction     down
      Flipped       on
      LabelPosition west
      Parameter {
        Variable      "C"
        Value         "Cbat"
        Show          on
      }
      Parameter {
        Variable      "v_init"
        Value         "VbatInit"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From28"
      Show          off
      Position      [1080, 855]
      Direction     down
      Flipped       off
      LabelPosition west
      Parameter {
        Variable      "Tag"
        Value         "pwm2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From29"
      Show          off
      Position      [950, 1010]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto27"
      Show          off
      Position      [960, 1430]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "DC/DC Controller\nBAT BuckBoost"
      Show          on
      Position      [810, 1485]
      Direction     up
      Flipped       off
      LabelPosition none
      Frame         [-120, -70; 120, 70]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskDisplayLang "2"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-120, -50]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [124, -55]
        Direction     right
      }
      Terminal {
        Type          Output
        Position      [124, -35]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-120, -25]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-120, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-120, 45]
        Direction     left
      }
      Schematic {
        Location      [0, 92; 1536, 844]
        ZoomFactor    1.14437
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold"
          Show          off
          Position      [705, 325]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "1/BMS.f_Iloop"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          off
          Position      [515, 190]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+-"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold1"
          Show          off
          Position      [455, 350]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "1/BMS.f_Vloop"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum3"
          Show          off
          Position      [220, 190]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+-"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Modulators/Symmetrical PWM"
          Name          "Symmetrical\nPWM"
          Show          on
          Position      [810, 190]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          Parameter {
            Variable      "sampling"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "fc"
            Value         "fsw"
            Show          off
          }
          Parameter {
            Variable      "carrier_phaseshift"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "carrier_limits"
            Value         "[0 1]"
            Show          off
          }
          Parameter {
            Variable      "output_values"
            Value         "[-1 1]"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
        }
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold2"
          Show          off
          Position      [705, 290]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "1/BMS.f_Iloop"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Modulator1"
          Show          on
          Position      [705, 200]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-45, -20; 45, 20]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Input
            Position      [-45, -10]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [49, -10]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-45, 10]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [49, 10]
            Direction     right
          }
          Schematic {
            Location      [218, 444; 695, 660]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Product
              Name          "Divide"
              Show          off
              Position      [235, 90]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "/*"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation"
              Show          off
              Position      [295, 90]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "UpperLimit"
                Value         "0.9"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "0"
                Show          off
              }
            }
            Component {
              Type          MinMax
              Name          "Min/Max"
              Show          off
              Position      [150, 45]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Operation"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Constant
              Name          "V4"
              Show          on
              Position      [75, 60]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-10, -10; 10, 10]
              Parameter {
                Variable      "Value"
                Value         "200"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "10"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "V*"
              Show          on
              Position      [35, 95]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "duty"
              Show          on
              Position      [440, 90]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vdc"
              Show          on
              Position      [35, 30]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Product
              Name          "Product"
              Show          off
              Position      [380, 130]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "V"
              Show          on
              Position      [440, 130]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Divide"
              SrcTerminal   1
              DstComponent  "Saturation"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "V4"
              SrcTerminal   1
              Points        [105, 60; 105, 50]
              DstComponent  "Min/Max"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "V*"
              SrcTerminal   1
              DstComponent  "Divide"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Vdc"
              SrcTerminal   1
              Points        [105, 30; 105, 40]
              DstComponent  "Min/Max"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Product"
              SrcTerminal   1
              DstComponent  "V"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Min/Max"
              SrcTerminal   1
              Points        [190, 45; 190, 85]
              Branch {
                DstComponent  "Divide"
                DstTerminal   2
              }
              Branch {
                Points        [190, 135]
                DstComponent  "Product"
                DstTerminal   3
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation"
              SrcTerminal   2
              Points        [335, 90]
              Branch {
                DstComponent  "duty"
                DstTerminal   1
              }
              Branch {
                Points        [335, 125]
                DstComponent  "Product"
                DstTerminal   2
              }
            }
          }
        }
        Component {
          Type          ConfigurableSubsystem
          Name          "Deadtime"
          Show          on
          Position      [880, 190]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskType      "Deadtime"
          MaskDescription "When the configuration is set to 'on', the given de"
"adtime is applied to the switching signal. If the configuration is set to 'of"
"f', the deadtime generation is bypassed."
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "td"
            Prompt        "Deadtime (s)"
            Type          FreeText
            Value         "0.02/fsw"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
          TerminalNames { "sw'", "sw" }
          Location      [468, 133; 897, 258]
          ZoomFactor    1
          SliderPosition [0, 0]
          ShowBrowser   off
          BrowserWidth  100
          Configurations {
            Name          "on"
            Schematic {
              Component {
                Type          Output
                Name          "sw'"
                Show          on
                Position      [295, 50]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "sw"
                Show          on
                Position      [145, 50]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Reference
                SrcComponent  "Components/Control/Modulators/Blanking Time"
                Name          "Blanking Time"
                Show          on
                Position      [215, 50]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-20, -20; 20, 20]
                Parameter {
                  Variable      "tb"
                  Value         "td"
                  Show          off
                }
                Terminal {
                  Type          Output
                  Position      [24, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-20, 0]
                  Direction     left
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "sw"
                SrcTerminal   1
                DstComponent  "Blanking Time"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Blanking Time"
                SrcTerminal   1
                DstComponent  "sw'"
                DstTerminal   1
              }
            }
            Name          "off"
            Schematic {
              Component {
                Type          Output
                Name          "sw'"
                Show          on
                Position      [275, 50]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "sw"
                Show          on
                Position      [150, 50]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "sw"
                SrcTerminal   1
                DstComponent  "sw'"
                DstTerminal   1
              }
            }
          }
          Parameter {
            Variable      "Configuration"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "GateFcn1"
          Show          off
          Position      [965, 220]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u<0"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "GateFcn2"
          Show          off
          Position      [965, 160]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u>0"
            Show          off
          }
        }
        Component {
          Type          Subsystem
          Name          "Hi-Lo Transformation"
          Show          on
          Position      [435, 200]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-45, -20; 45, 20]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "Imax"
            Prompt        "Imax"
            Type          FreeText
            Value         "BMS.Ioutmax"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Imin"
            Prompt        "Imin"
            Type          FreeText
            Value         "BMS.Iinmax"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "Vfloor"
            Prompt        "Vfloor"
            Type          FreeText
            Value         "20"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Input
            Position      [-45, -10]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [49, -10]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-45, 0]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [49, 10]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-45, 10]
            Direction     left
          }
          Schematic {
            Location      [316, 288; 874, 525]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Product
              Name          "Divide"
              Show          off
              Position      [215, 165]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "/*"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation"
              Show          off
              Position      [280, 165]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "UpperLimit"
                Value         "Imax"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "Imin"
                Show          off
              }
            }
            Component {
              Type          MinMax
              Name          "Min/Max"
              Show          off
              Position      [125, 40]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Operation"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Constant
              Name          "V4"
              Show          on
              Position      [40, 35]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-10, -10; 10, 10]
              Parameter {
                Variable      "Value"
                Value         "Vfloor"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "10"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Ihi*"
              Show          on
              Position      [40, 190]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "Ilo"
              Show          on
              Position      [510, 165]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vhi"
              Show          on
              Position      [40, 145]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Product
              Name          "Product"
              Show          off
              Position      [125, 170]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "Idc"
              Show          on
              Position      [510, 90]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "4"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "Vlo"
              Show          on
              Position      [40, 90]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "5"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Product
              Name          "Product1"
              Show          off
              Position      [365, 95]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Product
              Name          "Divide1"
              Show          off
              Position      [445, 90]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "IconShape"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "/*"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          MinMax
              Name          "Min/Max1"
              Show          off
              Position      [365, 40]
              Direction     up
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Operation"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "Inputs"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Constant
              Name          "V5"
              Show          on
              Position      [280, 35]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-10, -10; 10, 10]
              Parameter {
                Variable      "Value"
                Value         "Vfloor"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "10"
                Show          off
              }
            }
            Component {
              Type          Gain
              Name          "Gain1"
              Show          off
              Position      [410, 165]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "K"
                Value         "-1"
                Show          off
              }
              Parameter {
                Variable      "Multiplication"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "OutputDataType"
                Value         "11"
                Show          off
              }
              Parameter {
                Variable      "DataTypeOverflowMode"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "GainDataType"
                Value         "11"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Ihi*"
              SrcTerminal   1
              Points        [75, 190; 75, 175]
              DstComponent  "Product"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Product"
              SrcTerminal   1
              DstComponent  "Divide"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "V4"
              SrcTerminal   1
              DstComponent  "Min/Max"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Min/Max"
              SrcTerminal   1
              Points        [170, 40; 170, 160]
              DstComponent  "Divide"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Divide"
              SrcTerminal   1
              DstComponent  "Saturation"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Product1"
              SrcTerminal   1
              DstComponent  "Divide1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Min/Max1"
              SrcTerminal   1
              Points        [400, 40; 400, 85]
              DstComponent  "Divide1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "V5"
              SrcTerminal   1
              DstComponent  "Min/Max1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Vhi"
              SrcTerminal   1
              Points        [75, 145]
              Branch {
                Points        [75, 165]
                DstComponent  "Product"
                DstTerminal   2
              }
              Branch {
                Points        [75, 120; 310, 120; 310, 45]
                DstComponent  "Min/Max1"
                DstTerminal   3
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation"
              SrcTerminal   2
              Points        [320, 165]
              Branch {
                Points        [320, 100]
                DstComponent  "Product1"
                DstTerminal   3
              }
              Branch {
                DstComponent  "Gain1"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Divide1"
              SrcTerminal   1
              DstComponent  "Idc"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Vlo"
              SrcTerminal   1
              Points        [75, 90]
              Branch {
                Points        [75, 45]
                DstComponent  "Min/Max"
                DstTerminal   3
              }
              Branch {
                DstComponent  "Product1"
                DstTerminal   2
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "Gain1"
              SrcTerminal   2
              DstComponent  "Ilo"
              DstTerminal   1
            }
          }
        }
        Component {
          Type          ZeroOrderHold
          Name          "Zero-Order\nHold3"
          Show          off
          Position      [455, 385]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Ts"
            Value         "1/BMS.f_Vloop"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Discrete/Discrete PID\\nController"
          Name          "Discrete PID\nController"
          Show          on
          Position      [295, 190]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-40, -25; 40, 25]
          Parameter {
            Variable      "cont_type"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "par_source"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "kp"
            Value         "BMS.Vkp"
            Show          off
          }
          Parameter {
            Variable      "ki"
            Value         "BMS.Vki"
            Show          off
          }
          Parameter {
            Variable      "kd"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "kf"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "ex_reset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0_source"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ex_sat"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "sat_lim"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "int_method"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "t_sample"
            Value         "1/BMS.f_Vloop"
            Show          off
          }
          Parameter {
            Variable      "up_limit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "low_limit"
            Value         "-inf"
            Show          off
          }
          Parameter {
            Variable      "aw_method"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "kbc"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-40, 0]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [44, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-5, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [5, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [15, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [-40, -15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-40, 10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [25, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [35, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [-40, -20]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-40, -10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-40, 20]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Discrete/Discrete PID\\nController"
          Name          "Discrete PID\nController1"
          Show          on
          Position      [585, 190]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-40, -25; 40, 25]
          Parameter {
            Variable      "cont_type"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "par_source"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "kp"
            Value         "BMS.Ikp"
            Show          off
          }
          Parameter {
            Variable      "ki"
            Value         "BMS.Iki"
            Show          off
          }
          Parameter {
            Variable      "kd"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "kf"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "ex_reset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0_source"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ex_sat"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "sat_lim"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "int_method"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "t_sample"
            Value         "1/BMS.f_Iloop"
            Show          off
          }
          Parameter {
            Variable      "up_limit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "low_limit"
            Value         "-inf"
            Show          off
          }
          Parameter {
            Variable      "aw_method"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "kbc"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-40, 0]
            Direction     left
          }
          Terminal {
            Type          Output
            Position      [44, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-5, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [5, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [15, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [-40, -15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-40, 10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [25, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [35, -25]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [-40, -20]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-40, -10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-40, 20]
            Direction     left
          }
        }
        Component {
          Type          Input
          Name          "in_v_bus_ref"
          Show          on
          Position      [170, 190]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "out_dc_bukbst_pwm1"
          Show          on
          Position      [1105, 160]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "out_dc_bukbst_pwm2"
          Show          on
          Position      [1110, 220]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "in_v_bus"
          Show          on
          Position      [1105, 290]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "in_i_bidc"
          Show          on
          Position      [1105, 325]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "in_v_bat"
          Show          on
          Position      [1105, 385]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "6"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold"
          SrcTerminal   2
          Points        [515, 325]
          DstComponent  "Sum"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Hi-Lo Transformation"
          SrcTerminal   2
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold2"
          SrcTerminal   2
          Points        [640, 290; 640, 210]
          DstComponent  "Modulator1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold3"
          SrcTerminal   2
          Points        [365, 385; 365, 210]
          DstComponent  "Hi-Lo Transformation"
          DstTerminal   5
        }
        Connection {
          Type          Signal
          SrcComponent  "Symmetrical\nPWM"
          SrcTerminal   1
          DstComponent  "Deadtime"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Modulator1"
          SrcTerminal   2
          DstComponent  "Symmetrical\nPWM"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Zero-Order\nHold1"
          SrcTerminal   2
          Points        [350, 350]
          Branch {
            Points        [350, 200]
            DstComponent  "Hi-Lo Transformation"
            DstTerminal   3
          }
          Branch {
            Points        [220, 350]
            DstComponent  "Sum3"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          DstComponent  "Discrete PID\nController1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Discrete PID\nController1"
          SrcTerminal   2
          DstComponent  "Modulator1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum3"
          SrcTerminal   1
          DstComponent  "Discrete PID\nController"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Discrete PID\nController"
          SrcTerminal   2
          DstComponent  "Hi-Lo Transformation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Hi-Lo Transformation"
          SrcTerminal   4
          Points        [500, 210; 500, 270; 235, 270; 235, 175]
          DstComponent  "Discrete PID\nController"
          DstTerminal   6
        }
        Connection {
          Type          Signal
          SrcComponent  "Modulator1"
          SrcTerminal   4
          Points        [765, 210; 765, 270; 530, 270]
          DstComponent  "Discrete PID\nController1"
          DstTerminal   6
        }
        Connection {
          Type          Signal
          SrcComponent  "Deadtime"
          SrcTerminal   1
          Points        [915, 190]
          Branch {
            Points        [915, 160]
            DstComponent  "GateFcn2"
            DstTerminal   1
          }
          Branch {
            Points        [915, 220]
            DstComponent  "GateFcn1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "in_v_bus_ref"
          SrcTerminal   1
          DstComponent  "Sum3"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "GateFcn2"
          SrcTerminal   2
          DstComponent  "out_dc_bukbst_pwm1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "GateFcn1"
          SrcTerminal   2
          DstComponent  "out_dc_bukbst_pwm2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "in_v_bus"
          SrcTerminal   1
          Points        [765, 290]
          Branch {
            DstComponent  "Zero-Order\nHold2"
            DstTerminal   1
          }
          Branch {
            Points        [765, 350]
            DstComponent  "Zero-Order\nHold1"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "in_i_bidc"
          SrcTerminal   1
          DstComponent  "Zero-Order\nHold"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "in_v_bat"
          SrcTerminal   1
          DstComponent  "Zero-Order\nHold3"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          Goto
      Name          "Goto28"
      Show          off
      Position      [960, 1450]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm3"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Voltmeter
      Name          "Vm6"
      Show          off
      Position      [745, 990]
      Direction     up
      Flipped       off
      LabelPosition west
    }
    Component {
      Type          Voltmeter
      Name          "Vm7"
      Show          off
      Position      [1145, 590]
      Direction     up
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Goto
      Name          "Goto19"
      Show          off
      Position      [940, 885]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_bidc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From21"
      Show          off
      Position      [640, 1495]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_bidc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto20"
      Show          off
      Position      [800, 960]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "v_bat"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From23"
      Show          off
      Position      [640, 1530]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "v_bat"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto25"
      Show          off
      Position      [1185, 590]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_bus"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From24"
      Show          off
      Position      [640, 1460]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "v_bus_bat"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "v_bus"
      Show          on
      Position      [1220, 625]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-41, -11; 41, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display1"
      Show          on
      Position      [665, 610]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-36, -11; 36, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display2"
      Show          on
      Position      [825, 990]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-41, -11; 41, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "Scope"
      Show          on
      Position      [1390, 1435]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [0, 26; 1440, 856]
      State         "AAAA/wAAAAD9AAAAAQAAAAEAAAGpAAADI/wCAAAABPsAAAAUAEQAYQB0A"
"GEAVwBpAGQAZwBlAHQBAAAALwAAAyMAAABcAP////sAAAAQAFoAbwBvAG0AQQByAGUAYQAAAAAA//"
"///wAAAIUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA/////wAAAGcA////+wAAAAw"
"AVAByAGEAYwBlAHMAAAAAAP////8AAABnAP///wAAA/MAAAMjAAAABAAAAAQAAAAIAAAACPwAAAAB"
"AAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":113,\"Labels\":[\""
"Mean\"],\"VisualIdxs\":[8]}"
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"=="
      Axes          "3"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency / Hz"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          From
      Name          "From18"
      Show          off
      Position      [1295, 1415]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "_P_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From30"
      Show          off
      Position      [1160, 1430]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_bidc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From31"
      Show          off
      Position      [1160, 1460]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_bat"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Product
      Name          "Product"
      Show          off
      Position      [1230, 1435]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "IconShape"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "**"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
      Parameter {
        Variable      "DataTypeOverflowMode"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From32"
      Show          off
      Position      [1160, 1500]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_bus"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Product
      Name          "Product1"
      Show          off
      Position      [1220, 1505]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "IconShape"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "**"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
      Parameter {
        Variable      "DataTypeOverflowMode"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am7"
      Show          off
      Position      [1215, 495]
      Direction     left
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Goto
      Name          "Goto26"
      Show          off
      Position      [1245, 475]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_bus"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From33"
      Show          off
      Position      [1160, 1530]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "i_bus"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Ground
      Name          "Ground1"
      Show          off
      Position      [2480, 605]
      Direction     up
      Flipped       off
      LabelPosition east
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Capacitor
      Name          "C4"
      Show          off
      Position      [1545, 545]
      Direction     down
      Flipped       on
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "C"
        Value         "CbusP"
        Show          on
      }
      Parameter {
        Variable      "v_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Capacitor
      Name          "C5"
      Show          off
      Position      [1545, 630]
      Direction     down
      Flipped       on
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "C"
        Value         "CbusN"
        Show          on
      }
      Parameter {
        Variable      "v_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Voltmeter
      Name          "Vm8"
      Show          off
      Position      [1625, 545]
      Direction     up
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Voltmeter
      Name          "Vm9"
      Show          off
      Position      [1625, 630]
      Direction     up
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Display
      Name          "Display3"
      Show          on
      Position      [1710, 545]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-41, -11; 41, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display4"
      Show          on
      Position      [1710, 630]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-41, -11; 41, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          IgbtWithDiode
      Name          "Q2"
      Show          on
      Position      [1345, 545]
      Direction     up
      Flipped       off
      LabelPosition southSouthwest
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         ""
        Show          off
      }
    }
    Component {
      Type          IgbtWithDiode
      Name          "Q3"
      Show          on
      Position      [1345, 615]
      Direction     up
      Flipped       off
      LabelPosition southSouthwest
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         ""
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L3"
      Show          off
      Position      [1400, 580]
      Direction     left
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "L"
        Value         "Lbal"
        Show          on
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          IgbtWithDiode
      Name          "Q4"
      Show          on
      Position      [1080, 905]
      Direction     right
      Flipped       off
      LabelPosition westNorthwest
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         ""
        Show          off
      }
    }
    Component {
      Type          IgbtWithDiode
      Name          "Q5"
      Show          on
      Position      [995, 1010]
      Direction     up
      Flipped       off
      LabelPosition southSouthwest
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         ""
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am8"
      Show          off
      Position      [1445, 580]
      Direction     left
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Display
      Name          "Display5"
      Show          on
      Position      [1445, 515]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-36, -11; 36, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          DCVoltageSource
      Name          "Vin1"
      Show          off
      Position      [1955, 520]
      Direction     up
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "V"
        Value         "Vin/2"
        Show          on
      }
    }
    Component {
      Type          DCVoltageSource
      Name          "Vin2"
      Show          off
      Position      [1955, 655]
      Direction     up
      Flipped       off
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "V"
        Value         "Vin/2"
        Show          on
      }
    }
    Component {
      Type          Goto
      Name          "Goto29"
      Show          off
      Position      [670, 160]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "BST_EN"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Sum
      Name          "Sum1"
      Show          off
      Position      [1390, 1360]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "IconShape"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "+-"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
      Parameter {
        Variable      "DataTypeOverflowMode"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display6"
      Show          on
      Position      [1500, 1360]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-36, -11; 36, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display7"
      Show          on
      Position      [855, 865]
      Direction     down
      Flipped       off
      LabelPosition north
      Frame         [-41, -11; 41, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display8"
      Show          on
      Position      [665, 875]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-36, -11; 36, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display9"
      Show          on
      Position      [1270, 435]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Frame         [-36, -11; 36, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "4"
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am4"
      Show          off
      Position      [610, 905]
      Direction     left
      Flipped       off
      LabelPosition south
    }
    Component {
      Type          Ammeter
      Name          "Am5"
      Show          off
      Position      [915, 905]
      Direction     left
      Flipped       off
      LabelPosition south
    }
    Component {
      Type          Scope
      Name          "Scope1"
      Show          on
      Position      [2660, 355]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [0, 23; 1440, 833]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABnAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABPAP///wAABaAAAAMPAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":225,\"Labels\":[],"
"\"VisualIdxs\":[]}"
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency / Hz"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          SignalDemux
      Name          "Demux4"
      Show          off
      Position      [2565, 325]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          SignalDemux
      Name          "Demux5"
      Show          off
      Position      [2565, 370]
      Direction     right
      Flipped       on
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux"
      Show          off
      Position      [2595, 345]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R4"
      Show          off
      Position      [1580, 590]
      Direction     down
      Flipped       on
      LabelPosition west
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "R"
        Value         "1000"
        Show          on
      }
    }
    Component {
      Type          Ammeter
      Name          "Am2"
      Show          off
      Position      [695, 675]
      Direction     right
      Flipped       off
      LabelPosition north
      CommentOut    DisabledOpenCircuit
    }
    Component {
      Type          Voltmeter
      Name          "Vm10"
      Show          off
      Position      [1160, 990]
      Direction     up
      Flipped       off
      LabelPosition west
    }
    Component {
      Type          Goto
      Name          "Goto21"
      Show          off
      Position      [1205, 960]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "v_bus_bat"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Display
      Name          "Display10"
      Show          on
      Position      [1245, 1035]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-46, -11; 46, 11]
      Parameter {
        Variable      "Notation"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Precision"
        Value         "6"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Li-ion\nRC Model"
      Show          on
      Position      [545, 990]
      Direction     up
      Flipped       off
      LabelPosition west
      Frame         [-10, -20; 10, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Lithium ion Battery RC model"
      MaskDescription "Resistor-Capacitor based model of a Li-ion battery base"
"d on \"Accurate Electrical Battery Model Capable of Predicting Runtime and I-"
"V Performance\" by Chen, M.; Ricon-Mora, G. A."
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "cell_cap = pack_cap / n_parallel;\n"
"\n"
"if (R_contact <= 0) \n"
"\terror('Ideal metallic contact. Please change resistance to nonzero value')"
"\n"
"elseif(n_parallel < 1)\n"
"\terror('Number of cells in parallel must be greater than 1')\n"
"elseif(n_series < 1)\n"
"\terror('Number of cells in series must be greater than 1')\t\n"
"end\n"
"\n"
"T_delay = 1e-9;"
      Parameter {
        Variable      "pack_cap"
        Prompt        "Battery Pack Capacity"
        Type          FreeText
        Value         "pack_cap"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "soc_init"
        Prompt        "Initial SOC"
        Type          FreeText
        Value         "0.3"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "n_series"
        Prompt        "Number of Cells in Series"
        Type          FreeText
        Value         "n_series"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "n_parallel"
        Prompt        "Number of Parallel branches"
        Type          FreeText
        Value         "n_parallel"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "R_contact"
        Prompt        "Metallic Contact Resistance"
        Type          FreeText
        Value         "1e-3"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Port
        Position      [0, -25]
        Direction     up
      }
      Terminal {
        Type          Output
        Position      [-14, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, 25]
        Direction     down
      }
      Schematic {
        Location      [616, 317; 1168, 564]
        ZoomFactor    1
        SliderPosition [-1, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Subsystem
          Name          "Cell"
          Show          on
          Position      [90, 130]
          Direction     down
          Flipped       on
          LabelPosition east
          Frame         [-10, -20; 10, 20]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Parameter {
            Variable      "bat_cap"
            Prompt        "Battery Capacity"
            Type          FreeText
            Value         "cell_cap"
            Show          off
            Tunable       off
            TabName       ""
          }
          Parameter {
            Variable      "SOC_init"
            Prompt        "Initial SOC"
            Type          FreeText
            Value         "soc_init"
            Show          off
            Tunable       off
            TabName       ""
          }
          Terminal {
            Type          Port
            Position      [0, -25]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 25]
            Direction     down
          }
          Terminal {
            Type          Output
            Position      [14, 0]
            Direction     right
          }
          Schematic {
            Location      [197, 379; 977, 678]
            ZoomFactor    1
            SliderPosition [-1, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Port
              Name          "+"
              Show          on
              Position      [745, 170]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Port
              Name          "-"
              Show          on
              Position      [745, 250]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto1"
              Show          off
              Position      [425, 45]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "SOC"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          VarResistorVarCapacitor
              Name          "RC1"
              Show          on
              Position      [500, 170]
              Direction     left
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Coupling"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "v_init"
                Value         "0"
                Show          off
              }
            }
            Component {
              Type          VarResistorVarCapacitor
              Name          "RC2"
              Show          on
              Position      [600, 170]
              Direction     left
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Coupling"
                Value         "1"
                Show          off
              }
              Parameter {
                Variable      "v_init"
                Value         "0"
                Show          off
              }
            }
            Component {
              Type          VoltageSource
              Name          "V_OC"
              Show          on
              Position      [385, 210]
              Direction     down
              Flipped       on
              LabelPosition east
              Parameter {
                Variable      "DiscretizationBehavior"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "StateSpaceInlining"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Ammeter
              Name          "Am1"
              Show          off
              Position      [670, 170]
              Direction     left
              Flipped       off
              LabelPosition south
            }
            Component {
              Type          From
              Name          "From7"
              Show          off
              Position      [545, 150]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "R_TS"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          From
              Name          "From8"
              Show          off
              Position      [635, 150]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "R_TL"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          From
              Name          "From9"
              Show          off
              Position      [505, 95]
              Direction     up
              Flipped       on
              LabelPosition east
              Parameter {
                Variable      "Tag"
                Value         "C_TS"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          From
              Name          "From10"
              Show          off
              Position      [605, 90]
              Direction     up
              Flipped       on
              LabelPosition east
              Parameter {
                Variable      "Tag"
                Value         "C_TL"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          SignalMux
              Name          "Mux"
              Show          off
              Position      [610, 115]
              Direction     up
              Flipped       on
              LabelPosition east
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Constant
              Name          "Constant1"
              Show          off
              Position      [645, 100]
              Direction     right
              Flipped       on
              LabelPosition south
              Frame         [-10, -10; 10, 10]
              Parameter {
                Variable      "Value"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "10"
                Show          off
              }
            }
            Component {
              Type          SignalMux
              Name          "Mux1"
              Show          off
              Position      [510, 125]
              Direction     up
              Flipped       on
              LabelPosition east
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Constant
              Name          "Constant2"
              Show          off
              Position      [545, 110]
              Direction     right
              Flipped       on
              LabelPosition south
              Frame         [-10, -10; 10, 10]
              Parameter {
                Variable      "Value"
                Value         "0"
                Show          off
              }
              Parameter {
                Variable      "DataType"
                Value         "10"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto7"
              Show          off
              Position      [700, 140]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Tag"
                Value         "I"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          From
              Name          "From12"
              Show          off
              Position      [330, 210]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "V_OC"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Resistor
              Name          "R1"
              Show          on
              Position      [435, 170]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "R"
                Value         "0.07456"
                Show          off
              }
            }
            Component {
              Type          From
              Name          "From11"
              Show          off
              Position      [50, 110]
              Direction     left
              Flipped       on
              LabelPosition north
              Parameter {
                Variable      "Tag"
                Value         "SOC"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "1"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "VOC(SOC)"
              Show          on
              Position      [120, 30]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "-1.031*exp(-35*u)+3.685+0.2156*u-0.1178*u^2+.32"
"01*u^3"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "R_TS(SOC)"
              Show          on
              Position      [120, 70]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "0.3208*exp(-29.14*u)+0.04669"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "R_TL(SOC)"
              Show          on
              Position      [120, 155]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "6.603*exp(-155.2*u)+0.04984"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "C_TS(SOC)"
              Show          on
              Position      [120, 110]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "-752.9*exp(-13.51*u)+703.6"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "C_TL(SOC)"
              Show          on
              Position      [120, 195]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "-6056*exp(-27.12*u)+4475"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto2"
              Show          off
              Position      [235, 30]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "V_OC"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto3"
              Show          off
              Position      [235, 70]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "R_TS"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto4"
              Show          off
              Position      [235, 155]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "R_TL"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto5"
              Show          off
              Position      [235, 110]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "C_TS"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          Goto
              Name          "Goto6"
              Show          off
              Position      [235, 195]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Tag"
                Value         "C_TL"
                Show          off
              }
              Parameter {
                Variable      "Visibility"
                Value         "2"
                Show          off
              }
              Parameter {
                Variable      "NoMatchingCounterpartAction"
                Value         "3"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation1"
              Show          off
              Position      [175, 70]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "UpperLimit"
                Value         "inf"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "0"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation2"
              Show          off
              Position      [175, 110]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "UpperLimit"
                Value         "inf"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "100"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation3"
              Show          off
              Position      [175, 155]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "UpperLimit"
                Value         "inf"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "0"
                Show          off
              }
            }
            Component {
              Type          Saturation
              Name          "Saturation4"
              Show          off
              Position      [175, 195]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "UpperLimit"
                Value         "inf"
                Show          off
              }
              Parameter {
                Variable      "LowerLimit"
                Value         "500"
                Show          off
              }
            }
            Component {
              Type          Subsystem
              Name          "SOC"
              Show          on
              Position      [525, 45]
              Direction     up
              Flipped       off
              LabelPosition none
              Frame         [-40, -10; 40, 10]
              SampleTime    "-1"
              CodeGenDiscretizationMethod "2"
              CodeGenTarget "Generic"
              MaskIconFrame on
              MaskIconOpaque on
              MaskIconRotates on
              Terminal {
                Type          Input
                Position      [40, 0]
                Direction     right
              }
              Terminal {
                Type          Output
                Position      [-44, 0]
                Direction     left
              }
              Schematic {
                Location      [1041, 549; 1517, 802]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Component {
                  Type          Constant
                  Name          "Capacity"
                  Show          on
                  Position      [120, 80]
                  Direction     left
                  Flipped       on
                  LabelPosition north
                  Frame         [-10, -10; 10, 10]
                  Parameter {
                    Variable      "Value"
                    Value         "bat_cap"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "10"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "Gain"
                  Show          off
                  Position      [350, 135]
                  Direction     right
                  Flipped       on
                  LabelPosition south
                  Parameter {
                    Variable      "K"
                    Value         "-1"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "OutputDataType"
                    Value         "11"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataTypeOverflowMode"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "GainDataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Integrator
                  Name          "Integrator"
                  Show          off
                  Position      [290, 135]
                  Direction     right
                  Flipped       on
                  LabelPosition south
                  Parameter {
                    Variable      "ExternalReset"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "InitialConditionSource"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "x0"
                    Value         "0"
                    Show          off
                  }
                  Parameter {
                    Variable      "ShowStatePort"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "EnableWrapping"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "inf"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "-inf"
                    Show          off
                  }
                }
                Component {
                  Type          Product
                  Name          "Divide"
                  Show          off
                  Position      [225, 130]
                  Direction     down
                  Flipped       off
                  LabelPosition north
                  Parameter {
                    Variable      "IconShape"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "*/"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataTypeOverflowMode"
                    Value         "1"
                    Show          off
                  }
                }
                Component {
                  Type          Gain
                  Name          "Ah->As"
                  Show          on
                  Position      [200, 80]
                  Direction     right
                  Flipped       off
                  LabelPosition south
                  Parameter {
                    Variable      "K"
                    Value         "3600"
                    Show          off
                  }
                  Parameter {
                    Variable      "Multiplication"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "OutputDataType"
                    Value         "11"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataTypeOverflowMode"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "GainDataType"
                    Value         "11"
                    Show          off
                  }
                }
                Component {
                  Type          Sum
                  Name          "SOC1"
                  Show          on
                  Position      [170, 135]
                  Direction     down
                  Flipped       on
                  LabelPosition south
                  Parameter {
                    Variable      "IconShape"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "Inputs"
                    Value         "++"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "11"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataTypeOverflowMode"
                    Value         "1"
                    Show          off
                  }
                }
                Component {
                  Type          Constant
                  Name          "SOC_ini"
                  Show          on
                  Position      [255, 170]
                  Direction     right
                  Flipped       on
                  LabelPosition south
                  Frame         [-10, -10; 10, 10]
                  Parameter {
                    Variable      "Value"
                    Value         "SOC_init"
                    Show          off
                  }
                  Parameter {
                    Variable      "DataType"
                    Value         "10"
                    Show          off
                  }
                }
                Component {
                  Type          Saturation
                  Name          "Saturation"
                  Show          off
                  Position      [100, 135]
                  Direction     right
                  Flipped       on
                  LabelPosition south
                  Parameter {
                    Variable      "UpperLimit"
                    Value         "1"
                    Show          off
                  }
                  Parameter {
                    Variable      "LowerLimit"
                    Value         "0"
                    Show          off
                  }
                }
                Component {
                  Type          Input
                  Name          "I"
                  Show          on
                  Position      [430, 135]
                  Direction     right
                  Flipped       on
                  LabelPosition south
                  Parameter {
                    Variable      "Index"
                    Value         "1"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Component {
                  Type          Output
                  Name          "SOC"
                  Show          on
                  Position      [30, 135]
                  Direction     right
                  Flipped       on
                  LabelPosition south
                  Parameter {
                    Variable      "Index"
                    Value         "2"
                    Show          on
                  }
                  Parameter {
                    Variable      "Width"
                    Value         "-1"
                    Show          off
                  }
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Capacity"
                  SrcTerminal   1
                  DstComponent  "Ah->As"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Gain"
                  SrcTerminal   2
                  DstComponent  "Integrator"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Integrator"
                  SrcTerminal   2
                  DstComponent  "Divide"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Divide"
                  SrcTerminal   1
                  DstComponent  "SOC1"
                  DstTerminal   2
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Ah->As"
                  SrcTerminal   2
                  Points        [255, 80]
                  DstComponent  "Divide"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "SOC1"
                  SrcTerminal   1
                  DstComponent  "Saturation"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "SOC_ini"
                  SrcTerminal   1
                  Points        [205, 170; 205, 140]
                  DstComponent  "SOC1"
                  DstTerminal   3
                }
                Connection {
                  Type          Signal
                  SrcComponent  "I"
                  SrcTerminal   1
                  DstComponent  "Gain"
                  DstTerminal   1
                }
                Connection {
                  Type          Signal
                  SrcComponent  "Saturation"
                  SrcTerminal   2
                  DstComponent  "SOC"
                  DstTerminal   1
                }
              }
            }
            Component {
              Type          Output
              Name          "soc"
              Show          on
              Position      [410, 70]
              Direction     right
              Flipped       on
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Voltmeter
              Name          "Vm1"
              Show          off
              Position      [700, 210]
              Direction     up
              Flipped       off
              LabelPosition west
            }
            Connection {
              Type          Signal
              SrcComponent  "From7"
              SrcTerminal   1
              Points        [510, 150]
              DstComponent  "RC1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "From8"
              SrcTerminal   1
              Points        [610, 150]
              DstComponent  "RC2"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Constant1"
              SrcTerminal   1
              DstComponent  "Mux"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Mux"
              SrcTerminal   1
              DstComponent  "RC2"
              DstTerminal   4
            }
            Connection {
              Type          Signal
              SrcComponent  "From10"
              SrcTerminal   1
              DstComponent  "Mux"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Constant2"
              SrcTerminal   1
              DstComponent  "Mux1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "Mux1"
              SrcTerminal   1
              DstComponent  "RC1"
              DstTerminal   4
            }
            Connection {
              Type          Signal
              SrcComponent  "From9"
              SrcTerminal   1
              DstComponent  "Mux1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "Am1"
              SrcTerminal   3
              Points        [670, 140]
              Branch {
                DstComponent  "Goto7"
                DstTerminal   1
              }
              Branch {
                Points        [670, 45]
                DstComponent  "SOC"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "R_TS(SOC)"
              SrcTerminal   2
              DstComponent  "Saturation1"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "C_TS(SOC)"
              SrcTerminal   2
              DstComponent  "Saturation2"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "R_TL(SOC)"
              SrcTerminal   2
              DstComponent  "Saturation3"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "C_TL(SOC)"
              SrcTerminal   2
              DstComponent  "Saturation4"
              DstTerminal   1
            }
            Connection {
              Type          Wire
              SrcComponent  "Am1"
              SrcTerminal   1
              DstComponent  "RC2"
              DstTerminal   2
            }
            Connection {
              Type          Wire
              SrcComponent  "RC2"
              SrcTerminal   1
              DstComponent  "RC1"
              DstTerminal   2
            }
            Connection {
              Type          Wire
              SrcComponent  "RC1"
              SrcTerminal   1
              DstComponent  "R1"
              DstTerminal   1
            }
            Connection {
              Type          Wire
              SrcComponent  "R1"
              SrcTerminal   2
              Points        [385, 170]
              DstComponent  "V_OC"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "From12"
              SrcTerminal   1
              DstComponent  "V_OC"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "VOC(SOC)"
              SrcTerminal   2
              DstComponent  "Goto2"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation1"
              SrcTerminal   2
              DstComponent  "Goto3"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation2"
              SrcTerminal   2
              DstComponent  "Goto5"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation3"
              SrcTerminal   2
              DstComponent  "Goto4"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "Saturation4"
              SrcTerminal   2
              DstComponent  "Goto6"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "From11"
              SrcTerminal   1
              Points        [65, 110]
              Branch {
                Points        [65, 70]
                Branch {
                  DstComponent  "R_TS(SOC)"
                  DstTerminal   1
                }
                Branch {
                  Points        [65, 30]
                  DstComponent  "VOC(SOC)"
                  DstTerminal   1
                }
              }
              Branch {
                Points        [65, 110]
                Branch {
                  DstComponent  "C_TS(SOC)"
                  DstTerminal   1
                }
                Branch {
                  Points        [65, 155]
                  Branch {
                    DstComponent  "R_TL(SOC)"
                    DstTerminal   1
                  }
                  Branch {
                    Points        [65, 195]
                    DstComponent  "C_TL(SOC)"
                    DstTerminal   1
                  }
                }
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "SOC"
              SrcTerminal   2
              Points        [450, 45]
              Branch {
                DstComponent  "Goto1"
                DstTerminal   1
              }
              Branch {
                Points        [450, 70]
                DstComponent  "soc"
                DstTerminal   1
              }
            }
            Connection {
              Type          Wire
              SrcComponent  "+"
              SrcTerminal   1
              Points        [700, 170]
              Branch {
                DstComponent  "Am1"
                DstTerminal   2
              }
              Branch {
                DstComponent  "Vm1"
                DstTerminal   1
              }
            }
            Connection {
              Type          Wire
              SrcComponent  "V_OC"
              SrcTerminal   2
              Points        [385, 250; 700, 250]
              Branch {
                DstComponent  "-"
                DstTerminal   1
              }
              Branch {
                DstComponent  "Vm1"
                DstTerminal   2
              }
            }
            Annotation {
              Name          "Chen, M.; Ricon-Mora, G. A.;\"Accurate Electrical"
" Battery Model Capable of Predicting Runtime and I-V Performance\""
              Position      [385, 280]
            } 
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          on
          Position      [490, 90]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "soc"
          Show          on
          Position      [40, 130]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          on
          Position      [490, 165]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          VoltageSource
          Name          "V"
          Show          off
          Position      [380, 130]
          Direction     down
          Flipped       on
          LabelPosition east
          Parameter {
            Variable      "DiscretizationBehavior"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "StateSpaceInlining"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Ammeter
          Name          "Am2"
          Show          off
          Position      [410, 90]
          Direction     left
          Flipped       on
          LabelPosition south
        }
        Component {
          Type          Gain
          Name          "Gain"
          Show          off
          Position      [290, 60]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "1/n_parallel"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Voltmeter
          Name          "Vm1"
          Show          off
          Position      [205, 130]
          Direction     up
          Flipped       off
          LabelPosition west
        }
        Component {
          Type          Gain
          Name          "Gain1"
          Show          off
          Position      [295, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "n_series"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          CurrentSource
          Name          "I"
          Show          on
          Position      [160, 130]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "DiscretizationBehavior"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "StateSpaceInlining"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "Metallic\nContact Resistance"
          Show          on
          Position      [430, 165]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "R"
            Value         "1e-3"
            Show          off
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "V"
          SrcTerminal   1
          Points        [380, 90]
          DstComponent  "Am2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain1"
          SrcTerminal   2
          DstComponent  "V"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "Vm1"
          SrcTerminal   1
          Points        [205, 90; 160, 90]
          Branch {
            Points        [90, 90]
            DstComponent  "Cell"
            DstTerminal   1
          }
          Branch {
            DstComponent  "I"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "Vm1"
          SrcTerminal   2
          Points        [205, 165; 160, 165]
          Branch {
            Points        [90, 165]
            DstComponent  "Cell"
            DstTerminal   2
          }
          Branch {
            DstComponent  "I"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain"
          SrcTerminal   2
          Points        [185, 60]
          DstComponent  "I"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "V"
          SrcTerminal   2
          Points        [380, 165]
          DstComponent  "Metallic\nContact Resistance"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "Metallic\nContact Resistance"
          SrcTerminal   1
          DstComponent  "-"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Vm1"
          SrcTerminal   3
          DstComponent  "Gain1"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "+"
          SrcTerminal   1
          DstComponent  "Am2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Am2"
          SrcTerminal   3
          Points        [410, 60]
          DstComponent  "Gain"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Cell"
          SrcTerminal   3
          DstComponent  "soc"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          DCVoltageSource
      Name          "Vin3"
      Show          off
      Position      [1445, 1010]
      Direction     up
      Flipped       off
      LabelPosition west
      Parameter {
        Variable      "V"
        Value         "400"
        Show          on
      }
    }
    Component {
      Type          From
      Name          "From34"
      Show          off
      Position      [1345, 295]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From35"
      Show          off
      Position      [1345, 320]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Tag"
        Value         "v_bus"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "NoMatchingCounterpartAction"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "Scope2"
      Show          on
      Position      [1445, 320]
      Direction     up
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Location      [0, 25; 1440, 855]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADUA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABnAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABPAP///wAABaAAAAMjAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":185,\"Labels\":[],"
"\"VisualIdxs\":[]}"
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "1"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency / Hz"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux1"
      Show          off
      Position      [1395, 315]
      Direction     right
      Flipped       off
      LabelPosition south
      CommentOut    DisabledOpenCircuit
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R1"
      Show          on
      Position      [1530, 1000]
      Direction     up
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "R"
        Value         "10000"
        Show          off
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 2"
      SrcTerminal   2
      Points        [2030, 515; 2030, 580]
      Branch {
        Points        [2030, 645]
        DstComponent  "MOSFET and Diode 11"
        DstTerminal   2
      }
      Branch {
        DstComponent  "MOSFET and Diode 7"
        DstTerminal   2
      }
      Branch {
        Points        [1955, 580]
        Branch {
          DstComponent  "Vin1"
          DstTerminal   2
        }
        Branch {
          DstComponent  "Vin2"
          DstTerminal   1
        }
        Branch {
          Points        [1625, 580]
          Branch {
            DstComponent  "Vm8"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Vm9"
            DstTerminal   1
          }
        }
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "C5"
      SrcTerminal   1
      Points        [1545, 580]
      Branch {
        Points        [1525, 580]
        Branch {
          DstComponent  "Ground"
          DstTerminal   1
        }
        Branch {
          DstComponent  "Am8"
          DstTerminal   2
        }
      }
      Branch {
        DstComponent  "C4"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From2"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 3"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From5"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 4"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From13"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 12"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 5"
      SrcTerminal   2
      Points        [2230, 440]
      Branch {
        Points        [2130, 440]
        Branch {
          DstComponent  "MOSFET and Diode 1"
          DstTerminal   2
        }
        Branch {
          Points        [1955, 440]
          Branch {
            Points        [1625, 440]
            DstComponent  "Vm8"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Vin1"
            DstTerminal   1
          }
        }
      }
      Branch {
        Points        [2330, 440]
        DstComponent  "MOSFET and Diode 9"
        DstTerminal   2
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 8"
      SrcTerminal   3
      Points        [2230, 720]
      Branch {
        Points        [2130, 720]
        Branch {
          DstComponent  "MOSFET and Diode 4"
          DstTerminal   3
        }
        Branch {
          Points        [1955, 720]
          Branch {
            Points        [1625, 720]
            DstComponent  "Vm9"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Vin2"
            DstTerminal   2
          }
        }
      }
      Branch {
        Points        [2330, 720]
        DstComponent  "MOSFET and Diode 12"
        DstTerminal   3
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Am2"
      SrcTerminal   1
      Points        [730, 675]
      Branch {
        Points        [930, 675]
        Branch {
          Points        [1145, 675]
          Branch {
            Points        [1345, 675]
            Branch {
              Points        [1545, 675]
              Branch {
                DstComponent  "C5"
                DstTerminal   2
              }
              Branch {
                Points        [1580, 675]
                DstComponent  "R4"
                DstTerminal   2
              }
            }
            Branch {
              DstComponent  "Q3"
              DstTerminal   2
            }
          }
          Branch {
            DstComponent  "Vm7"
            DstTerminal   2
          }
        }
        Branch {
          DstComponent  "Q1"
          DstTerminal   2
        }
      }
      Branch {
        DstComponent  "C2"
        DstTerminal   2
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Vm6"
      SrcTerminal   2
      Points        [745, 1085]
      Branch {
        Points        [995, 1085]
        Branch {
          DstComponent  "Q5"
          DstTerminal   2
        }
        Branch {
          Points        [1160, 1085]
          Branch {
            DstComponent  "Vm10"
            DstTerminal   2
          }
          Branch {
            Points        [1445, 1085]
            Branch {
              DstComponent  "Vin3"
              DstTerminal   2
            }
            Branch {
              Points        [1530, 1085]
              DstComponent  "R1"
              DstTerminal   2
            }
          }
        }
      }
      Branch {
        Points        [690, 1085]
        Branch {
          Points        [545, 1085]
          DstComponent  "Li-ion\nRC Model"
          DstTerminal   3
        }
        Branch {
          DstComponent  "C3"
          DstTerminal   2
        }
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 10"
      SrcTerminal   2
      Points        [2330, 645]
      Branch {
        Points        [2375, 645; 2375, 535]
        DstComponent  "Lc3"
        DstTerminal   1
      }
      Branch {
        DstComponent  "MOSFET and Diode 12"
        DstTerminal   2
      }
      Branch {
        DstComponent  "MOSFET and Diode 9"
        DstTerminal   3
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux"
      SrcTerminal   3
      DstComponent  "SW B"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux"
      SrcTerminal   4
      Points        [2255, 1125; 2255, 1195]
      DstComponent  "SW C"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "SW A"
      SrcTerminal   4
      DstComponent  "Goto3"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW A"
      SrcTerminal   3
      DstComponent  "Goto2"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW A"
      SrcTerminal   2
      DstComponent  "Goto1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW B"
      SrcTerminal   1
      DstComponent  "Goto4"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW B"
      SrcTerminal   2
      DstComponent  "Goto5"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW B"
      SrcTerminal   3
      DstComponent  "Goto6"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW B"
      SrcTerminal   4
      DstComponent  "Goto7"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW C"
      SrcTerminal   4
      DstComponent  "Goto11"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW C"
      SrcTerminal   3
      DstComponent  "Goto10"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW C"
      SrcTerminal   2
      DstComponent  "Goto9"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW C"
      SrcTerminal   1
      DstComponent  "Goto8"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 1"
      SrcTerminal   3
      Points        [2130, 515]
      Branch {
        DstComponent  "Lc1"
        DstTerminal   1
      }
      Branch {
        Points        [2130, 515]
        Branch {
          DstComponent  "MOSFET and Diode 3"
          DstTerminal   2
        }
        Branch {
          DstComponent  "MOSFET and Diode 4"
          DstTerminal   2
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From1"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 2"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 1"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 5"
      SrcTerminal   3
      Points        [2230, 580]
      Branch {
        Points        [2230, 580]
        Branch {
          Points        [2365, 580; 2365, 525]
          DstComponent  "Lc2"
          DstTerminal   1
        }
        Branch {
          DstComponent  "MOSFET and Diode 6"
          DstTerminal   2
        }
      }
      Branch {
        DstComponent  "MOSFET and Diode 8"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From6"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 5"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From10"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 9"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From9"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 8"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From11"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 11"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From7"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 7"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From8"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 6"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   1
      DstComponent  "Lc1"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   2
      DstComponent  "Lc2"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   6
      DstComponent  "Grid"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   5
      DstComponent  "Grid"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   4
      DstComponent  "Grid"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From12"
      SrcTerminal   1
      DstComponent  "MOSFET and Diode 10"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux1"
      SrcTerminal   3
      DstComponent  "Gain"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux3"
      SrcTerminal   3
      DstComponent  "Gain1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux3"
      SrcTerminal   4
      Points        [2715, 1170; 2715, 1180; 2765, 1180; 2765, 1170; 2775, 1170]
      Branch {
        DstComponent  "SA2 Signals"
        DstTerminal   3
      }
      Branch {
        Points        [2775, 1115]
        DstComponent  "Assertions SA2"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Gain1"
      SrcTerminal   2
      Points        [2765, 1160]
      Branch {
        DstComponent  "SA2 Signals"
        DstTerminal   2
      }
      Branch {
        Points        [2765, 1105]
        DstComponent  "Assertions SA2"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux3"
      SrcTerminal   2
      Points        [2715, 1150; 2715, 1140; 2755, 1140]
      Branch {
        Points        [2785, 1140; 2785, 1150]
        DstComponent  "SA2 Signals"
        DstTerminal   1
      }
      Branch {
        Points        [2755, 1095]
        DstComponent  "Assertions SA2"
        DstTerminal   3
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Device SA1"
      SrcTerminal   1
      DstComponent  "Demux1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux1"
      SrcTerminal   6
      Points        [2695, 1035; 2695, 1075]
      DstComponent  "Periodic Average 4"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Periodic Average 4"
      SrcTerminal   1
      Points        [2785, 1075; 2785, 1035]
      DstComponent  "SA1 Signals"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux3"
      SrcTerminal   5
      Points        [2705, 1180; 2705, 1200]
      DstComponent  "Periodic\nImpulse Average1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Periodic\nImpulse Average1"
      SrcTerminal   1
      Points        [2775, 1200; 2775, 1180]
      DstComponent  "SA2 Signals"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "Device SA2"
      SrcTerminal   1
      DstComponent  "Demux3"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "SW A"
      SrcTerminal   1
      DstComponent  "Goto"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux1"
      SrcTerminal   5
      Points        [2705, 1025; 2705, 1045]
      DstComponent  "Periodic\nImpulse Average2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Periodic\nImpulse Average2"
      SrcTerminal   1
      Points        [2775, 1045; 2775, 1025]
      DstComponent  "SA1 Signals"
      DstTerminal   4
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 2"
      SrcTerminal   3
      DstComponent  "MOSFET and Diode 3"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 7"
      SrcTerminal   3
      DstComponent  "MOSFET and Diode 6"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "MOSFET and Diode 11"
      SrcTerminal   3
      DstComponent  "MOSFET and Diode 10"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux"
      SrcTerminal   2
      Points        [2255, 1105; 2255, 1035]
      DstComponent  "SW A"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Controller"
      SrcTerminal   1
      DstComponent  "Demux"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Vph"
      SrcTerminal   1
      DstComponent  "Controller"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Iph"
      SrcTerminal   1
      DstComponent  "Controller"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Vdc"
      SrcTerminal   1
      DstComponent  "Controller"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "phi"
      SrcTerminal   1
      DstComponent  "Sub"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub"
      SrcTerminal   3
      DstComponent  "Controller"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub"
      SrcTerminal   4
      DstComponent  "Controller"
      DstTerminal   6
    }
    Connection {
      Type          Signal
      SrcComponent  "Imag"
      SrcTerminal   1
      DstComponent  "Sub"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   3
      DstComponent  "Lc3"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux1"
      SrcTerminal   4
      Points        [2715, 1015; 2715, 1025; 2765, 1025; 2765, 1015; 2775, 1015]
      Branch {
        DstComponent  "SA1 Signals"
        DstTerminal   3
      }
      Branch {
        Points        [2775, 960]
        DstComponent  "Assertions SA1"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux1"
      SrcTerminal   2
      Points        [2715, 995; 2715, 985; 2755, 985]
      Branch {
        Points        [2785, 985; 2785, 995]
        DstComponent  "SA1 Signals"
        DstTerminal   1
      }
      Branch {
        Points        [2755, 940]
        DstComponent  "Assertions SA1"
        DstTerminal   3
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Gain"
      SrcTerminal   2
      Points        [2765, 1005]
      Branch {
        DstComponent  "SA1 Signals"
        DstTerminal   2
      }
      Branch {
        Points        [2765, 950]
        DstComponent  "Assertions SA1"
        DstTerminal   2
      }
    }
    Connection {
      Type          HeatPipe
      SrcComponent  "Rth_ha"
      SrcTerminal   1
      DstComponent  "Heat Sink1"
      DstTerminal   1
    }
    Connection {
      Type          HeatPipe
      SrcComponent  "Rth_ha"
      SrcTerminal   2
      DstComponent  "T_ambient"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Modulator"
      SrcTerminal   1
      Points        [2540, 480; 2540, 470]
      DstComponent  "Grid Connection\nand Modulator"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Assertions"
      SrcTerminal   1
      DstComponent  "Demux2"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux3"
      SrcTerminal   6
      Points        [2695, 1190; 2695, 1230; 2785, 1230; 2785, 1190]
      DstComponent  "SA2 Signals"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Switch Loss\nCalculator"
      SrcTerminal   1
      Points        [2715, 1275]
      Branch {
        DstComponent  "Losses (W)"
        DstTerminal   1
      }
      Branch {
        Points        [2715, 1345]
        DstComponent  "Thermal Analysis"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Junction Temperatures"
      SrcTerminal   1
      Points        [2705, 1330; 2705, 1355]
      DstComponent  "Thermal Analysis"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux2"
      SrcTerminal   2
      DstComponent  "Thermal Analysis"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux2"
      SrcTerminal   3
      DstComponent  "Thermal Analysis"
      DstTerminal   4
    }
    Connection {
      Type          Wire
      SrcComponent  "Am2"
      SrcTerminal   2
      Points        [585, 675]
      Branch {
        Points        [550, 675]
        DstComponent  "PV"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Vm5"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "PV V, I"
      SrcTerminal   1
      DstComponent  "Sub1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From15"
      SrcTerminal   1
      Points        [1360, 170; 1360, 165]
      DstComponent  "P vs V"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From16"
      SrcTerminal   1
      Points        [1360, 225; 1360, 220]
      DstComponent  "I vs V"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub1"
      SrcTerminal   4
      Points        [1185, 180; 1185, 190]
      DstComponent  "Goto14"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub1"
      SrcTerminal   1
      Points        [1185, 160; 1185, 150]
      DstComponent  "Goto15"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub1"
      SrcTerminal   2
      DstComponent  "Goto16"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From17"
      SrcTerminal   1
      Points        [1360, 150; 1360, 155]
      DstComponent  "P vs V"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From19"
      SrcTerminal   1
      Points        [1360, 205; 1360, 210]
      DstComponent  "I vs V"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "Am"
      SrcTerminal   2
      DstComponent  "L2"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From20"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nPV Boost"
      DstTerminal   4
    }
    Connection {
      Type          Wire
      SrcComponent  "D4"
      SrcTerminal   1
      Points        [930, 495]
      Branch {
        DstComponent  "R3"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Q1"
        DstTerminal   1
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "R3"
      SrcTerminal   1
      DstComponent  "L2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Am"
      SrcTerminal   3
      Points        [760, 515]
      Branch {
        DstComponent  "Goto18"
        DstTerminal   1
      }
      Branch {
        Points        [760, 540]
        DstComponent  "i_bst"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From25"
      SrcTerminal   1
      DstComponent  "Q1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From26"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nPV Boost"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From27"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nPV Boost"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  base64 "VGVtcCBbMDo1MF0gwrpD"
      SrcTerminal   1
      Points        [525, 595]
      DstComponent  "PV"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "Irradiance"
      SrcTerminal   1
      Points        [525, 550]
      DstComponent  "PV"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "Vm5"
      SrcTerminal   1
      Points        [585, 495]
      Branch {
        Points        [550, 495]
        DstComponent  "PV"
        DstTerminal   1
      }
      Branch {
        Points        [730, 495]
        Branch {
          DstComponent  "Am"
          DstTerminal   1
        }
        Branch {
          DstComponent  "C2"
          DstTerminal   1
        }
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "L1"
      SrcTerminal   1
      DstComponent  "R6"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "R6"
      SrcTerminal   2
      Points        [745, 905]
      Branch {
        Points        [690, 905]
        Branch {
          DstComponent  "C3"
          DstTerminal   1
        }
        Branch {
          DstComponent  "Am4"
          DstTerminal   2
        }
      }
      Branch {
        DstComponent  "Vm6"
        DstTerminal   1
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Q5"
      SrcTerminal   1
      Points        [995, 905]
      Branch {
        DstComponent  "Q4"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Am5"
        DstTerminal   2
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "L1"
      SrcTerminal   2
      DstComponent  "Am5"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "Vm7"
      SrcTerminal   1
      Points        [1145, 495]
      Branch {
        DstComponent  "D4"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Am7"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From28"
      SrcTerminal   1
      DstComponent  "Q4"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From29"
      SrcTerminal   1
      DstComponent  "Q5"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "DC/DC Controller\nBAT BuckBoost"
      SrcTerminal   2
      DstComponent  "Goto27"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "DC/DC Controller\nBAT BuckBoost"
      SrcTerminal   3
      DstComponent  "Goto28"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From21"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nBAT BuckBoost"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "From23"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nBAT BuckBoost"
      DstTerminal   6
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm7"
      SrcTerminal   3
      Points        [1160, 590]
      Branch {
        DstComponent  "Goto25"
        DstTerminal   1
      }
      Branch {
        Points        [1160, 625]
        DstComponent  "v_bus"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "DC/DC Controller\nPV Boost"
      SrcTerminal   3
      DstComponent  "Goto24"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm5"
      SrcTerminal   3
      Points        [610, 580]
      Branch {
        DstComponent  "Goto23"
        DstTerminal   1
      }
      Branch {
        Points        [610, 610]
        DstComponent  "Display1"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm6"
      SrcTerminal   3
      Points        [765, 990]
      Branch {
        Points        [765, 960]
        DstComponent  "Goto20"
        DstTerminal   1
      }
      Branch {
        DstComponent  "Display2"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From30"
      SrcTerminal   1
      DstComponent  "Product"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From31"
      SrcTerminal   1
      Points        [1200, 1460]
      DstComponent  "Product"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From32"
      SrcTerminal   1
      DstComponent  "Product1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From33"
      SrcTerminal   1
      Points        [1180, 1530; 1180, 1510]
      DstComponent  "Product1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Product1"
      SrcTerminal   1
      Points        [1300, 1505; 1300, 1445]
      DstComponent  "Scope"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From24"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nBAT BuckBoost"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "Voltage Setpoint"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nBAT BuckBoost"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   9
      Points        [2465, 585; 2480, 585]
      Branch {
        Points        [2525, 585; 2525, 525]
        DstComponent  "Grid"
        DstTerminal   4
      }
      Branch {
        DstComponent  "Ground1"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm8"
      SrcTerminal   3
      DstComponent  "Display3"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm9"
      SrcTerminal   3
      DstComponent  "Display4"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "Q2"
      SrcTerminal   2
      Points        [1345, 580]
      Branch {
        DstComponent  "Q3"
        DstTerminal   1
      }
      Branch {
        DstComponent  "L3"
        DstTerminal   1
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Am8"
      SrcTerminal   1
      DstComponent  "L3"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Am8"
      SrcTerminal   3
      Points        [1445, 540; 1390, 540; 1390, 515]
      DstComponent  "Display5"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From22"
      SrcTerminal   1
      DstComponent  "DC/DC Controller\nPV Boost"
      DstTerminal   5
    }
    Connection {
      Type          Signal
      SrcComponent  "Constant"
      SrcTerminal   1
      DstComponent  "Goto29"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From18"
      SrcTerminal   1
      Points        [1325, 1415]
      Branch {
        Points        [1335, 1415; 1335, 1425]
        DstComponent  "Scope"
        DstTerminal   1
      }
      Branch {
        Points        [1325, 1355]
        DstComponent  "Sum1"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Product"
      SrcTerminal   1
      Points        [1350, 1435]
      Branch {
        DstComponent  "Scope"
        DstTerminal   2
      }
      Branch {
        Points        [1350, 1365]
        DstComponent  "Sum1"
        DstTerminal   3
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum1"
      SrcTerminal   1
      DstComponent  "Display6"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Am7"
      SrcTerminal   3
      Points        [1215, 475]
      Branch {
        DstComponent  "Goto26"
        DstTerminal   1
      }
      Branch {
        Points        [1215, 435]
        DstComponent  "Display9"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Am4"
      SrcTerminal   3
      Points        [610, 875]
      DstComponent  "Display8"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Am5"
      SrcTerminal   3
      Points        [915, 885]
      Branch {
        DstComponent  "Goto19"
        DstTerminal   1
      }
      Branch {
        Points        [915, 865]
        DstComponent  "Display7"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "3ph Meter"
      SrcTerminal   7
      Points        [2460, 450; 2470, 450]
      Branch {
        DstComponent  "Grid Connection\nand Modulator"
        DstTerminal   1
      }
      Branch {
        Points        [2470, 325]
        DstComponent  "Demux4"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "3ph Meter"
      SrcTerminal   8
      Points        [2470, 460; 2495, 460]
      Branch {
        DstComponent  "Grid Connection\nand Modulator"
        DstTerminal   2
      }
      Branch {
        Points        [2495, 370]
        DstComponent  "Demux5"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux4"
      SrcTerminal   2
      Points        [2575, 315; 2575, 340]
      DstComponent  "Mux"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Demux5"
      SrcTerminal   2
      Points        [2575, 360; 2575, 350]
      DstComponent  "Mux"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux"
      SrcTerminal   1
      Points        [2620, 345; 2620, 355]
      DstComponent  "Scope1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Am2"
      SrcTerminal   3
      Points        [695, 700]
      DstComponent  "Goto22"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Vm10"
      SrcTerminal   3
      Points        [1175, 990]
      Branch {
        Points        [1175, 960]
        DstComponent  "Goto21"
        DstTerminal   1
      }
      Branch {
        Points        [1180, 990; 1180, 1035]
        DstComponent  "Display10"
        DstTerminal   1
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Am4"
      SrcTerminal   1
      Points        [545, 905]
      DstComponent  "Li-ion\nRC Model"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Li-ion\nRC Model"
      SrcTerminal   2
      Points        [520, 990; 520, 1125]
      Branch {
        DstComponent  "Battery\nSOC"
        DstTerminal   1
      }
      Branch {
        Points        [520, 1190]
        DstComponent  "Display"
        DstTerminal   1
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Q2"
      SrcTerminal   1
      Points        [1345, 495]
      Branch {
        Points        [1545, 495]
        Branch {
          DstComponent  "C4"
          DstTerminal   1
        }
        Branch {
          Points        [1580, 495]
          DstComponent  "R4"
          DstTerminal   1
        }
      }
      Branch {
        DstComponent  "Am7"
        DstTerminal   2
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "Q4"
      SrcTerminal   1
      Points        [1160, 905]
      Branch {
        DstComponent  "Vm10"
        DstTerminal   1
      }
      Branch {
        Points        [1445, 905]
        Branch {
          DstComponent  "Vin3"
          DstTerminal   1
        }
        Branch {
          Points        [1530, 905]
          DstComponent  "R1"
          DstTerminal   1
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From34"
      SrcTerminal   1
      Points        [1370, 295; 1370, 310]
      DstComponent  "Mux1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From35"
      SrcTerminal   1
      DstComponent  "Mux1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux1"
      SrcTerminal   1
      Points        [1410, 315; 1410, 320]
      DstComponent  "Scope2"
      DstTerminal   1
    }
    Annotation {
      Name          base64 "PGh0bWw+PGJvZHk+CjxwIGFsaWduPSJjZW50ZXIiPjxzcGFuIH"
"N0eWxlPSIgZm9udC1zaXplOjIycHg7Ij7nlLXmsaDlhYXmlL7nlLU8L3NwYW4+PC9wPjwvYm9keT4"
"8L2h0bWw+"
      Position      [115, 1995]
    } 
    Annotation {
      Name          "<html><body>\n<p><span style=\" font-size:10px;\">Conduct"
"ion</span></p>\n<p><span style=\" font-size:10px;\"> </span></p>\n<p><span st"
"yle=\" font-size:10px;\">Switching</span></p>\n<p><span style=\" font-size:10"
"px;\"> </span></p>\n<p><span style=\" font-size:10px;\">Total</span></p></bod"
"y></html>"
      Position      [2845, 1275]
    } 
    Annotation {
      Name          base64 "PGh0bWw+PGJvZHk+CjxwIGFsaWduPSJjZW50ZXIiPjxzcGFuIH"
"N0eWxlPSIgZm9udC1zaXplOjIycHg7Ij7kuInnm7jlgqjog73pgIblj5jlmag8L3NwYW4+PC9wPjw"
"vYm9keT48L2h0bWw+"
      Position      [85, 25]
    } 
    Annotation {
      Name          base64 "PGh0bWw+PGJvZHk+CjxwPjxzcGFuIHN0eWxlPSIgZm9udC1zaX"
"plOjIycHg7Ij5U5Z6L6YCG5Y+Y5ZmoPC9zcGFuPjwvcD48L2JvZHk+PC9odG1sPg=="
      Position      [3205, 90]
    } 
    Annotation {
      Name          base64 "PGh0bWw+PGJvZHk+CjxwPuWFieW8uuW6pjwvcD48L2JvZHk+PC"
"9odG1sPg=="
      Position      [485, 525]
    } 
    Annotation {
      Name          base64 "PGh0bWw+PGJvZHk+CjxwPm1wcHQg5pyJ6Zeu6aKY5pqC5LiN5L"
"2/6IO9PC9wPjwvYm9keT48L2h0bWw+"
      Position      [635, 125]
    } 
  }
  Analysis {
    Type          SteadyStateAnalysis
    Name          "Steady-State Analysis"
    OperatingPoint "1"
    TimeSpan      "1/F"
    StartTime     "0"
    Tolerance     "1e-3"
    MaxIter       "20"
    JacobianPerturbation "1e-4"
    JacobianCalculation "2"
    InitCycles    "0"
    ShowCycles    "2"
    MaxNumberOfThreads "-1"
  }
  Script {
    Name          "Power Factor Efficiency Sweep at Rated Current"
    Script        "close all\nplecs('clc');\n\n% Determine sim start time\ntic"
"\n\n% Define line frequency and cursor times\nF = 60; t1 = 1/F; t2 = 2/F;\n\n"
"% create simStruct with field 'ModelVars' and 'SolverOpts' for stop time\nmdl"
"Vars = struct('iMag',1,'phi', 0, 'modScheme', 1);\nsolverOpts = struct('StopT"
"ime', t2);\n\n% Parametric values to be swept\nphiPuAnalyze =  linspace(-1,1,"
"9);  % power factor angle setpoint in per unit (phi/pi)\n% Below is used to r"
"eproduce the losses/temperature vs PF sweeping result (Fig. 7 in the demo doc"
"umentation)\n% phiPuAnalyze =  linspace(-1,1,13); \nmodSchemeNames = {'SPWM',"
"'SVPWM','THIPWM','THZSPWM','DPWM1'}; % Different modulation schemes.\nmodAnal"
"yzeIdxs = [1,2,3,4,5]; % Iterate over all modulation schemes\n\n% Name of sco"
"pe used to extract signals\nthermalScope = './Thermal Analysis'; \n\n% Clear "
"all previous traces in scope in the current model\nplecs('scope', thermalScop"
"e , 'ClearTraces');\n\n% Names for data returned from callback\nretNames = {'"
"condLoss','swLoss','totalLoss','maxTempSA1','maxTempSA2','assertSA1','assertS"
"A2'};\nmodNames = modSchemeNames(modAnalyzeIdxs);\n\n% Define callback for pa"
"rallel simulation run\nfunction ret = callback(runIndex)\n\t phiSet    = simS"
"tructs{runIndex}.ModelVars.phi;\n\t modIdx = simStructs{runIndex}.ModelVars.m"
"odScheme;\n\t modName   = modSchemeNames{modIdx};\n\n    fprintf('--Sim end %"
"s modulation and %4.2f p.u. angle. \\n', modName, phiSet/pi);\n\n    % Store "
"the scope data for analysis\n    scopeData = plecs('scope', thermalScope, 'Ge"
"tCursorData', [t1 t2], 'mean', 'max'); \n\n    % Get average device losses ov"
"er one period\n    condLoss   = scopeData.cursorData{1}{1}.mean;\n    swLoss "
"    = scopeData.cursorData{1}{2}.mean;\n    totalLoss  = scopeData.cursorData"
"{1}{3}.mean;\n    % Get peak junction tempeature over one period    \t\n    m"
"axTempSA1 = scopeData.cursorData{2}{1}.max;\n    maxTempSA2 = scopeData.curso"
"rData{2}{2}.max; \t\n    % Determine if any assertions were generated by look"
"ing at mean value of trace\n    assertSA1  = any([[scopeData.cursorData{3}{:}"
"].mean]<1.0);\n    assertSA2  = any([[scopeData.cursorData{4}{:}].mean]<1.0);"
"\n    \n    % Return only relevant operating information to main script\n    "
"ret=[condLoss,\n    \t\tswLoss,\n    \t\ttotalLoss,\n    \t\tmaxTempSA1,\n   "
" \t\tmaxTempSA2,\n    \t\tassertSA1,\n    \t\tassertSA2];\nend\n\n\n% Constru"
"ct simStructs to iterate over the desired modulation schemes and phase angles"
". \nrunIndex = 1;\nfor modIdx = modAnalyzeIdxs\n    % Iterate over different "
"phase angles for a given modulation scheme\n    for phiPuSet = phiPuAnalyze\n"
"    \t  simStructs{runIndex}.Name = sprintf('Modulation Scheme %s @ %4.2f Ang"
"le',modSchemeNames{modIdx},phiPuSet);\n        %Set modulation scheme and pha"
"se angle setpoint\n        simStructs{runIndex}.ModelVars.modScheme = modIdx;"
"\n        simStructs{runIndex}.ModelVars.phi  = phiPuSet*pi;\n        runInde"
"x += 1;\n    end\nend\n\n% Since there is a strong thermal dependence on effi"
"ciency, we should use steady-state analysis.\nsimData = plecs('analyze', 'Ste"
"ady-State Analysis', simStructs, @(i) callback(i));\n\n% Reformat parallel si"
"mulation results from cells into a results struct with useful field names.\nr"
"esults = struct();\nr1=reshape(simData,numel(phiPuAnalyze),numel(modAnalyzeId"
"xs))';\nfor n = 1:numel(modAnalyzeIdxs)\n  % place data for each modulation s"
"cheme over all angles in matrix\n  r2=[r1{n,:}];\n  % assign table data to fi"
"eld in results structure\n  for m = 1:numel(retNames)\n    results.(modNames{"
"n}).(retNames{m})=r2(m,:);\n  end\nend\n\n\n%Export numeric results for post "
"processing.\nsave(\"-text\",\"ThermalSweepResults.mat\",\"results\")\n\n\n%%%"
"%%%%%%%%%%%%%%%%%%%%%\n% Begin Plotting\n%%%%%%%%%%%%%%%%%%%%%%%%\n\nfigure "
"\ncolorLegend = 'grbmc'; % Color assigned to each modulation scheme\nsubplot "
"(2, 1, 1)\nlegendHandle = [];     % Placeholder for legend\nfor modIdx = modA"
"nalyzeIdxs\n    hold on\n    modName=modSchemeNames{modIdx};\n    % Plot loss"
" curve.  Retain axis handle for legend.\n    hax = plot(phiPuAnalyze,results."
"(modName).totalLoss,colorLegend(modIdx));\n    legendHandle = [legendHandle,h"
"ax];\n    % Create curve marking cases with any assertions with a red \"X\"\n"
"    assertFilt = logical(results.(modName).assertSA1 | results.(modName).asse"
"rtSA2 );\n    plot(phiPuAnalyze(assertFilt),results.(modName).totalLoss(asser"
"tFilt),'xr')\nend\n\ntitle ('Total Losses');\nxlabel ('Power Factor Angle \\p"
"hi/\\pi (p.u.)');\nylabel ('Total Loss (W)');\ngrid on;\nlegend (legendHandle"
",modSchemeNames(modAnalyzeIdxs),'location','southoutside','orientation','hori"
"zontal');\nlegend boxoff;\n\nsubplot (2, 1, 2)\n% Legend name and handles\nth"
"ermLegendA1 = [];\nthermLegendA2 = [];\nlegendHandleA1 = [];\nlegendHandleA2 "
"= [];\n\nfor modIdx = modAnalyzeIdxs\n    hold on\n    modName=modSchemeNames"
"{modIdx};\n    % Plot temperature curves. Retain axis handle for legend.\n   "
" haxA1 = plot(phiPuAnalyze,results.(modName).maxTempSA1,[colorLegend(modIdx),"
"'-']);\n    haxA2 = plot(phiPuAnalyze,results.(modName).maxTempSA2,[colorLege"
"nd(modIdx),'--']);\n\n    % Create separate legend entries for SA1 and SA2\n "
"   legendHandleA1 = [legendHandleA1,haxA1];\n    legendHandleA2 = [legendHand"
"leA2,haxA2]; \n    thermLegendA1 = [thermLegendA1, strcat({'S1 '},modName)];"
"\n    thermLegendA2 = [thermLegendA2, strcat({'S2 '},modName)];\n  \n    % Cr"
"eate curve marking cases with any assertions with a red \"X\"\n    assertFilt"
"SA1 = logical(results.(modName).assertSA1);\n    assertFiltSA2 = logical(resu"
"lts.(modName).assertSA2);\n    plot(phiPuAnalyze(assertFiltSA1),results.(modN"
"ame).maxTempSA1(assertFiltSA1),'xr')\n    plot(phiPuAnalyze(assertFiltSA2),re"
"sults.(modName).maxTempSA2(assertFiltSA2),'xr')\nend\n\ntitle ('Junction Temp"
"eratures');\nxlabel ('Power Factor Angle \\phi/\\pi (p.u.)');\nylabel ('Tempe"
"rature (C)');\ngrid on;\n\n% Create and align thermal legends for SA1 and SA2"
"\nah1 = gca; \nah2 = axes('position',get(gca,'position'), 'visible','off');\n"
"lA1 = legend(ah1,legendHandleA1,thermLegendA1,'location','southoutside','orie"
"ntation','horizontal');\nlA2 = legend(ah2,legendHandleA2,thermLegendA2,'locat"
"ion','southoutside','orientation','horizontal');\n% Shift legend for A1 temps"
" upwards\nlA1pos = get (lA1, 'position');\nset(lA1,'position', lA1pos + [0 0."
"05 0 0.0])\nset(lA1,'box', 'off')\nset(lA2,'box', 'off')\n\nset (0, \"default"
"axesfontname\", \"DIN Offc\")\nset (0, \"defaultaxesfontsize\", 12) \n\n% Sav"
"e figure as PDF. 14x12cm = 827 x 709 pixels at 150 DPI  \nprint('ddevice','pd"
"fCrop','ThermalSweepResults_parallel.pdf','-S827,709','-r150')\n\n% Determine"
" sim end time\ntoc\n"
  }
}
DemoSignature "pqWvsu7V1e03uYAF5Myluez/9ghNmCMyuscdxpKR3pQ="
